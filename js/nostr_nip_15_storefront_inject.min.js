/*! For license information please see main.8497b3ca.js.LICENSE.txt */
(()=>{var __webpack_modules__={538:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=void 0;var i=n(421),o=n(656),s=n(319);function a(e,t,n,r,i,o){var s=this.events[e];if(s){if(0===s.length)return!1;if(s.argsNum<6)s.call(t,n,r,i,o);else{for(var a=new Array(s.argsNum),l=0,u=a.length;l<u;++l)a[l]=arguments[l+1];s.call.apply(void 0,a)}return!0}return!1}function l(e,t,n,r,i,o){var s,a=this.events[e];if(void 0!==a){if(0===a.length)return!1;if(a.argsNum<6)a.call(t,n,r,i,o);else{for(var l=0,u=(s=new Array(a.argsNum)).length;l<u;++l)s[l]=arguments[l+1];a.call.apply(void 0,s)}}var c=this.onceEvents[e];if(c){if("function"===typeof c)if(this.onceEvents[e]=void 0,arguments.length<6)c(t,n,r,i,o);else{if(void 0===s)for(l=0,u=(s=new Array(arguments.length-1)).length;l<u;++l)s[l]=arguments[l+1];c.apply(void 0,s)}else{var d=c;if(this.onceEvents[e]=void 0,arguments.length<6)for(l=0;l<d.length;++l)d[l](t,n,r,i,o);else{if(void 0===s)for(l=0,u=(s=new Array(arguments.length-1)).length;l<u;++l)s[l]=arguments[l+1];for(l=0;l<d.length;++l)d[l].apply(void 0,s)}}return!0}return void 0!==a}var u=function(){function e(){this.events=(0,s.nullObj)(),this.onceEvents=(0,s.nullObj)(),this._symbolKeys=new Set,this.maxListeners=1/0}return Object.defineProperty(e.prototype,"_eventsCount",{get:function(){return this.eventNames().length},enumerable:!1,configurable:!0}),e}();function c(e,t,n){if(void 0===n&&(n=t.length),"function"!==typeof t)throw new TypeError("The listener must be a function");var r=this.events[e];return r?(r.push(t),r.growArgsNum(n),this.maxListeners!==1/0&&this.maxListeners<=r.length&&console.warn('Maximum event listeners for "'.concat(String(e),'" event!'))):(this.events[e]=new i.TaskCollection(n,!0,t,!1),"symbol"===typeof e&&this._symbolKeys.add(e)),this}function d(e,t){var n=this.events[e];n&&n.removeLast(t);var r=this.onceEvents[e];return r&&("function"===typeof r?this.onceEvents[e]=void 0:"object"===typeof r&&(1===r.length&&r[0]===t?this.onceEvents[e]=void 0:(0,o._fast_remove_single)(r,r.lastIndexOf(t)))),this}t.EventEmitter=u,u.prototype.emit=a,u.prototype.on=c,u.prototype.once=function(e,t){switch(this.emit===a&&(this.emit=l),typeof this.onceEvents[e]){case"undefined":this.onceEvents[e]=t,"symbol"===typeof e&&this._symbolKeys.add(e);break;case"function":this.onceEvents[e]=[this.onceEvents[e],t];break;case"object":this.onceEvents[e].push(t)}return this},u.prototype.addListener=c,u.prototype.removeListener=d,u.prototype.addListenerBound=function(e,t,n,r){void 0===n&&(n=this),void 0===r&&(r=t.length),this.boundFuncs||(this.boundFuncs=new Map);var i=t.bind(n);return this.boundFuncs.set(t,i),this.addListener(e,i,r)},u.prototype.removeListenerBound=function(e,t){var n,r,i=null===(n=this.boundFuncs)||void 0===n?void 0:n.get(t);return null===(r=this.boundFuncs)||void 0===r||r.delete(t),this.removeListener(e,i)},u.prototype.hasListeners=function(e){return this.events[e]&&!!this.events[e].length},u.prototype.prependListener=function(e,t,n){if(void 0===n&&(n=t.length),"function"!==typeof t)throw new TypeError("The listener must be a function");var r=this.events[e];return r&&r instanceof i.TaskCollection?(r.insert(0,t),r.growArgsNum(n),this.maxListeners!==1/0&&this.maxListeners<=r.length&&console.warn('Maximum event listeners for "'.concat(String(e),'" event!'))):(r=this.events[e]=new i.TaskCollection(n,!0,t,!1),"symbol"===typeof e&&this._symbolKeys.add(e)),this},u.prototype.prependOnceListener=function(e,t){this.emit===a&&(this.emit=l);var n=this.onceEvents[e];return n?"object"!==typeof n?(this.onceEvents[e]=[t,n],"symbol"===typeof e&&this._symbolKeys.add(e)):(n.unshift(t),this.maxListeners!==1/0&&this.maxListeners<=n.length&&console.warn('Maximum event listeners for "'.concat(String(e),'" once event!'))):(this.onceEvents[e]=[t],"symbol"===typeof e&&this._symbolKeys.add(e)),this},u.prototype.off=d,u.prototype.removeAllListeners=function(e){return void 0===e?(this.events=(0,s.nullObj)(),this.onceEvents=(0,s.nullObj)(),this._symbolKeys=new Set):(this.events[e]=void 0,this.onceEvents[e]=void 0,"symbol"===typeof e&&this._symbolKeys.delete(e)),this},u.prototype.setMaxListeners=function(e){return this.maxListeners=e,this},u.prototype.getMaxListeners=function(){return this.maxListeners},u.prototype.listeners=function(e){return this.emit===a?this.events[e]?this.events[e].tasksAsArray().slice():[]:this.events[e]&&this.onceEvents[e]?r(r([],this.events[e].tasksAsArray(),!0),"function"===typeof this.onceEvents[e]?[this.onceEvents[e]]:this.onceEvents[e],!0):this.events[e]?this.events[e].tasksAsArray():this.onceEvents[e]?"function"===typeof this.onceEvents[e]?[this.onceEvents[e]]:this.onceEvents[e]:[]},u.prototype.eventNames=function(){var e=this;if(this.emit===a){var t=Object.keys(this.events);return r(r([],t,!0),Array.from(this._symbolKeys),!0).filter((function(t){return t in e.events&&e.events[t]&&e.events[t].length}))}t=Object.keys(this.events).filter((function(t){return e.events[t]&&e.events[t].length}));var n=Object.keys(this.onceEvents).filter((function(t){return e.onceEvents[t]&&e.onceEvents[t].length}));return r(r(r([],t,!0),n,!0),Array.from(this._symbolKeys).filter((function(t){return t in e.events&&e.events[t]&&e.events[t].length||t in e.onceEvents&&e.onceEvents[t]&&e.onceEvents[t].length})),!0)},u.prototype.listenerCount=function(e){return this.emit===a?this.events[e]&&this.events[e].length||0:(this.events[e]&&this.events[e].length||0)+(this.onceEvents[e]&&this.onceEvents[e].length||0)}},246:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(299),t),i(n(538),t)},877:(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bakeCollectionVariadic=exports.bakeCollectionAwait=exports.bakeCollection=exports.BAKED_EMPTY_FUNC=void 0,exports.BAKED_EMPTY_FUNC=function(){};var FORLOOP_FALLBACK=1500;function generateArgsDefCode(e){var t="";if(0===e)return t;for(var n=0;n<e-1;++n)t+="arg"+String(n)+", ";return t+="arg"+String(e-1)}function generateBodyPartsCode(e,t){for(var n="",r="",i=0;i<t;++i)n+="var f".concat(i," = collection[").concat(i,"];\n"),r+="f".concat(i,"(").concat(e,")\n");return{funcDefCode:n,funcCallCode:r}}function generateBodyPartsVariadicCode(e){for(var t="",n="",r=0;r<e;++r)t+="var f".concat(r," = collection[").concat(r,"];\n"),n+="f".concat(r,".apply(undefined, arguments)\n");return{funcDefCode:t,funcCallCode:n}}function bakeCollection(collection,fixedArgsNum){if(0===collection.length)return exports.BAKED_EMPTY_FUNC;if(1===collection.length)return collection[0];var funcFactoryCode;if(collection.length<FORLOOP_FALLBACK){var argsDefCode=generateArgsDefCode(fixedArgsNum),_a=generateBodyPartsCode(argsDefCode,collection.length),funcDefCode=_a.funcDefCode,funcCallCode=_a.funcCallCode;funcFactoryCode="(function(collection) {\n            ".concat(funcDefCode,"\n            collection = undefined;\n            return (function(").concat(argsDefCode,") {\n                ").concat(funcCallCode,"\n            });\n        })")}else{var argsDefCode=generateArgsDefCode(fixedArgsNum);funcFactoryCode=collection.length%10===0?"(function(collection) {\n                return (function(".concat(argsDefCode,") {\n                    for (var i = 0; i < collection.length; i += 10) {\n                        collection[i](").concat(argsDefCode,");\n                        collection[i+1](").concat(argsDefCode,");\n                        collection[i+2](").concat(argsDefCode,");\n                        collection[i+3](").concat(argsDefCode,");\n                        collection[i+4](").concat(argsDefCode,");\n                        collection[i+5](").concat(argsDefCode,");\n                        collection[i+6](").concat(argsDefCode,");\n                        collection[i+7](").concat(argsDefCode,");\n                        collection[i+8](").concat(argsDefCode,");\n                        collection[i+9](").concat(argsDefCode,");\n                    }\n                });\n            })"):collection.length%4===0?"(function(collection) {\n                return (function(".concat(argsDefCode,") {\n                    for (var i = 0; i < collection.length; i += 4) {\n                        collection[i](").concat(argsDefCode,");\n                        collection[i+1](").concat(argsDefCode,");\n                        collection[i+2](").concat(argsDefCode,");\n                        collection[i+3](").concat(argsDefCode,");\n                    }\n                });\n            })"):collection.length%3===0?"(function(collection) {\n                return (function(".concat(argsDefCode,") {\n                    for (var i = 0; i < collection.length; i += 3) {\n                        collection[i](").concat(argsDefCode,");\n                        collection[i+1](").concat(argsDefCode,");\n                        collection[i+2](").concat(argsDefCode,");\n                    }\n                });\n            })"):"(function(collection) {\n                return (function(".concat(argsDefCode,") {\n                    for (var i = 0; i < collection.length; ++i) {\n                        collection[i](").concat(argsDefCode,");\n                    }\n                });\n            })")}var bakeCollection_1=void 0,fixedArgsNum_1=void 0,bakeCollectionVariadic_1=void 0,bakeCollectionAwait_1=void 0,funcFactory=eval(funcFactoryCode);return funcFactory(collection)}function bakeCollectionAwait(collection,fixedArgsNum){if(0===collection.length)return exports.BAKED_EMPTY_FUNC;if(1===collection.length)return collection[0];var funcFactoryCode;if(collection.length<FORLOOP_FALLBACK){var argsDefCode=generateArgsDefCode(fixedArgsNum),_a=generateBodyPartsCode(argsDefCode,collection.length),funcDefCode=_a.funcDefCode,funcCallCode=_a.funcCallCode;funcFactoryCode="(function(collection) {\n            ".concat(funcDefCode,"\n            collection = undefined;\n            return (function(").concat(argsDefCode,") {\n                return Promise.all([ ").concat(funcCallCode," ]);\n            });\n        })")}else{var argsDefCode=generateArgsDefCode(fixedArgsNum);funcFactoryCode="(function(collection) {\n            return (function(".concat(argsDefCode,") {\n                var promises = Array(collection.length);\n                for (var i = 0; i < collection.length; ++i) {\n                    promises[i] = collection[i](").concat(argsDefCode,");\n                }\n                return Promise.all(promises);\n            });\n        })")}var bakeCollection_2=void 0,fixedArgsNum_2=void 0,bakeCollectionVariadic_2=void 0,bakeCollectionAwait_2=void 0,funcFactory=eval(funcFactoryCode);return funcFactory(collection)}function bakeCollectionVariadic(collection){if(0===collection.length)return exports.BAKED_EMPTY_FUNC;if(1===collection.length)return collection[0];var funcFactoryCode;if(collection.length<FORLOOP_FALLBACK){var _a=generateBodyPartsVariadicCode(collection.length),funcDefCode=_a.funcDefCode,funcCallCode=_a.funcCallCode;funcFactoryCode="(function(collection) {\n            ".concat(funcDefCode,"\n            collection = undefined;\n            return (function() {\n                ").concat(funcCallCode,"\n            });\n        })")}else funcFactoryCode="(function(collection) {\n            return (function() {\n                for (var i = 0; i < collection.length; ++i) {\n                    collection[i].apply(undefined, arguments);\n                }\n            });\n        })";var bakeCollection_3=void 0,fixedArgsNum=void 0,bakeCollectionVariadic_3=void 0,bakeCollectionAwait_3=void 0,funcFactory=eval(funcFactoryCode);return funcFactory(collection)}exports.bakeCollection=bakeCollection,exports.bakeCollectionAwait=bakeCollectionAwait,exports.bakeCollectionVariadic=bakeCollectionVariadic},421:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(717),t)},717:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.TaskCollection=void 0;var i=n(656),o=n(877);function s(e,t){var n,r=this.length;if(r>1)t?((n=this._tasks).push.apply(n,arguments),this.length+=arguments.length):(this._tasks.push(e),this.length++);else if(t){var i;if(1===r)(i=Array(1+arguments.length)).push(i),i.push.apply(i,arguments),this._tasks=i;else(i=Array(arguments.length)).push.apply(i,arguments),this._tasks=i;this.length+=arguments.length}else this._tasks=1===r?[this._tasks,e]:e,this.length++}function a(e,t){var n,r=this.length;if(r>1)t?((n=this._tasks).push.apply(n,arguments),this.length+=arguments.length):(this._tasks.push(e),this.length++);else if(t){var i;if(1===r)(i=Array(1+arguments.length)).push(i),i.push.apply(i,arguments),this._tasks=i;else(i=Array(arguments.length)).push.apply(i,arguments),this._tasks=i;this.length+=arguments.length}else this._tasks=1===r?[this._tasks,e]:e,this.length++;this.firstEmitBuildStrategy?this.call=p:this.rebuild()}function l(e){0!==this.length&&(1===this.length?this._tasks===e&&(this.length=0):((0,i._fast_remove_single)(this._tasks,this._tasks.lastIndexOf(e)),1===this._tasks.length?(this._tasks=this._tasks[0],this.length=1):this.length=this._tasks.length))}function u(e){if(0!==this.length){if(1===this.length)return this._tasks===e&&(this.length=0),this.firstEmitBuildStrategy?void(this.call=o.BAKED_EMPTY_FUNC):void this.rebuild();(0,i._fast_remove_single)(this._tasks,this._tasks.lastIndexOf(e)),1===this._tasks.length?(this._tasks=this._tasks[0],this.length=1):this.length=this._tasks.length,this.firstEmitBuildStrategy?this.call=p:this.rebuild()}}function c(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];0===this.length?(this._tasks=n,this.length=1):1===this.length?(n.unshift(this._tasks),this._tasks=n,this.length=this._tasks.length):((t=this._tasks).splice.apply(t,r([e,0],n,!1)),this.length=this._tasks.length)}function d(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];0===this.length?(this._tasks=n,this.length=1):1===this.length?(n.unshift(this._tasks),this._tasks=n,this.length=this._tasks.length):((t=this._tasks).splice.apply(t,r([e,0],n,!1)),this.length=this._tasks.length),this.firstEmitBuildStrategy?this.call=p:this.rebuild()}function h(){0===this.length?this.call=o.BAKED_EMPTY_FUNC:1===this.length?this.call=this._tasks:this.call=(0,o.bakeCollection)(this._tasks,this.argsNum)}function f(){0===this.length?this.call=o.BAKED_EMPTY_FUNC:1===this.length?this.call=this._tasks:this.call=(0,o.bakeCollectionAwait)(this._tasks,this.argsNum)}function p(){this.rebuild(),this.call.apply(void 0,arguments)}var g=function(e,t,n,r){void 0===t&&(t=!0),void 0===n&&(n=null),void 0===r&&(r=!1),this.awaitTasks=r,this.call=o.BAKED_EMPTY_FUNC,this.argsNum=e,this.firstEmitBuildStrategy=!0,this.rebuild=r?f.bind(this):h.bind(this),this.setAutoRebuild(t),n?"function"===typeof n?(this._tasks=n,this.length=1):(this._tasks=n,this.length=n.length):(this._tasks=null,this.length=0),t&&this.rebuild()};t.TaskCollection=g,g.prototype.fastClear=function(){this._tasks=null,this.length=0,this.call=o.BAKED_EMPTY_FUNC},g.prototype.clear=function(){this._tasks=null,this.length=0,this.call=o.BAKED_EMPTY_FUNC},g.prototype.growArgsNum=function(e){this.argsNum<e&&(this.argsNum=e,this.firstEmitBuildStrategy?this.call=p:this.rebuild())},g.prototype.setAutoRebuild=function(e){e?(this.push=a.bind(this),this.insert=d.bind(this),this.removeLast=u.bind(this)):(this.push=s.bind(this),this.insert=c.bind(this),this.removeLast=l.bind(this))},g.prototype.tasksAsArray=function(){return 0===this.length?[]:1===this.length?[this._tasks]:this._tasks},g.prototype.setTasks=function(e){0===e.length?(this.length=0,this.call=o.BAKED_EMPTY_FUNC):1===e.length?(this.length=1,this.call=e[0],this._tasks=e[0]):(this.length=e.length,this._tasks=e,this.firstEmitBuildStrategy?this.call=p:this.rebuild())}},656:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._fast_remove_single=void 0,t._fast_remove_single=function(e,t){-1!==t&&(0===t?e.shift():t===e.length-1?e.length=e.length-1:e.splice(t,1))}},299:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},319:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nullObj=void 0,t.nullObj=function(){var e={__proto__:null};return e}},522:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(n){}!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"/nostr-nip-15-storefront-inject",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(237)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},237:(e,t,n)=>{e.exports=function(e){function t(e){let n,i,o,s=null;function a(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];if(!a.enabled)return;const o=a,s=Number(new Date),l=s-(n||s);o.diff=l,o.prev=n,o.curr=s,n=s,r[0]=t.coerce(r[0]),"string"!==typeof r[0]&&r.unshift("%O");let u=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,((e,n)=>{if("%%"===e)return"%";u++;const i=t.formatters[n];if("function"===typeof i){const t=r[u];e=i.call(o,t),r.splice(u,1),u--}return e})),t.formatArgs.call(o,r);(o.log||t.log).apply(o,r)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"===typeof t.init&&t.init(a),a}function r(e,n){const r=t(this.namespace+("undefined"===typeof n?":":n)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"===typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(340),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},558:(e,t,n)=>{const{bech32:r,hex:i,utf8:o}=n(777),s={bech32:"bc",pubKeyHash:0,scriptHash:5,validWitnessVersions:[0]},a={bech32:"tb",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},l={bech32:"tbs",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},u={bech32:"bcrt",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},c={bech32:"sb",pubKeyHash:63,scriptHash:123,validWitnessVersions:[0]},d=["option_data_loss_protect","initial_routing_sync","option_upfront_shutdown_script","gossip_queries","var_onion_optin","gossip_queries_ex","option_static_remotekey","payment_secret","basic_mpp","option_support_large_channel"],h={m:BigInt(1e3),u:BigInt(1e6),n:BigInt(1e9),p:BigInt(1e12)},f=BigInt("2100000000000000000"),p=BigInt(1e11),g={payment_hash:1,payment_secret:16,description:13,payee:19,description_hash:23,expiry:6,min_final_cltv_expiry:24,fallback_address:9,route_hint:3,feature_bits:5,metadata:27},y={};for(let k=0,E=Object.keys(g);k<E.length;k++){const e=E[k],t=g[E[k]].toString();y[t]=e}const m={1:e=>i.encode(r.fromWordsUnsafe(e)),16:e=>i.encode(r.fromWordsUnsafe(e)),13:e=>o.encode(r.fromWordsUnsafe(e)),19:e=>i.encode(r.fromWordsUnsafe(e)),23:e=>i.encode(r.fromWordsUnsafe(e)),27:e=>i.encode(r.fromWordsUnsafe(e)),6:b,24:b,3:function(e){const t=[];let n,o,s,a,l,u=r.fromWordsUnsafe(e);for(;u.length>0;)n=i.encode(u.slice(0,33)),o=i.encode(u.slice(33,41)),s=parseInt(i.encode(u.slice(41,45)),16),a=parseInt(i.encode(u.slice(45,49)),16),l=parseInt(i.encode(u.slice(49,51)),16),u=u.slice(51),t.push({pubkey:n,short_channel_id:o,fee_base_msat:s,fee_proportional_millionths:a,cltv_expiry_delta:l});return t},5:function(e){const t=e.slice().reverse().map((e=>[!!(1&e),!!(2&e),!!(4&e),!!(8&e),!!(16&e)])).reduce(((e,t)=>e.concat(t)),[]);for(;t.length<2*d.length;)t.push(!1);const n={};d.forEach(((e,r)=>{let i;i=t[2*r]?"required":t[2*r+1]?"supported":"unsupported",n[e]=i}));const r=t.slice(2*d.length);return n.extra_bits={start_bit:2*d.length,bits:r,has_required:r.reduce(((e,t,n)=>n%2!==0?e||!1:e||t),!1)},n}};function w(e){return t=>({tagCode:parseInt(e),words:r.encode("unknown",t,Number.MAX_SAFE_INTEGER)})}function b(e){return e.reverse().reduce(((e,t,n)=>e+t*Math.pow(32,n)),0)}function v(e,t){let n,r;if(e.slice(-1).match(/^[munp]$/))n=e.slice(-1),r=e.slice(0,-1);else{if(e.slice(-1).match(/^[^munp0-9]$/))throw new Error("Not a valid multiplier for the amount");r=e}if(!r.match(/^\d+$/))throw new Error("Not a valid human readable amount");const i=BigInt(r),o=n?i*p/h[n]:i*p;if("p"===n&&i%BigInt(10)!==BigInt(0)||o>f)throw new Error("Amount is outside of valid range");return t?o.toString():o}e.exports={decode:function(e,t){if("string"!==typeof e)throw new Error("Lightning Payment Request must be string");if("ln"!==e.slice(0,2).toLowerCase())throw new Error("Not a proper lightning payment request");const n=[],o=r.decode(e,Number.MAX_SAFE_INTEGER);e=e.toLowerCase();const d=o.prefix;let h=o.words,f=e.slice(d.length+1),p=h.slice(-104);h=h.slice(0,-104);let k=d.match(/^ln(\S+?)(\d*)([a-zA-Z]?)$/);if(k&&!k[2]&&(k=d.match(/^ln(\S+)$/)),!k)throw new Error("Not a proper lightning payment request");n.push({name:"lightning_network",letters:"ln"});const E=k[1];let L;if(t){if(void 0===t.bech32||void 0===t.pubKeyHash||void 0===t.scriptHash||!Array.isArray(t.validWitnessVersions))throw new Error("Invalid network");L=t}else switch(E){case s.bech32:L=s;break;case a.bech32:L=a;break;case l.bech32:L=l;break;case u.bech32:L=u;break;case c.bech32:L=c}if(!L||L.bech32!==E)throw new Error("Unknown coin bech32 prefix");n.push({name:"coin_network",letters:E,value:L});const x=k[2];let C;if(x){C=v(x+k[3],!0),n.push({name:"amount",letters:k[2]+k[3],value:C})}else C=null;n.push({name:"separator",letters:"1"});const S=b(h.slice(0,7));let _,A,R,N;for(h=h.slice(7),n.push({name:"timestamp",letters:f.slice(0,7),value:S}),f=f.slice(7);h.length>0;){const e=h[0].toString();_=y[e]||"unknown_tag",A=m[e]||w(e),h=h.slice(1),R=b(h.slice(0,2)),h=h.slice(2),N=h.slice(0,R),h=h.slice(R),n.push({name:_,tag:f[0],letters:f.slice(0,3+R),value:A(N)}),f=f.slice(3+R)}n.push({name:"signature",letters:f.slice(0,104),value:i.encode(r.fromWordsUnsafe(p))}),f=f.slice(104),n.push({name:"checksum",letters:f});let T={paymentRequest:e,sections:n,get expiry(){let e=n.find((e=>"expiry"===e.name));if(e)return P("timestamp")+e.value},get route_hints(){return n.filter((e=>"route_hint"===e.name)).map((e=>e.value))}};for(let r in g)"route_hint"!==r&&Object.defineProperty(T,r,{get:()=>P(r)});return T;function P(e){let t=n.find((t=>t.name===e));return t?t.value:void 0}},hrpToMillisat:v}},777:(e,t)=>{"use strict";function n(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function r(){const e=(e,t)=>n=>e(t(n));for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return{encode:Array.from(n).reverse().reduce(((t,n)=>t?e(t,n.encode):n.encode),void 0),decode:n.reduce(((t,n)=>t?e(t,n.decode):n.decode),void 0)}}function i(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!==typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(n(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!==typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!==typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("string"!==typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!==typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!==typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!==typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"=";if(n(e),"string"!==typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!==typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!==typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!==typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!==typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function a(e){if("function"!==typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function l(e,t,r){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let i=0;const o=[],s=Array.from(e);for(s.forEach((e=>{if(n(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,n=!0;for(let o=i;o<s.length;o++){const a=s[o],l=t*e+a;if(!Number.isSafeInteger(l)||t*e/t!==e||l-a!==t*e)throw new Error("convertRadix: carry overflow");if(e=l%r,s[o]=Math.floor(l/r),!Number.isSafeInteger(s[o])||s[o]*r+e!==l)throw new Error("convertRadix: carry overflow");n&&(s[o]?n=!1:i=o)}if(o.push(e),n)break}for(let n=0;n<e.length-1&&0===e[n];n++)o.push(0);return o.reverse()}Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64url=t.base64=t.base32crockford=t.base32hex=t.base32=t.base16=t.utils=t.assertNumber=void 0,t.assertNumber=n;const u=(e,t)=>t?u(t,e%t):e,c=(e,t)=>e+(t-u(e,t));function d(e,t,r,i){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(c(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${c(t,r)}`);let o=0,s=0;const a=2**r-1,l=[];for(const u of e){if(n(u),u>=2**t)throw new Error(`convertRadix2: invalid data word=${u} from=${t}`);if(o=o<<t|u,s+t>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=r;s-=r)l.push((o>>s-r&a)>>>0);o&=2**s-1}if(o=o<<r-s&a,!i&&s>=t)throw new Error("Excess padding");if(!i&&o)throw new Error(`Non-zero padding: ${o}`);return i&&s>0&&l.push(o>>>0),l}function h(e){return n(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return l(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!==typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(l(t,e,256))}}}function f(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(c(8,e)>32||c(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return d(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!==typeof n[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(d(n,e,8,t))}}}function p(e){if("function"!==typeof e)throw new Error("unsafeWrapper fn should be function");return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(null,n)}catch(i){}}}function g(e,t){if(n(e),"function"!==typeof t)throw new Error("checksum fn should be function");return{encode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const r=t(n).slice(0,e),i=new Uint8Array(n.length+e);return i.set(n),i.set(r,n.length),i},decode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const r=n.slice(0,-e),i=t(r).slice(0,e),o=n.slice(-e);for(let t=0;t<e;t++)if(i[t]!==o[t])throw new Error("Invalid checksum");return r}}}t.utils={alphabet:i,chain:r,checksum:g,radix:h,radix2:f,join:o,padding:s},t.base16=r(f(4),i("0123456789ABCDEF"),o("")),t.base32=r(f(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),s(5),o("")),t.base32hex=r(f(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),s(5),o("")),t.base32crockford=r(f(5),i("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),o(""),a((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),t.base64=r(f(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),s(6),o("")),t.base64url=r(f(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),s(6),o(""));const y=e=>r(h(58),i(e),o(""));t.base58=y("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=y("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=y("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const m=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(e){let n="";for(let r=0;r<e.length;r+=8){const i=e.subarray(r,r+8);n+=t.base58.encode(i).padStart(m[i.length],"1")}return n},decode(e){let n=[];for(let r=0;r<e.length;r+=11){const i=e.slice(r,r+11),o=m.indexOf(i.length),s=t.base58.decode(i);for(let e=0;e<s.length-o;e++)if(0!==s[e])throw new Error("base58xmr: wrong padding");n=n.concat(Array.from(s.slice(s.length-o)))}return Uint8Array.from(n)}};t.base58check=e=>r(g(4,(t=>e(e(t)))),t.base58);const w=r(i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),o("")),b=[996825010,642813549,513874426,1027748829,705979059];function v(e){const t=e>>25;let n=(33554431&e)<<5;for(let r=0;r<b.length;r++)1===(t>>r&1)&&(n^=b[r]);return n}function k(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=e.length;let i=1;for(let o=0;o<r;o++){const t=e.charCodeAt(o);if(t<33||t>126)throw new Error(`Invalid prefix (${e})`);i=v(i)^t>>5}i=v(i);for(let o=0;o<r;o++)i=v(i)^31&e.charCodeAt(o);for(let o of t)i=v(i)^o;for(let o=0;o<6;o++)i=v(i);return i^=n,w.encode(d([i%2**30],30,5,!1))}function E(e){const t="bech32"===e?1:734539939,n=f(5),r=n.decode,i=n.encode,o=p(r);function s(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:90;if("string"!==typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==n&&e.length>n)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${n})`);const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const i=(e=r).lastIndexOf("1");if(0===i||-1===i)throw new Error('Letter "1" must be present between prefix and data only');const o=e.slice(0,i),s=e.slice(i+1);if(s.length<6)throw new Error("Data must be at least 6 characters long");const a=w.decode(s).slice(0,-6),l=k(o,a,t);if(!s.endsWith(l))throw new Error(`Invalid checksum in ${e}: expected "${l}"`);return{prefix:o,words:a}}return{encode:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:90;if("string"!==typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(!Array.isArray(n)||n.length&&"number"!==typeof n[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof n);const i=e.length+7+n.length;if(!1!==r&&i>r)throw new TypeError(`Length ${i} exceeds limit ${r}`);return`${e=e.toLowerCase()}1${w.encode(n)}${k(e,n,t)}`},decode:s,decodeToBytes:function(e){const{prefix:t,words:n}=s(e,!1);return{prefix:t,words:n,bytes:r(n)}},decodeUnsafe:p(s),fromWords:r,fromWordsUnsafe:o,toWords:i}}t.bech32=E("bech32"),t.bech32m=E("bech32m"),t.utf8={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},t.hex=r(f(4),i("0123456789abcdef"),o(""),a((e=>{if("string"!==typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));const L={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},x=`Invalid encoding type. Available types: ${Object.keys(L).join(", ")}`;t.bytesToString=(e,t)=>{if("string"!==typeof e||!L.hasOwnProperty(e))throw new TypeError(x);if(!(t instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return L[e].encode(t)},t.str=t.bytesToString;t.stringToBytes=(e,t)=>{if(!L.hasOwnProperty(e))throw new TypeError(x);if("string"!==typeof t)throw new TypeError("stringToBytes() expects string");return L[e].decode(t)},t.bytes=t.stringToBytes},340:e=>{var t=1e3,n=60*t,r=60*n,i=24*r,o=7*i,s=365.25*i;function a(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,l){l=l||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!a)return;var l=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return l*s;case"weeks":case"week":case"w":return l*o;case"days":case"day":case"d":return l*i;case"hours":case"hour":case"hrs":case"hr":case"h":return l*r;case"minutes":case"minute":case"mins":case"min":case"m":return l*n;case"seconds":case"second":case"secs":case"sec":case"s":return l*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}(e);if("number"===u&&isFinite(e))return l.long?function(e){var o=Math.abs(e);if(o>=i)return a(e,o,i,"day");if(o>=r)return a(e,o,r,"hour");if(o>=n)return a(e,o,n,"minute");if(o>=t)return a(e,o,t,"second");return e+" ms"}(e):function(e){var o=Math.abs(e);if(o>=i)return Math.round(e/i)+"d";if(o>=r)return Math.round(e/r)+"h";if(o>=n)return Math.round(e/n)+"m";if(o>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,w);y[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,w);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,w);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var v=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),E=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),_=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function U(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var O,B=Object.assign;function F(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var z=!1;function D(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function $(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=D(e.type,!1);case 11:return e=D(e.type.render,!1);case 1:return e=D(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case L:return"Fragment";case E:return"Portal";case C:return"Profiler";case x:return"StrictMode";case R:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return j(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var me=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function we(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Le=null,xe=null;function Ce(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=ki(t),Ee(e.stateNode,e.type,t))}}function Se(e){Le?xe?xe.push(e):xe=[e]:Le=e}function _e(){if(Le){var e=Le,t=xe;if(xe=Le=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ae(e,t){return e(t)}function Re(){}var Ne=!1;function Te(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ae(e,t,n)}finally{Ne=!1,(null!==Le||null!==xe)&&(Re(),_e())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Me=!1;if(c)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(ce){Me=!1}function Ue(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Oe=!1,Be=null,Fe=!1,ze=null,De={onError:function(e){Oe=!0,Be=e}};function $e(e,t,n,r,i,o,s,a,l){Oe=!1,Be=null,Ue.apply(De,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(je(e)!==e)throw Error(o(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return He(i),e;if(s===r)return He(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Ze=i.unstable_cancelCallback,Ge=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Ye=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dt(a):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~i)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function wt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,Et,Lt,xt,Ct,St=!1,_t=[],At=null,Rt=null,Nt=null,Tt=new Map,Pt=new Map,Mt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ut(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Ot(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Bt(e){var t=wi(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Ct(e.priority,(function(){Lt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ve=r,n.target.dispatchEvent(r),ve=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Dt(){St=!1,null!==At&&Ft(At)&&(At=null),null!==Rt&&Ft(Rt)&&(Rt=null),null!==Nt&&Ft(Nt)&&(Nt=null),Tt.forEach(zt),Pt.forEach(zt)}function $t(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Dt)))}function jt(e){function t(t){return $t(t,e)}if(0<_t.length){$t(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&$t(At,e),null!==Rt&&$t(Rt,e),null!==Nt&&$t(Nt,e),Tt.forEach(t),Pt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Bt(n),null===n.blockedOn&&Mt.shift()}var Vt=v.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=1,Wt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function Kt(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=4,Wt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function Wt(e,t,n,r){if(Ht){var i=Gt(e,t,n,r);if(null===i)Hr(e,t,r,Zt,n),Ut(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Ot(At,e,t,n,r,i),!0;case"dragenter":return Rt=Ot(Rt,e,t,n,r,i),!0;case"mouseover":return Nt=Ot(Nt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Tt.set(o,Ot(Tt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pt.set(o,Ot(Pt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ut(e,r),4&t&&-1<It.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&kt(o),null===(o=Gt(e,t,n,r))&&Hr(e,t,r,Zt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Zt=null;function Gt(e,t,n,r){if(Zt=null,null!==(e=wi(e=ke(r))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Jt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),dn=B({},un,{view:0,detail:0}),hn=on(dn),fn=B({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),gn=on(B({},fn,{dataTransfer:0})),yn=on(B({},dn,{relatedTarget:0})),mn=on(B({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=B({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(wn),vn=on(B({},un,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ln={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ln[e])&&!!t[e]}function Cn(){return xn}var Sn=B({},dn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=on(Sn),An=on(B({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=on(B({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Nn=on(B({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=B({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(Tn),Mn=[9,13,27,32],In=c&&"CompositionEvent"in window,Un=null;c&&"documentMode"in document&&(Un=document.documentMode);var On=c&&"TextEvent"in window&&!Un,Bn=c&&(!In||Un&&8<Un&&11>=Un),Fn=String.fromCharCode(32),zn=!1;function Dn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function qn(e,t,n,r){Se(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Wn=null;function Zn(e){Fr(e,0)}function Gn(e){if(W(vi(e)))return e}function Qn(e,t){if("change"===e)return t}var Yn=!1;if(c){var Jn;if(c){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Jn=Xn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Wn=Kn=null)}function nr(e){if("value"===e.propertyName&&Gn(Wn)){var t=[];qn(t,Wn,e,ke(e)),Te(Zn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Wn)}function or(e,t){if("click"===e)return Gn(t)}function sr(e,t){if("input"===e||"change"===e)return Gn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var s=cr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,wr=null,br=!1;function vr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==Z(r)||("selectionStart"in(r=yr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&lr(wr,r)||(wr=r,0<(r=Kr(mr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},Lr={},xr={};function Cr(e){if(Lr[e])return Lr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return Lr[e]=n[t];return e}c&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Sr=Cr("animationend"),_r=Cr("animationiteration"),Ar=Cr("animationstart"),Rr=Cr("transitionend"),Nr=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Nr.set(e,t),l(t,[e])}for(var Mr=0;Mr<Tr.length;Mr++){var Ir=Tr[Mr];Pr(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Pr(Sr,"onAnimationEnd"),Pr(_r,"onAnimationIteration"),Pr(Ar,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Rr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ur));function Br(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,u){if($e.apply(this,arguments),Oe){if(!Oe)throw Error(o(198));var c=Be;Oe=!1,Be=null,Fe||(Fe=!0,ze=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Br(i,a,u),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Br(i,a,u),o=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Dr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var $r="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[$r]){e[$r]=!0,s.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||Dr(t,!1,e),Dr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$r]||(t[$r]=!0,Dr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Qt(t)){case 1:var i=qt;break;case 4:i=Kt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=wi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Te((function(){var r=o,i=ke(n),s=[];e:{var a=Nr.get(e);if(void 0!==a){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":u="focus",l=yn;break;case"focusout":u="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rn;break;case Sr:case _r:case Ar:l=mn;break;case Rr:l=Nn;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&(null!=(g=Pe(p,h))&&c.push(qr(p,g,f)))),d)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),s.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===ve||!(u=n.relatedTarget||n.fromElement)||!wi(u)&&!u[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?wi(u):null)&&(u!==(d=je(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=An,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:vi(l),f=null==u?a:vi(u),(a=new c(g,p+"leave",l,n,i)).target=d,a.relatedTarget=f,g=null,wi(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=f,c.relatedTarget=d,g=c),d=g,l&&u)e:{for(h=u,p=0,f=c=l;f;f=Wr(f))p++;for(f=0,g=h;g;g=Wr(g))f++;for(;0<p-f;)c=Wr(c),p--;for(;0<f-p;)h=Wr(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Wr(c),h=Wr(h)}c=null}else c=null;null!==l&&Zr(s,a,l,c,!1),null!==u&&null!==d&&Zr(s,d,u,c,!0)}if("select"===(l=(a=r?vi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var y=Qn;else if(Hn(a))if(Yn)y=sr;else{y=ir;var m=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(y=or);switch(y&&(y=y(e,r))?qn(s,y,n,i):(m&&m(e,a,r),"focusout"===e&&(m=a._wrapperState)&&m.controlled&&"number"===a.type&&ee(a,"number",a.value)),m=r?vi(r):window,e){case"focusin":(Hn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,wr=null);break;case"focusout":wr=mr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,vr(s,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":vr(s,n,i)}var w;if(In)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else jn?Dn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Bn&&"ko"!==n.locale&&(jn||"onCompositionStart"!==b?"onCompositionEnd"===b&&jn&&(w=en()):(Jt="value"in(Yt=i)?Yt.value:Yt.textContent,jn=!0)),0<(m=Kr(r,b)).length&&(b=new vn(b,e,null,n,i),s.push({event:b,listeners:m}),w?b.data=w:null!==(w=$n(n))&&(b.data=w))),(w=On?function(e,t){switch(e){case"compositionend":return $n(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!In&&Dn(e,t)?(e=en(),Xt=Jt=Yt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new vn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=w))}Fr(s,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pe(e,n))&&r.unshift(qr(e,o,i)),null!=(o=Pe(e,t))&&r.push(qr(e,o,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Zr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Pe(n,o))&&s.unshift(qr(n,l,a)):i||null!=(l=Pe(n,o))&&s.push(qr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Gr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function Xr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);jt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,gi="__reactEvents$"+di,yi="__reactListeners$"+di,mi="__reactHandles$"+di;function wi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ki(e){return e[fi]||null}var Ei=[],Li=-1;function xi(e){return{current:e}}function Ci(e){0>Li||(e.current=Ei[Li],Ei[Li]=null,Li--)}function Si(e,t){Li++,Ei[Li]=e.current,e.current=t}var _i={},Ai=xi(_i),Ri=xi(!1),Ni=_i;function Ti(e,t){var n=e.type.contextTypes;if(!n)return _i;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mi(){Ci(Ri),Ci(Ai)}function Ii(e,t,n){if(Ai.current!==_i)throw Error(o(168));Si(Ai,t),Si(Ri,n)}function Ui(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,V(e)||"Unknown",i));return B({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,Ni=Ai.current,Si(Ai,e),Si(Ri,Ri.current),!0}function Bi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ui(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ri),Ci(Ai),Si(Ai,e)):Ci(Ri),Si(Ri,n)}var Fi=null,zi=!1,Di=!1;function $i(e){null===Fi?Fi=[e]:Fi.push(e)}function ji(){if(!Di&&null!==Fi){Di=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,zi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),We(Xe,ji),i}finally{bt=t,Di=!1}}return null}var Vi=[],Hi=0,qi=null,Ki=0,Wi=[],Zi=0,Gi=null,Qi=1,Yi="";function Ji(e,t){Vi[Hi++]=Ki,Vi[Hi++]=qi,qi=e,Ki=t}function Xi(e,t,n){Wi[Zi++]=Qi,Wi[Zi++]=Yi,Wi[Zi++]=Gi,Gi=e;var r=Qi;e=Yi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Qi=1<<32-st(t)+i|n<<i|r,Yi=o+e}else Qi=1<<o|n<<i|r,Yi=e}function eo(e){null!==e.return&&(Ji(e,1),Xi(e,1,0))}function to(e){for(;e===qi;)qi=Vi[--Hi],Vi[Hi]=null,Ki=Vi[--Hi],Vi[Hi]=null;for(;e===Gi;)Gi=Wi[--Zi],Wi[Zi]=null,Yi=Wi[--Zi],Wi[Zi]=null,Qi=Wi[--Zi],Wi[Zi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Tu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Gi?{id:Qi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Tu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ui(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ui(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ui(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ui(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var yo=v.ReactCurrentBatchConfig;function mo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function wo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function vo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Mu(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Bu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===L?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&bo(o)===t.type)?((r=i(t,n.props)).ref=mo(e,t,n),r.return=e,r):((r=Iu(n.type,n.key,n.props,null,e.mode,r)).ref=mo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Uu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Iu(t.type,t.key,t.props,null,e.mode,n)).ref=mo(e,null,t),n.return=e,n;case E:return(t=Fu(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||U(t))return(t=Uu(t,e.mode,n,null)).return=e,t;wo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?u(e,t,n,r):null;case E:return n.key===i?c(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||U(n))return null!==i?null:d(e,t,n,r,null);wo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||U(r))return d(t,e=e.get(n)||null,r,i,null);wo(t,r)}return null}function g(i,o,a,l){for(var u=null,c=null,d=o,g=o=0,y=null;null!==d&&g<a.length;g++){d.index>g?(y=d,d=null):y=d.sibling;var m=f(i,d,a[g],l);if(null===m){null===d&&(d=y);break}e&&d&&null===m.alternate&&t(i,d),o=s(m,o,g),null===c?u=m:c.sibling=m,c=m,d=y}if(g===a.length)return n(i,d),io&&Ji(i,g),u;if(null===d){for(;g<a.length;g++)null!==(d=h(i,a[g],l))&&(o=s(d,o,g),null===c?u=d:c.sibling=d,c=d);return io&&Ji(i,g),u}for(d=r(i,d);g<a.length;g++)null!==(y=p(d,i,g,a[g],l))&&(e&&null!==y.alternate&&d.delete(null===y.key?g:y.key),o=s(y,o,g),null===c?u=y:c.sibling=y,c=y);return e&&d.forEach((function(e){return t(i,e)})),io&&Ji(i,g),u}function y(i,a,l,u){var c=U(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,g=a,y=a=0,m=null,w=l.next();null!==g&&!w.done;y++,w=l.next()){g.index>y?(m=g,g=null):m=g.sibling;var b=f(i,g,w.value,u);if(null===b){null===g&&(g=m);break}e&&g&&null===b.alternate&&t(i,g),a=s(b,a,y),null===d?c=b:d.sibling=b,d=b,g=m}if(w.done)return n(i,g),io&&Ji(i,y),c;if(null===g){for(;!w.done;y++,w=l.next())null!==(w=h(i,w.value,u))&&(a=s(w,a,y),null===d?c=w:d.sibling=w,d=w);return io&&Ji(i,y),c}for(g=r(i,g);!w.done;y++,w=l.next())null!==(w=p(g,i,y,w.value,u))&&(e&&null!==w.alternate&&g.delete(null===w.key?y:w.key),a=s(w,a,y),null===d?c=w:d.sibling=w,d=w);return e&&g.forEach((function(e){return t(i,e)})),io&&Ji(i,y),c}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===L&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case k:e:{for(var u=s.key,c=o;null!==c;){if(c.key===u){if((u=s.type)===L){if(7===c.tag){n(r,c.sibling),(o=i(c,s.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===P&&bo(u)===c.type){n(r,c.sibling),(o=i(c,s.props)).ref=mo(r,c,s),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}s.type===L?((o=Uu(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Iu(s.type,s.key,s.props,null,r.mode,l)).ref=mo(r,o,s),l.return=r,r=l)}return a(r);case E:e:{for(c=s.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fu(s,r.mode,l)).return=r,r=o}return a(r);case P:return e(r,o,(c=s._init)(s._payload),l)}if(te(s))return g(r,o,s,l);if(U(s))return y(r,o,s,l);wo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Bu(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var ko=vo(!0),Eo=vo(!1),Lo=xi(null),xo=null,Co=null,So=null;function _o(){So=Co=xo=null}function Ao(e){var t=Lo.current;Ci(Lo),e._currentValue=t}function Ro(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function No(e,t){xo=e,So=Co=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function To(e){var t=e._currentValue;if(So!==e)if(e={context:e,memoizedValue:t,next:null},null===Co){if(null===xo)throw Error(o(308));Co=e,xo.dependencies={lanes:0,firstContext:e}}else Co=Co.next=e;return t}var Po=null;function Mo(e){null===Po?Po=[e]:Po.push(e)}function Io(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Mo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Uo(e,r)}function Uo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oo=!1;function Bo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Do(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Uo(e,n)}return null===(i=r.interleaved)?(t.next=t,Mo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Uo(e,n)}function $o(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,wt(e,n)}}function jo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vo(e,t,n,r){var i=e.updateQueue;Oo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===s?o=u:s.next=u,s=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,c=u=l=null,a=o;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(h=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(f,d,h):p)||void 0===h)break e;d=B({},d,h);break e;case 2:Oo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ol|=s,e.lanes=s,e.memoizedState=d}}function Ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var qo={},Ko=xi(qo),Wo=xi(qo),Zo=xi(qo);function Go(e){if(e===qo)throw Error(o(174));return e}function Qo(e,t){switch(Si(Zo,t),Si(Wo,e),Si(Ko,qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Ko),Si(Ko,t)}function Yo(){Ci(Ko),Ci(Wo),Ci(Zo)}function Jo(e){Go(Zo.current);var t=Go(Ko.current),n=le(t,e.type);t!==n&&(Si(Wo,e),Si(Ko,n))}function Xo(e){Wo.current===e&&(Ci(Ko),Ci(Wo))}var es=xi(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var is=v.ReactCurrentDispatcher,os=v.ReactCurrentBatchConfig,ss=0,as=null,ls=null,us=null,cs=!1,ds=!1,hs=0,fs=0;function ps(){throw Error(o(321))}function gs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function ys(e,t,n,r,i,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?Xs:ea,e=n(r,i),ds){s=0;do{if(ds=!1,hs=0,25<=s)throw Error(o(301));s+=1,us=ls=null,t.updateQueue=null,is.current=ta,e=n(r,i)}while(ds)}if(is.current=Js,t=null!==ls&&null!==ls.next,ss=0,us=ls=as=null,cs=!1,t)throw Error(o(300));return e}function ms(){var e=0!==hs;return hs=0,e}function ws(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===us?as.memoizedState=us=e:us=us.next=e,us}function bs(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===us?as.memoizedState:us.next;if(null!==t)us=t,ls=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===us?as.memoizedState=us=e:us=us.next=e}return us}function vs(e,t){return"function"===typeof t?t(e):t}function ks(e){var t=bs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ls,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,u=null,c=s;do{var d=c.lane;if((ss&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,a=r):u=u.next=h,as.lanes|=d,Ol|=d}c=c.next}while(null!==c&&c!==s);null===u?a=r:u.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,as.lanes|=s,Ol|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Es(e){var t=bs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ls(){}function xs(e,t){var n=as,r=bs(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,ba=!0),r=r.queue,Os(_s.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==us&&1&us.memoizedState.tag){if(n.flags|=2048,Ts(9,Ss.bind(null,n,r,i,t),void 0,null),null===Rl)throw Error(o(349));0!==(30&ss)||Cs(n,t,i)}return i}function Cs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ss(e,t,n,r){t.value=n,t.getSnapshot=r,As(t)&&Rs(e)}function _s(e,t,n){return n((function(){As(t)&&Rs(e)}))}function As(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Rs(e){var t=Uo(e,1);null!==t&&nu(t,e,1,-1)}function Ns(e){var t=ws();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:e},t.queue=e,e=e.dispatch=Zs.bind(null,as,e),[t.memoizedState,e]}function Ts(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ps(){return bs().memoizedState}function Ms(e,t,n,r){var i=ws();as.flags|=e,i.memoizedState=Ts(1|t,n,void 0,void 0===r?null:r)}function Is(e,t,n,r){var i=bs();r=void 0===r?null:r;var o=void 0;if(null!==ls){var s=ls.memoizedState;if(o=s.destroy,null!==r&&gs(r,s.deps))return void(i.memoizedState=Ts(t,n,o,r))}as.flags|=e,i.memoizedState=Ts(1|t,n,o,r)}function Us(e,t){return Ms(8390656,8,e,t)}function Os(e,t){return Is(2048,8,e,t)}function Bs(e,t){return Is(4,2,e,t)}function Fs(e,t){return Is(4,4,e,t)}function zs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ds(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Is(4,4,zs.bind(null,t,e),n)}function $s(){}function js(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hs(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),as.lanes|=n,Ol|=n,e.baseState=!0),t)}function qs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{bt=n,os.transition=r}}function Ks(){return bs().memoizedState}function Ws(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gs(e))Qs(t,n);else if(null!==(n=Io(e,t,n,r))){nu(n,e,r,eu()),Ys(n,t,r)}}function Zs(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gs(e))Qs(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,Mo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Io(e,t,i,r))&&(nu(n,e,r,i=eu()),Ys(n,t,r))}}function Gs(e){var t=e.alternate;return e===as||null!==t&&t===as}function Qs(e,t){ds=cs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ys(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,wt(e,n)}}var Js={readContext:To,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Xs={readContext:To,useCallback:function(e,t){return ws().memoizedState=[e,void 0===t?null:t],e},useContext:To,useEffect:Us,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ms(4194308,4,zs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ms(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ms(4,2,e,t)},useMemo:function(e,t){var n=ws();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ws();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ws.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ws().memoizedState=e},useState:Ns,useDebugValue:$s,useDeferredValue:function(e){return ws().memoizedState=e},useTransition:function(){var e=Ns(!1),t=e[0];return e=qs.bind(null,e[1]),ws().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,i=ws();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Rl)throw Error(o(349));0!==(30&ss)||Cs(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Us(_s.bind(null,r,s,e),[e]),r.flags|=2048,Ts(9,Ss.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ws(),t=Rl.identifierPrefix;if(io){var n=Yi;t=":"+t+"R"+(n=(Qi&~(1<<32-st(Qi)-1)).toString(32)+n),0<(n=hs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:To,useCallback:js,useContext:To,useEffect:Os,useImperativeHandle:Ds,useInsertionEffect:Bs,useLayoutEffect:Fs,useMemo:Vs,useReducer:ks,useRef:Ps,useState:function(){return ks(vs)},useDebugValue:$s,useDeferredValue:function(e){return Hs(bs(),ls.memoizedState,e)},useTransition:function(){return[ks(vs)[0],bs().memoizedState]},useMutableSource:Ls,useSyncExternalStore:xs,useId:Ks,unstable_isNewReconciler:!1},ta={readContext:To,useCallback:js,useContext:To,useEffect:Os,useImperativeHandle:Ds,useInsertionEffect:Bs,useLayoutEffect:Fs,useMemo:Vs,useReducer:Es,useRef:Ps,useState:function(){return Es(vs)},useDebugValue:$s,useDeferredValue:function(e){var t=bs();return null===ls?t.memoizedState=e:Hs(t,ls.memoizedState,e)},useTransition:function(){return[Es(vs)[0],bs().memoizedState]},useMutableSource:Ls,useSyncExternalStore:xs,useId:Ks,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=B({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:B({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=zo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Do(e,o,i))&&(nu(t,e,i,r),$o(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=zo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Do(e,o,i))&&(nu(t,e,i,r),$o(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=zo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Do(e,i,r))&&(nu(t,e,r,n),$o(t,e,r))}};function oa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function sa(e,t,n){var r=!1,i=_i,o=t.contextType;return"object"===typeof o&&null!==o?o=To(o):(i=Pi(t)?Ni:Ai.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ti(e,i):_i),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Bo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=To(o):(o=Pi(t)?Ni:Ai.current,i.context=Ti(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ra(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),Vo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ua(e,t){try{var n="",r=t;do{n+=$(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ca(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=zo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,ql=r),da(0,t)},n}function pa(e,t,n){(n=zo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function ya(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ma(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zo(-1,1)).tag=2,Do(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wa=v.ReactCurrentOwner,ba=!1;function va(e,t,n,r){t.child=null===e?Eo(t,null,n,r):ko(t,e.child,n,r)}function ka(e,t,n,r,i){n=n.render;var o=t.ref;return No(t,i),r=ys(e,t,n,r,o,i),n=ms(),null===e||ba?(io&&n&&eo(t),t.flags|=1,va(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Ea(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Pu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Iu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,La(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=Mu(o,r)).ref=t.ref,e.return=t,t.child=e}function La(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Sa(e,t,n,r,i)}function xa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Ml,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Ml,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Si(Ml,Pl),Pl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Si(Ml,Pl),Pl|=r;return va(e,t,i,n),t.child}function Ca(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sa(e,t,n,r,i){var o=Pi(n)?Ni:Ai.current;return o=Ti(t,o),No(t,i),n=ys(e,t,n,r,o,i),r=ms(),null===e||ba?(io&&r&&eo(t),t.flags|=1,va(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function _a(e,t,n,r,i){if(Pi(n)){var o=!0;Oi(t)}else o=!1;if(No(t,i),null===t.stateNode)Va(e,t),sa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=To(u):u=Ti(t,u=Pi(n)?Ni:Ai.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==u)&&aa(t,s,r,u),Oo=!1;var h=t.memoizedState;s.state=h,Vo(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Ri.current||Oo?("function"===typeof c&&(ra(t,n,c,r),l=t.memoizedState),(a=Oo||oa(t,n,a,r,h,l,u))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Fo(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:na(t.type,a),s.props=u,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=To(l):l=Ti(t,l=Pi(n)?Ni:Ai.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&aa(t,s,r,l),Oo=!1,h=t.memoizedState,s.state=h,Vo(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||Ri.current||Oo?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(u=Oo||oa(t,n,u,r,h,p,l)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Aa(e,t,n,r,o,i)}function Aa(e,t,n,r,i,o){Ca(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Bi(t,n,!1),Ha(e,t,o);r=t.stateNode,wa.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=ko(t,e.child,null,o),t.child=ko(t,null,a,o)):va(e,t,a,o),t.memoizedState=r.state,i&&Bi(t,n,!0),t.child}function Ra(e){var t=e.stateNode;t.pendingContext?Ii(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ii(0,t.context,!1),Qo(e,t.containerInfo)}function Na(e,t,n,r,i){return po(),go(i),t.flags|=256,va(e,t,n,r),t.child}var Ta,Pa,Ma,Ia,Ua={dehydrated:null,treeContext:null,retryLane:0};function Oa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ba(e,t,n){var r,i=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Si(es,1&s),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Ou(l,i,0,null),e=Uu(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Oa(n),t.memoizedState=Ua,e):Fa(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,za(e,t,a,r=ca(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Ou({mode:"visible",children:r.children},i,0,null),(s=Uu(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&ko(t,e.child,null,a),t.child.memoizedState=Oa(a),t.memoizedState=Ua,s);if(0===(1&t.mode))return za(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,za(e,t,a,r=ca(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Rl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Uo(e,i),nu(r,e,i,-1))}return gu(),za(e,t,a,r=ca(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=_u.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ui(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Wi[Zi++]=Qi,Wi[Zi++]=Yi,Wi[Zi++]=Gi,Qi=e.id,Yi=e.overflow,Gi=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Mu(s,u)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Mu(r,a):(a=Uu(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Oa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ua,i}return e=(a=e.child).sibling,i=Mu(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fa(e,t){return(t=Ou({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function za(e,t,n,r){return null!==r&&go(r),ko(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Da(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ro(e.return,t,n)}function $a(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function ja(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(va(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Da(e,n,t);else if(19===e.tag)Da(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(es,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),$a(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ts(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}$a(t,!0,n,null,o);break;case"together":$a(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Va(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Mu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qa(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wa(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Pi(t.type)&&Mi(),Ka(t),null;case 3:return r=t.stateNode,Yo(),Ci(Ri),Ci(Ai),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(su(oo),oo=null))),Pa(e,t),Ka(t),null;case 5:Xo(t);var i=Go(Zo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ma(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ka(t),null}if(e=Go(Ko.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Ur.length;i++)zr(Ur[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Q(r,s),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},zr("invalid",r);break;case"textarea":ie(r,s),zr("invalid",r)}for(var l in we(n,s),i=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":K(r),X(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Ta(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ur.length;i++)zr(Ur[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":Q(e,r),i=G(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=B({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(s in we(n,i),u=i)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?ye(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===s?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=c&&"onScroll"===s&&zr("scroll",e):null!=c&&b(e,s,c,l))}switch(n){case"input":K(e),X(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Ia(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Go(Zo.current),Go(Ko.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ka(t),null;case 13:if(Ci(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),s=!1}else null!==oo&&(su(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Il&&(Il=3):gu())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return Yo(),Pa(e,t),null===e&&jr(t.stateNode.containerInfo),Ka(t),null;case 10:return Ao(t.type._context),Ka(t),null;case 19:if(Ci(es),null===(s=t.memoizedState))return Ka(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)qa(s,!1);else{if(0!==Il||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,qa(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Ye()>jl&&(t.flags|=128,r=!0,qa(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Ka(t),null}else 2*Ye()-s.renderingStartTime>jl&&1073741824!==n&&(t.flags|=128,r=!0,qa(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,n=es.current,Si(es,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Za(e,t){switch(to(t),t.tag){case 1:return Pi(t.type)&&Mi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yo(),Ci(Ri),Ci(Ai),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xo(t),null;case 13:if(Ci(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(es),null;case 4:return Yo(),null;case 10:return Ao(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Ta=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pa=function(){},Ma=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Go(Ko.current);var o,s=null;switch(n){case"input":i=G(e,i),r=G(e,r),s=[];break;case"select":i=B({},i,{value:void 0}),r=B({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(c in we(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&zr("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},Ia=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ga=!1,Qa=!1,Ya="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Xa(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xu(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){xu(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[gi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Qa||Xa(n,t);case 6:var r=cl,i=dl;cl=null,hl(e,t,n),dl=i,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),jt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=dl,cl=n.stateNode.containerInfo,dl=!0,hl(e,t,n),cl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Qa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&el(n,t,s),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Qa&&(Xa(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xu(n,t,a)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qa=(r=Qa)||null!==n.memoizedState,hl(e,t,n),Qa=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ya),t.forEach((function(t){var r=Au.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(o(160));fl(s,a,i),cl=null,dl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){xu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),ml(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(y){xu(e,e.return,y)}try{nl(5,e,e.return)}catch(y){xu(e,e.return,y)}}break;case 1:gl(t,e),ml(e),512&r&&null!==n&&Xa(n,n.return);break;case 5:if(gl(t,e),ml(e),512&r&&null!==n&&Xa(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){xu(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===s.type&&null!=s.name&&Y(i,s),be(l,a);var c=be(l,s);for(a=0;a<u.length;a+=2){var d=u[a],h=u[a+1];"style"===d?ye(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,c)}switch(l){case"input":J(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(y){xu(e,e.return,y)}}break;case 6:if(gl(t,e),ml(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){xu(e,e.return,y)}}break;case 3:if(gl(t,e),ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(y){xu(e,e.return,y)}break;case 4:default:gl(t,e),ml(e);break;case 13:gl(t,e),ml(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||($l=Ye())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qa=(c=Qa)||d,gl(t,e),Qa=c):gl(t,e),ml(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Ja=e,d=e.child;null!==d;){for(h=Ja=d;null!==Ja;){switch(p=(f=Ja).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Xa(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){xu(r,n,y)}}break;case 5:Xa(f,f.return);break;case 22:if(null!==f.memoizedState){kl(h);continue}}null!==p?(p.return=f,Ja=p):kl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,c?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ge("display",a))}catch(y){xu(e,e.return,y)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){xu(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),ml(e),4&r&&pl(e);case 21:}}function ml(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,al(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(o(161))}}catch(a){xu(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){Ja=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var i=Ja,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Ga;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Qa;a=Ga;var u=Qa;if(Ga=s,(Qa=l)&&!u)for(Ja=i;null!==Ja;)l=(s=Ja).child,22===s.tag&&null!==s.memoizedState?El(i):null!==l?(l.return=s,Ja=l):El(i);for(;null!==o;)Ja=o,bl(o,t,n),o=o.sibling;Ja=i,Ga=a,Qa=u}vl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Ja=o):vl(e)}}function vl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qa||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Ho(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ho(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&jt(h)}}}break;default:throw Error(o(163))}Qa||512&t.flags&&il(t)}catch(f){xu(t,t.return,f)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function kl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function El(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){xu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){xu(t,i,l)}}var o=t.return;try{il(t)}catch(l){xu(t,o,l)}break;case 5:var s=t.return;try{il(t)}catch(l){xu(t,s,l)}}}catch(l){xu(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var Ll,xl=Math.ceil,Cl=v.ReactCurrentDispatcher,Sl=v.ReactCurrentOwner,_l=v.ReactCurrentBatchConfig,Al=0,Rl=null,Nl=null,Tl=0,Pl=0,Ml=xi(0),Il=0,Ul=null,Ol=0,Bl=0,Fl=0,zl=null,Dl=null,$l=0,jl=1/0,Vl=null,Hl=!1,ql=null,Kl=null,Wl=!1,Zl=null,Gl=0,Ql=0,Yl=null,Jl=-1,Xl=0;function eu(){return 0!==(6&Al)?Ye():-1!==Jl?Jl:Jl=Ye()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Tl?Tl&-Tl:null!==yo.transition?(0===Xl&&(Xl=gt()),Xl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nu(e,t,n,r){if(50<Ql)throw Ql=0,Yl=null,Error(o(185));mt(e,n,r),0!==(2&Al)&&e===Rl||(e===Rl&&(0===(2&Al)&&(Bl|=n),4===Il&&au(e,Tl)),ru(e,r),1===n&&0===Al&&0===(1&t.mode)&&(jl=Ye()+500,zi&&ji()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Rl?Tl:0);if(0===r)null!==n&&Ze(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ze(n),1===t)0===e.tag?function(e){zi=!0,$i(e)}(lu.bind(null,e)):$i(lu.bind(null,e)),si((function(){0===(6&Al)&&ji()})),n=null;else{switch(vt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ru(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Jl=-1,Xl=0,0!==(6&Al))throw Error(o(327));var n=e.callbackNode;if(Eu()&&e.callbackNode!==n)return null;var r=ht(e,e===Rl?Tl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yu(e,r);else{t=r;var i=Al;Al|=2;var s=pu();for(Rl===e&&Tl===t||(Vl=null,jl=Ye()+500,hu(e,t));;)try{wu();break}catch(l){fu(e,l)}_o(),Cl.current=s,Al=i,null!==Nl?t=0:(Rl=null,Tl=0,t=Il)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ou(e,i))),1===t)throw n=Ul,hu(e,0),au(e,r),ru(e,Ye()),n;if(6===t)au(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yu(e,r))&&(0!==(s=pt(e))&&(r=s,t=ou(e,s))),1===t))throw n=Ul,hu(e,0),au(e,r),ru(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:ku(e,Dl,Vl);break;case 3:if(au(e,r),(130023424&r)===r&&10<(t=$l+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(ku.bind(null,e,Dl,Vl),t);break}ku(e,Dl,Vl);break;case 4:if(au(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xl(r/1960))-r)){e.timeoutHandle=ri(ku.bind(null,e,Dl,Vl),r);break}ku(e,Dl,Vl);break;default:throw Error(o(329))}}}return ru(e,Ye()),e.callbackNode===n?iu.bind(null,e):null}function ou(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=yu(e,t))&&(t=Dl,Dl=n,null!==t&&su(t)),e}function su(e){null===Dl?Dl=e:Dl.push.apply(Dl,e)}function au(e,t){for(t&=~Fl,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Al))throw Error(o(327));Eu();var t=ht(e,0);if(0===(1&t))return ru(e,Ye()),null;var n=yu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Ul,hu(e,0),au(e,t),ru(e,Ye()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ku(e,Dl,Vl),ru(e,Ye()),null}function uu(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(jl=Ye()+500,zi&&ji())}}function cu(e){null!==Zl&&0===Zl.tag&&0===(6&Al)&&Eu();var t=Al;Al|=1;var n=_l.transition,r=bt;try{if(_l.transition=null,bt=1,e)return e()}finally{bt=r,_l.transition=n,0===(6&(Al=t))&&ji()}}function du(){Pl=Ml.current,Ci(Ml)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nl)for(n=Nl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Mi();break;case 3:Yo(),Ci(Ri),Ci(Ai),rs();break;case 5:Xo(r);break;case 4:Yo();break;case 13:case 19:Ci(es);break;case 10:Ao(r.type._context);break;case 22:case 23:du()}n=n.return}if(Rl=e,Nl=e=Mu(e.current,null),Tl=Pl=t,Il=0,Ul=null,Fl=Bl=Ol=0,Dl=zl=null,null!==Po){for(t=0;t<Po.length;t++)if(null!==(r=(n=Po[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Po=null}return e}function fu(e,t){for(;;){var n=Nl;try{if(_o(),is.current=Js,cs){for(var r=as.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}cs=!1}if(ss=0,us=ls=as=null,ds=!1,hs=0,Sl.current=null,null===n||null===n.return){Il=1,Ul=t,Nl=null;break}e:{var s=e,a=n.return,l=n,u=t;if(t=Tl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ya(a);if(null!==p){p.flags&=-257,ma(p,a,l,0,t),1&p.mode&&ga(s,c,t),u=c;var g=(t=p).updateQueue;if(null===g){var y=new Set;y.add(u),t.updateQueue=y}else g.add(u);break e}if(0===(1&t)){ga(s,c,t),gu();break e}u=Error(o(426))}else if(io&&1&l.mode){var m=ya(a);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ma(m,a,l,0,t),go(ua(u,l));break e}}s=u=ua(u,l),4!==Il&&(Il=2),null===zl?zl=[s]:zl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,jo(s,fa(0,u,t));break e;case 1:l=u;var w=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof w.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,jo(s,pa(s,l,t));break e}}s=s.return}while(null!==s)}vu(n)}catch(v){t=v,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function pu(){var e=Cl.current;return Cl.current=Js,null===e?Js:e}function gu(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===Rl||0===(268435455&Ol)&&0===(268435455&Bl)||au(Rl,Tl)}function yu(e,t){var n=Al;Al|=2;var r=pu();for(Rl===e&&Tl===t||(Vl=null,hu(e,t));;)try{mu();break}catch(i){fu(e,i)}if(_o(),Al=n,Cl.current=r,null!==Nl)throw Error(o(261));return Rl=null,Tl=0,Il}function mu(){for(;null!==Nl;)bu(Nl)}function wu(){for(;null!==Nl&&!Ge();)bu(Nl)}function bu(e){var t=Ll(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?vu(e):Nl=t,Sl.current=null}function vu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Wa(n,t,Pl)))return void(Nl=n)}else{if(null!==(n=Za(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Il=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Il&&(Il=5)}function ku(e,t,n){var r=bt,i=_l.transition;try{_l.transition=null,bt=1,function(e,t,n,r){do{Eu()}while(null!==Zl);if(0!==(6&Al))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Rl&&(Nl=Rl=null,Tl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Wl||(Wl=!0,Ru(tt,(function(){return Eu(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=_l.transition,_l.transition=null;var a=bt;bt=1;var l=Al;Al|=4,Sl.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(k){n=null;break e}var a=0,l=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==r&&3!==h.nodeType||(u=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++c===i&&(l=a),f===s&&++d===r&&(u=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var y=g.memoizedProps,m=g.memoizedState,w=t.stateNode,b=w.getSnapshotBeforeUpdate(t.elementType===t.type?y:na(t.type,y),m);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(o(163))}}catch(k){xu(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}g=tl,tl=!1}(e,n),yl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,wl(n,e,i),Qe(),Al=l,bt=a,_l.transition=s}else e.current=n;if(Wl&&(Wl=!1,Zl=e,Gl=i),s=e.pendingLanes,0===s&&(Kl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=ql,ql=null,e;0!==(1&Gl)&&0!==e.tag&&Eu(),s=e.pendingLanes,0!==(1&s)?e===Yl?Ql++:(Ql=0,Yl=e):Ql=0,ji()}(e,t,n,r)}finally{_l.transition=i,bt=r}return null}function Eu(){if(null!==Zl){var e=vt(Gl),t=_l.transition,n=bt;try{if(_l.transition=null,bt=16>e?16:e,null===Zl)var r=!1;else{if(e=Zl,Zl=null,Gl=0,0!==(6&Al))throw Error(o(331));var i=Al;for(Al|=4,Ja=e.current;null!==Ja;){var s=Ja,a=s.child;if(0!==(16&Ja.flags)){var l=s.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Ja=c;null!==Ja;){var d=Ja;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Ja=h;else for(;null!==Ja;){var f=(d=Ja).sibling,p=d.return;if(ol(d),d===c){Ja=null;break}if(null!==f){f.return=p,Ja=f;break}Ja=p}}}var g=s.alternate;if(null!==g){var y=g.child;if(null!==y){g.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Ja=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(s=Ja).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var w=s.sibling;if(null!==w){w.return=s.return,Ja=w;break e}Ja=s.return}}var b=e.current;for(Ja=b;null!==Ja;){var v=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==v)v.return=a,Ja=v;else e:for(a=b;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(E){xu(l,l.return,E)}if(l===a){Ja=null;break e}var k=l.sibling;if(null!==k){k.return=l.return,Ja=k;break e}Ja=l.return}}if(Al=i,ji(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{bt=n,_l.transition=t}}return!1}function Lu(e,t,n){e=Do(e,t=fa(0,t=ua(n,t),1),1),t=eu(),null!==e&&(mt(e,1,t),ru(e,t))}function xu(e,t,n){if(3===e.tag)Lu(e,e,n);else for(;null!==t;){if(3===t.tag){Lu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Do(t,e=pa(t,e=ua(n,e),1),1),e=eu(),null!==t&&(mt(t,1,e),ru(t,e));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Rl===e&&(Tl&n)===n&&(4===Il||3===Il&&(130023424&Tl)===Tl&&500>Ye()-$l?hu(e,0):Fl|=n),ru(e,t)}function Su(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Uo(e,t))&&(mt(e,t,n),ru(e,n))}function _u(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Su(e,n)}function Au(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Su(e,n)}function Ru(e,t){return We(e,t)}function Nu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tu(e,t,n,r){return new Nu(e,t,n,r)}function Pu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mu(e,t){var n=e.alternate;return null===n?((n=Tu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Iu(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Pu(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case L:return Uu(n.children,i,s,t);case x:a=8,i|=8;break;case C:return(e=Tu(12,n,t,2|i)).elementType=C,e.lanes=s,e;case R:return(e=Tu(13,n,t,i)).elementType=R,e.lanes=s,e;case N:return(e=Tu(19,n,t,i)).elementType=N,e.lanes=s,e;case M:return Ou(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:a=10;break e;case _:a=9;break e;case A:a=11;break e;case T:a=14;break e;case P:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Tu(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Uu(e,t,n,r){return(e=Tu(7,e,r,t)).lanes=n,e}function Ou(e,t,n,r){return(e=Tu(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Bu(e,t,n){return(e=Tu(6,e,null,t)).lanes=n,e}function Fu(e,t,n){return(t=Tu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Du(e,t,n,r,i,o,s,a,l){return e=new zu(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Tu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bo(o),e}function $u(e){if(!e)return _i;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Ui(e,n,t)}return t}function ju(e,t,n,r,i,o,s,a,l){return(e=Du(n,r,!0,e,0,o,0,a,l)).context=$u(null),n=e.current,(o=zo(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,Do(n,o,i),e.current.lanes=i,mt(e,i,r),ru(e,r),e}function Vu(e,t,n,r){var i=t.current,o=eu(),s=tu(i);return n=$u(n),null===t.context?t.context=n:t.pendingContext=n,(t=zo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Do(i,t,s))&&(nu(e,i,s,o),$o(e,i,s)),s}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ku(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}Ll=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ri.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Ra(t),po();break;case 5:Jo(t);break;case 1:Pi(t.type)&&Oi(t);break;case 4:Qo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(Lo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ba(e,t,n):(Si(es,1&es.current),null!==(e=Ha(e,t,n))?e.sibling:null);Si(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return ja(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,xa(e,t,n)}return Ha(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,io&&0!==(1048576&t.flags)&&Xi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Va(e,t),e=t.pendingProps;var i=Ti(t,Ai.current);No(t,n),i=ys(null,t,r,e,i,n);var s=ms();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(s=!0,Oi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Bo(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Aa(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),va(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Va(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===T)return 14}return 2}(r),e=na(r,e),i){case 0:t=Sa(null,t,r,e,n);break e;case 1:t=_a(null,t,r,e,n);break e;case 11:t=ka(null,t,r,e,n);break e;case 14:t=Ea(null,t,r,na(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Sa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,_a(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Ra(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Fo(e,t),Vo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Na(e,t,r,n,i=ua(Error(o(423)),t));break e}if(r!==i){t=Na(e,t,r,n,i=ua(Error(o(424)),t));break e}for(ro=ui(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Eo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ha(e,t,n);break e}va(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&uo(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ca(e,t),va(e,t,a,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Ba(e,t,n);case 4:return Qo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ko(t,null,r,n):va(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ka(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return va(e,t,t.pendingProps,n),t.child;case 8:case 12:return va(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Si(Lo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ri.current){t=Ha(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===s.tag){(u=zo(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ro(s.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ro(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}va(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,No(t,n),r=r(i=To(i)),t.flags|=1,va(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Ea(e,t,r,i=na(r.type,i),n);case 15:return La(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),Va(e,t),t.tag=1,Pi(r)?(e=!0,Oi(t)):e=!1,No(t,n),sa(t,r,i),la(t,r,i,n),Aa(null,t,r,!0,e,n);case 19:return ja(e,t,n);case 22:return xa(e,t,n)}throw Error(o(156,t.tag))};var Wu="function"===typeof reportError?reportError:function(e){console.error(e)};function Zu(e){this._internalRoot=e}function Gu(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function Xu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Hu(s);a.call(e)}}Vu(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hu(s);o.call(e)}}var s=ju(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=s,e[pi]=s.current,jr(8===e.nodeType?e.parentNode:e),cu(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Hu(l);a.call(e)}}var l=Du(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[pi]=l.current,jr(8===e.nodeType?e.parentNode:e),cu((function(){Vu(t,l,n,r)})),l}(n,t,e,i,r);return Hu(s)}Gu.prototype.render=Zu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Vu(e,t,null,null)},Gu.prototype.unmount=Zu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Vu(null,e,null,null)})),t[pi]=null}},Gu.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Bt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(wt(t,1|n),ru(t,Ye()),0===(6&Al)&&(jl=Ye()+500,ji()))}break;case 13:cu((function(){var t=Uo(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Ku(e,1)}},Et=function(e){if(13===e.tag){var t=Uo(e,134217728);if(null!==t)nu(t,e,134217728,eu());Ku(e,134217728)}},Lt=function(e){if(13===e.tag){var t=tu(e),n=Uo(e,t);if(null!==n)nu(n,e,t,eu());Ku(e,t)}},xt=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ki(r);if(!i)throw Error(o(90));W(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=uu,Re=cu;var ec={usingClientEntryPoint:!1,Events:[bi,vi,ki,Se,_e,uu]},tc={findFiberByHostInstance:wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),ot=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qu(e))throw Error(o(299));var n=!1,r="",i=Wu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Du(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,jr(8===e.nodeType?e.parentNode:e),new Zu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Yu(t))throw Error(o(200));return Xu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Wu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=ju(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,jr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Gu(t)},t.render=function(e,t,n){if(!Yu(t))throw Error(o(200));return Xu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yu(e))throw Error(o(40));return!!e._reactRootContainer&&(cu((function(){Xu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Xu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:a.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function w(){}function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=m.prototype;var v=b.prototype=new w;v.constructor=b,g(v,m.prototype),v.isPureReactComponent=!0;var k=Array.isArray,E=Object.prototype.hasOwnProperty,L={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,i)&&!x.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:L.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+A(l,0):o,k(s)?(i="",null!=e&&(i=e.replace(_,"$&/")+"/"),R(s,t,i,"",(function(e){return e}))):null!=s&&(S(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(_,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",k(e))for(var u=0;u<e.length;u++){var c=o+A(a=e[u],u);l+=R(a,t,i,c,s)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=R(a=a.value,t,i,c=o+A(a,u++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function T(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},M={transition:null},I={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:M,ReactCurrentOwner:L};function U(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=U,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=L.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)E.call(t,u)&&!x.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=U,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>o(l,n))u<i&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,h=null,f=3,p=!1,g=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,w="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function k(e){if(y=!1,v(e),!g)if(null!==r(u))g=!0,M(E);else{var t=r(c);null!==t&&I(k,t.startTime-e)}}function E(e,n){g=!1,y&&(y=!1,w(S),S=-1),p=!0;var o=f;try{for(v(n),h=r(u);null!==h&&(!(h.expirationTime>n)||e&&!R());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(u)&&i(u),v(n)}else i(u);h=r(u)}if(null!==h)var l=!0;else{var d=r(c);null!==d&&I(k,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var L,x=!1,C=null,S=-1,_=5,A=-1;function R(){return!(t.unstable_now()-A<_)}function N(){if(null!==C){var e=t.unstable_now();A=e;var n=!0;try{n=C(!0,e)}finally{n?L():(x=!1,C=null)}}else x=!1}if("function"===typeof b)L=function(){b(N)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,P=T.port2;T.port1.onmessage=N,L=function(){P.postMessage(null)}}else L=function(){m(N,0)};function M(e){C=e,x||(x=!0,L())}function I(e,n){S=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,M(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(y?(w(S),S=-1):y=!0,I(k,o-s))):(e.sortIndex=a,n(u,e),g||p||(g=!0,M(E))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},580:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=void 0;const r=n(452);class i{constructor(e){this.lookupTable=new Map,this.head=null,this.tail=null;const{maxSize:t=25,entryExpirationTimeInMS:n=null,onEntryEvicted:r,onEntryMarkedAsMostRecentlyUsed:i,cloneFn:o,clone:s}=null!==e&&void 0!==e?e:{};if(Number.isNaN(t)||t<=0)throw new Error("maxSize must be greater than 0.");if("number"===typeof n&&(n<=0||Number.isNaN(n)))throw new Error("entryExpirationTimeInMS must either be null (no expiry) or greater than 0");this.maxSizeInternal=t,this.entryExpirationTimeInMS=n,this.onEntryEvicted=r,this.onEntryMarkedAsMostRecentlyUsed=i,this.clone=s,this.cloneFn=o}get size(){return this.cleanCache(),this.lookupTable.size}get remainingSize(){return this.maxSizeInternal-this.size}get newest(){return this.head?this.head.isExpired?(this.removeNodeFromListAndLookupTable(this.head),this.newest):this.mapNodeToEntry(this.head):null}get oldest(){return this.tail?this.tail.isExpired?(this.removeNodeFromListAndLookupTable(this.tail),this.oldest):this.mapNodeToEntry(this.tail):null}get maxSize(){return this.maxSizeInternal}set maxSize(e){if(Number.isNaN(e)||e<=0)throw new Error("maxSize must be greater than 0.");this.maxSizeInternal=e,this.enforceSizeLimit()}set(e,t,n){const i=this.lookupTable.get(e);i&&this.removeNodeFromListAndLookupTable(i);const o=new r.LRUCacheNode(e,t,{entryExpirationTimeInMS:this.entryExpirationTimeInMS,onEntryEvicted:this.onEntryEvicted,onEntryMarkedAsMostRecentlyUsed:this.onEntryMarkedAsMostRecentlyUsed,clone:this.clone,cloneFn:this.cloneFn,...n});return this.setNodeAsHead(o),this.lookupTable.set(e,o),this.enforceSizeLimit(),this}get(e){const t=this.lookupTable.get(e);return t?t.isExpired?(this.removeNodeFromListAndLookupTable(t),null):(this.setNodeAsHead(t),t.value):null}peek(e){const t=this.lookupTable.get(e);return t?t.isExpired?(this.removeNodeFromListAndLookupTable(t),null):t.value:null}delete(e){const t=this.lookupTable.get(e);return!!t&&this.removeNodeFromListAndLookupTable(t)}has(e){const t=this.lookupTable.get(e);return!!t&&(!t.isExpired||(this.removeNodeFromListAndLookupTable(t),!1))}clear(){this.head=null,this.tail=null,this.lookupTable.clear()}find(e){let t=this.head;for(;t;){if(t.isExpired){const e=t.next;this.removeNodeFromListAndLookupTable(t),t=e;continue}const n=this.mapNodeToEntry(t);if(e(n))return this.setNodeAsHead(t),n;t=t.next}return null}forEach(e){let t=this.head,n=0;for(;t;)if(t.isExpired){const e=t.next;this.removeNodeFromListAndLookupTable(t),t=e}else e(t.value,t.key,n),t=t.next,n++}*values(){let e=this.head;for(;e;)if(e.isExpired){const t=e.next;this.removeNodeFromListAndLookupTable(e),e=t}else yield e.value,e=e.next}*keys(){let e=this.head;for(;e;)if(e.isExpired){const t=e.next;this.removeNodeFromListAndLookupTable(e),e=t}else yield e.key,e=e.next}*entries(){let e=this.head;for(;e;)if(e.isExpired){const t=e.next;this.removeNodeFromListAndLookupTable(e),e=t}else yield this.mapNodeToEntry(e),e=e.next}*[Symbol.iterator](){let e=this.head;for(;e;)if(e.isExpired){const t=e.next;this.removeNodeFromListAndLookupTable(e),e=t}else yield this.mapNodeToEntry(e),e=e.next}enforceSizeLimit(){let e=this.tail;for(;null!==e&&this.size>this.maxSizeInternal;){const t=e.prev;this.removeNodeFromListAndLookupTable(e),e=t}}mapNodeToEntry(e){let{key:t,value:n}=e;return{key:t,value:n}}setNodeAsHead(e){this.removeNodeFromList(e),this.head?(e.next=this.head,this.head.prev=e,this.head=e):(this.head=e,this.tail=e),e.invokeOnEntryMarkedAsMostRecentlyUsed()}removeNodeFromList(e){null!==e.prev&&(e.prev.next=e.next),null!==e.next&&(e.next.prev=e.prev),this.head===e&&(this.head=e.next),this.tail===e&&(this.tail=e.prev),e.next=null,e.prev=null}removeNodeFromListAndLookupTable(e){return e.invokeOnEvicted(),this.removeNodeFromList(e),this.lookupTable.delete(e.key)}cleanCache(){if(!this.entryExpirationTimeInMS)return;const e=[];for(const t of this.lookupTable.values())t.isExpired&&e.push(t);e.forEach((e=>this.removeNodeFromListAndLookupTable(e)))}}t.LRUCache=i},452:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCacheNode=void 0;t.LRUCacheNode=class{constructor(e,t,n){const{entryExpirationTimeInMS:r=null,next:i=null,prev:o=null,onEntryEvicted:s,onEntryMarkedAsMostRecentlyUsed:a,clone:l,cloneFn:u}=null!==n&&void 0!==n?n:{};if("number"===typeof r&&(r<=0||Number.isNaN(r)))throw new Error("entryExpirationTimeInMS must either be null (no expiry) or greater than 0");this.clone=null!==l&&void 0!==l&&l,this.cloneFn=null!==u&&void 0!==u?u:this.defaultClone,this.key=e,this.internalValue=this.clone?this.cloneFn(t):t,this.created=Date.now(),this.entryExpirationTimeInMS=r,this.next=i,this.prev=o,this.onEntryEvicted=s,this.onEntryMarkedAsMostRecentlyUsed=a}get value(){return this.clone?this.cloneFn(this.internalValue):this.internalValue}get isExpired(){return"number"===typeof this.entryExpirationTimeInMS&&Date.now()-this.created>this.entryExpirationTimeInMS}invokeOnEvicted(){if(this.onEntryEvicted){const{key:e,value:t,isExpired:n}=this;this.onEntryEvicted({key:e,value:t,isExpired:n})}}invokeOnEntryMarkedAsMostRecentlyUsed(){if(this.onEntryMarkedAsMostRecentlyUsed){const{key:e,value:t}=this;this.onEntryMarkedAsMostRecentlyUsed({key:e,value:t})}}defaultClone(e){return"boolean"===typeof e||"string"===typeof e||"number"===typeof e?e:JSON.parse(JSON.stringify(e))}}},245:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(580),t)},956:(e,t,n)=>{"use strict";var r=n(43);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,s=r.useEffect,a=r.useLayoutEffect,l=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return a((function(){i.value=n,i.getSnapshot=t,u(i)&&c({inst:i})}),[e,n,t]),s((function(){return u(i)&&c({inst:i}),e((function(){u(i)&&c({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},39:(e,t,n)=>{"use strict";var r=n(43),i=n(461);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=i.useSyncExternalStore,a=r.useRef,l=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=a(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=u((function(){function e(e){if(!l){if(l=!0,s=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return a=t}return a=e}if(t=a,o(s,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(s=e,a=n)}var s,a,l=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,i]);var f=s(e,d[0],d[1]);return l((function(){h.hasValue=!0,h.value=f}),[f]),c(f),f}},461:(e,t,n)=>{"use strict";e.exports=n(956)},443:(e,t,n)=>{"use strict";e.exports=n(39)}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{OG:()=>B,My:()=>A,Ph:()=>T,lX:()=>P,Id:()=>O,fg:()=>D,qj:()=>U,aT:()=>N,lq:()=>M,z:()=>I,Q5:()=>j});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{aK:()=>Ra,e8:()=>fa,DO:()=>ha,dJ:()=>Na,OG:()=>Ta,My:()=>ga,Ph:()=>ka,lX:()=>Ea,Id:()=>Sa,fg:()=>Ia,qj:()=>Ca,aT:()=>va,r4:()=>Aa,aY:()=>da,x:()=>Ba,lq:()=>La,z:()=>xa,zW:()=>ya,Q5:()=>Oa});var n=__webpack_require__(391),r=__webpack_require__(43);function i(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function o(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error(`Expected Uint8Array of length ${n}, not of length=${e.length}`)}function s(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");i(e.outputLen),i(e.blockLen)}function a(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function l(e,t){o(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const u="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,c=e=>e instanceof Uint8Array,d=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),h=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function f(e){if("string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!c(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class p{clone(){return this._cloneInto()}}function g(e){const t=t=>e().update(f(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(u&&"function"===typeof u.getRandomValues)return u.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class m extends p{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=d(this.buffer)}update(e){a(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=f(e)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=d(e);for(;r<=i-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){a(this),l(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let a=o;a<r;a++)t[a]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,u=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+u,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=d(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=u/4,h=this.get();if(c>h.length)throw new Error("_sha2: outputLen bigger than state");for(let a=0;a<c;a++)s.setUint32(4*a,h[a],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return e.length=r,e.pos=s,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}const w=(e,t,n)=>e&t^e&n^t&n,b=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),v=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),k=new Uint32Array(64);class E extends m{constructor(){super(64,32,8,!1),this.A=0|v[0],this.B=0|v[1],this.C=0|v[2],this.D=0|v[3],this.E=0|v[4],this.F=0|v[5],this.G=0|v[6],this.H=0|v[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[e,t,n,r,i,o,s,a]}set(e,t,n,r,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let d=0;d<16;d++,t+=4)k[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const e=k[d-15],t=k[d-2],n=h(e,7)^h(e,18)^e>>>3,r=h(t,17)^h(t,19)^t>>>10;k[d]=r+k[d-7]+n+k[d-16]|0}let{A:n,B:r,C:i,D:o,E:s,F:a,G:l,H:u}=this;for(let d=0;d<64;d++){const e=u+(h(s,6)^h(s,11)^h(s,25))+((c=s)&a^~c&l)+b[d]+k[d]|0,t=(h(n,2)^h(n,13)^h(n,22))+w(n,r,i)|0;u=l,l=a,a=s,s=o+e|0,o=i,i=r,r=n,n=e+t|0}var c;n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,r,i,o,s,a,l,u)}roundClean(){k.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const L=g((()=>new E)),x=(BigInt(0),BigInt(1)),C=BigInt(2),S=e=>e instanceof Uint8Array,_=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function A(e){if(!S(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=_[e[n]];return t}function R(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function N(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const t=2*r,i=e.slice(t,t+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function T(e){return R(A(e))}function P(e){if(!S(e))throw new Error("Uint8Array expected");return R(A(Uint8Array.from(e).reverse()))}function M(e,t){return N(e.toString(16).padStart(2*t,"0"))}function I(e,t){return M(e,t).reverse()}function U(e,t,n){let r;if("string"===typeof t)try{r=N(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else{if(!S(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const i=r.length;if("number"===typeof n&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function O(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce(((e,t)=>e+t.length),0));let i=0;return t.forEach((e=>{if(!S(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length})),r}const B=e=>(C<<BigInt(e-1))-x,F=e=>new Uint8Array(e),z=e=>Uint8Array.from(e);function D(e,t,n){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");let r=F(e),i=F(e),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n(i,r,...t)},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F();i=a(z([0]),e),r=a(),0!==e.length&&(i=a(z([1]),e),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return O(...n)};return(e,t)=>{let n;for(s(),l(e);!(n=t(u()));)l();return s(),n}}const $={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function j(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=$[n];if("function"!==typeof i)throw new Error(`Invalid validator "${n}", expected function`);const o=e[t];if((!r||void 0!==o)&&!i(o,e))throw new Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${n}`)};for(const[i,o]of Object.entries(t))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return e}const V=BigInt(0),H=BigInt(1),q=BigInt(2),K=BigInt(3),W=BigInt(4),Z=BigInt(5),G=BigInt(8);BigInt(9),BigInt(16);function Q(e,t){const n=e%t;return n>=V?n:t+n}function Y(e,t,n){if(n<=V||t<V)throw new Error("Expected power/modulo > 0");if(n===H)return V;let r=H;for(;t>V;)t&H&&(r=r*e%n),e=e*e%n,t>>=H;return r}function J(e,t,n){let r=e;for(;t-- >V;)r*=r,r%=n;return r}function X(e,t){if(e===V||t<=V)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Q(e,t),r=t,i=V,o=H,s=H,a=V;for(;n!==V;){const e=r/n,t=r%n,l=i-s*e,u=o-a*e;r=n,n=t,i=s,o=a,s=l,a=u}if(r!==H)throw new Error("invert: does not exist");return Q(i,t)}function ee(e){if(e%W===K){const t=(e+H)/W;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%G===Z){const t=(e-Z)/G;return function(e,n){const r=e.mul(n,q),i=e.pow(r,t),o=e.mul(n,i),s=e.mul(e.mul(o,q),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-H)/q;let n,r,i;for(n=e-H,r=0;n%q===V;n/=q,r++);for(i=q;i<e&&Y(i,t,e)!==e-H;i++);if(1===r){const t=(e+H)/W;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const o=(n+H)/q;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,l=e.pow(e.mul(e.ONE,i),n),u=e.pow(s,o),c=e.pow(s,n);for(;!e.eql(c,e.ONE);){if(e.eql(c,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(c);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(l,H<<BigInt(a-t-1));l=e.sqr(n),u=e.mul(u,n),c=e.mul(c,l),a=t}return u}}(e)}const te=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ne(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function re(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function ie(e){const t=re(e);return t+Math.ceil(t/2)}class oe extends p{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,s(e);const n=f(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return a(this),this.iHash.update(e),this}digestInto(e){a(this),o(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const se=(e,t,n)=>new oe(e,t).update(n).digest();se.create=(e,t)=>new oe(e,t);const ae=BigInt(0),le=BigInt(1);function ue(e){return j(e.Fp,te.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),j(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ne(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{Ph:ce,aT:de}=e,he={Err:class extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},_parseInt(e){const{Err:t}=he;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:ce(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=he,n="string"===typeof e?de(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:o}=he._parseInt(n.subarray(2)),{d:s,l:a}=he._parseInt(o);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:s}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},r=t(n(e.s)),i=t(n(e.r)),o=r.length/2,s=i.length/2,a=n(o),l=n(s);return`30${n(s+o+4)}02${l}${i}02${a}${r}`}},fe=BigInt(0),pe=BigInt(1),ge=(BigInt(2),BigInt(3));BigInt(4);function ye(e){const t=function(e){const t=ue(e);j(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const i=t.toAffine();return O(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function o(e){const{a:r,b:i}=t,o=n.sqr(e),s=n.mul(o,e);return n.add(n.add(s,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function s(e){return"bigint"===typeof e&&fe<e&&e<t.n}function a(e){if(!s(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:o}=t;if(n&&"bigint"!==typeof e){if(e instanceof Uint8Array&&(e=A(e)),"string"!==typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let s;try{s="bigint"===typeof e?e:T(U("private key",e,r))}catch(l){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return i&&(s=Q(s,o)),a(s),s}const u=new Map;function c(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof d)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?d.ZERO:new d(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(d.fromAffine)}static fromHex(e){const t=d.fromAffine(i(U("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(l(e))}_setWindowSize(e){this._WINDOW_SIZE=e,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const i=n.sqr(r),s=o(e);if(!n.eql(i,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){c(e);const{px:t,py:r,pz:i}=this,{px:o,py:s,pz:a}=e,l=n.eql(n.mul(t,a),n.mul(o,i)),u=n.eql(n.mul(r,a),n.mul(s,i));return l&&u}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,ge),{px:o,py:s,pz:a}=this;let l=n.ZERO,u=n.ZERO,c=n.ZERO,h=n.mul(o,o),f=n.mul(s,s),p=n.mul(a,a),g=n.mul(o,s);return g=n.add(g,g),c=n.mul(o,a),c=n.add(c,c),l=n.mul(e,c),u=n.mul(i,p),u=n.add(l,u),l=n.sub(f,u),u=n.add(f,u),u=n.mul(l,u),l=n.mul(g,l),c=n.mul(i,c),p=n.mul(e,p),g=n.sub(h,p),g=n.mul(e,g),g=n.add(g,c),c=n.add(h,h),h=n.add(c,h),h=n.add(h,p),h=n.mul(h,g),u=n.add(u,h),p=n.mul(s,a),p=n.add(p,p),h=n.mul(p,g),l=n.sub(l,h),c=n.mul(p,f),c=n.add(c,c),c=n.add(c,c),new d(l,u,c)}add(e){c(e);const{px:r,py:i,pz:o}=this,{px:s,py:a,pz:l}=e;let u=n.ZERO,h=n.ZERO,f=n.ZERO;const p=t.a,g=n.mul(t.b,ge);let y=n.mul(r,s),m=n.mul(i,a),w=n.mul(o,l),b=n.add(r,i),v=n.add(s,a);b=n.mul(b,v),v=n.add(y,m),b=n.sub(b,v),v=n.add(r,o);let k=n.add(s,l);return v=n.mul(v,k),k=n.add(y,w),v=n.sub(v,k),k=n.add(i,o),u=n.add(a,l),k=n.mul(k,u),u=n.add(m,w),k=n.sub(k,u),f=n.mul(p,v),u=n.mul(g,w),f=n.add(u,f),u=n.sub(m,f),f=n.add(m,f),h=n.mul(u,f),m=n.add(y,y),m=n.add(m,y),w=n.mul(p,w),v=n.mul(g,v),m=n.add(m,w),w=n.sub(y,w),w=n.mul(p,w),v=n.add(v,w),y=n.mul(m,v),h=n.add(h,y),y=n.mul(k,v),u=n.mul(b,u),u=n.sub(u,y),y=n.mul(b,m),f=n.mul(k,f),f=n.add(f,y),new d(u,h,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return f.wNAFCached(this,u,e,(e=>{const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(d.fromAffine)}))}multiplyUnsafe(e){const r=d.ZERO;if(e===fe)return r;if(a(e),e===pe)return this;const{endo:i}=t;if(!i)return f.unsafeLadder(this,e);let{k1neg:o,k1:s,k2neg:l,k2:u}=i.splitScalar(e),c=r,h=r,p=this;for(;s>fe||u>fe;)s&pe&&(c=c.add(p)),u&pe&&(h=h.add(p)),p=p.double(),s>>=pe,u>>=pe;return o&&(c=c.negate()),l&&(h=h.negate()),h=new d(n.mul(h.px,i.beta),h.py,h.pz),c.add(h)}multiply(e){a(e);let r,i,o=e;const{endo:s}=t;if(s){const{k1neg:e,k1:t,k2neg:a,k2:l}=s.splitScalar(o);let{p:u,f:c}=this.wNAF(t),{p:h,f:p}=this.wNAF(l);u=f.constTimeNegate(e,u),h=f.constTimeNegate(a,h),h=new d(n.mul(h.px,s.beta),h.py,h.pz),r=u.add(h),i=c.add(p)}else{const{p:e,f:t}=this.wNAF(o);r=e,i=t}return d.normalizeZ([r,i])[0]}multiplyAndAddUnsafe(e,t,n){const r=d.BASE,i=(e,t)=>t!==fe&&t!==pe&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,n));return o.is0()?void 0:o}toAffine(e){const{px:t,py:r,pz:i}=this,o=this.is0();null==e&&(e=o?n.ONE:n.inv(i));const s=n.mul(t,e),a=n.mul(r,e),l=n.mul(i,e);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw new Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===pe)return!0;if(n)return n(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===pe?this:n?n(d,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertValidity(),r(d,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return A(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const h=t.nBitLength,f=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>ae;)n&le&&(r=r.add(i)),i=i.double(),n>>=le;return r},precomputeWindow(e,t){const{windows:n,windowSize:i}=r(t),o=[];let s=e,a=s;for(let r=0;r<n;r++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(t,i,o){const{windows:s,windowSize:a}=r(t);let l=e.ZERO,u=e.BASE;const c=BigInt(2**t-1),d=2**t,h=BigInt(t);for(let e=0;e<s;e++){const t=e*a;let r=Number(o&c);o>>=h,r>a&&(r-=d,o+=le);const s=t,f=t+Math.abs(r)-1,p=e%2!==0,g=r<0;0===r?u=u.add(n(p,i[s])):l=l.add(n(g,i[f]))}return{p:l,f:u}},wNAFCached(e,t,n,r){const i=e._WINDOW_SIZE||1;let o=t.get(e);return o||(o=this.precomputeWindow(e,i),1!==i&&t.set(e,r(o))),this.wNAF(i,o,n)}}}(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:s}}function me(e){const t=function(e){const t=ue(e);return j(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,i=n.BYTES+1,o=2*n.BYTES+1;function s(e){return Q(e,r)}function a(e){return X(e,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:c,isWithinCurveOrder:d}=ye({...t,toBytes(e,t,r){const i=t.toAffine(),o=n.toBytes(i.x),s=O;return r?s(Uint8Array.from([t.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],s=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===o&&4===r){return{x:n.fromBytes(s.subarray(0,n.BYTES)),y:n.fromBytes(s.subarray(n.BYTES,2*n.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}{const e=T(s);if(!function(e){return fe<e&&e<n.ORDER}(e))throw new Error("Point is not on curve");const t=c(e);let i=n.sqrt(t);return 1===(1&r)!==((i&pe)===pe)&&(i=n.neg(i)),{x:e,y:i}}}}),h=e=>A(M(e,t.nByteLength));function f(e){return e>r>>pe}const p=(e,t,n)=>T(e.slice(t,n));class g{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=U("compactSignature",e,2*n),new g(p(e,0,n),p(e,n,2*n))}static fromDER(e){const{r:t,s:n}=he.toSig(U("DER",e));return new g(t,n)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new g(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:i,recovery:o}=this,u=b(U("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const c=2===o||3===o?r+t.n:r;if(c>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=0===(1&o)?"02":"03",f=l.fromHex(d+h(c)),p=a(c),g=s(-u*p),y=s(i*p),m=l.BASE.multiplyAndAddUnsafe(f,g,y);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return N(this.toDERHex())}toDERHex(){return he.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return N(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const y={isValidPrivateKey(e){try{return u(e),!0}catch(t){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const e=ie(t.n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.length,i=re(t),o=ie(t);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const s=Q(n?T(e):P(e),t-H)+H;return n?I(s,i):M(s,i)}(t.randomBytes(e),t.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function m(e){const t=e instanceof Uint8Array,n="string"===typeof e,r=(t||n)&&e.length;return t?r===i||r===o:n?r===2*i||r===2*o:e instanceof l}const w=t.bits2int||function(e){const n=T(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},b=t.bits2int_modN||function(e){return s(w(e))},v=B(t.nBitLength);function k(e){if("bigint"!==typeof e)throw new Error("bigint expected");if(!(fe<=e&&e<v))throw new Error(`bigint expected < 2^${t.nBitLength}`);return M(e,t.nByteLength)}function E(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L;if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:c}=t;let{lowS:h,prehash:p,extraEntropy:y}=i;null==h&&(h=!0),e=U("msgHash",e),p&&(e=U("prehashed msgHash",o(e)));const m=b(e),v=u(r),E=[k(v),k(m)];if(null!=y){const e=!0===y?c(n.BYTES):y;E.push(U("extraEntropy",e))}const x=O(...E),C=m;return{seed:x,k2sig:function(e){const t=w(e);if(!d(t))return;const n=a(t),r=l.BASE.multiply(t).toAffine(),i=s(r.x);if(i===fe)return;const o=s(n*s(C+i*v));if(o===fe)return;let u=(r.x===i?0:2)|Number(r.y&pe),c=o;return h&&f(o)&&(c=function(e){return f(e)?s(-e):e}(o),u^=1),new g(i,c,u)}}}const L={lowS:t.lowS,prehash:!1},x={lowS:t.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(m(e))throw new Error("first arg must be private key");if(!m(t))throw new Error("second arg must be public key");return l.fromHex(t).multiply(u(e)).toRawBytes(n)},sign:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L;const{seed:i,k2sig:o}=E(e,n,r),s=t;return D(s.hash.outputLen,s.nByteLength,s.hmac)(i,o)},verify:function(e,n,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;const o=e;if(n=U("msgHash",n),r=U("publicKey",r),"strict"in i)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:c}=i;let d,h;try{if("string"===typeof o||o instanceof Uint8Array)try{d=g.fromDER(o)}catch(E){if(!(E instanceof he.Err))throw E;d=g.fromCompact(o)}else{if("object"!==typeof o||"bigint"!==typeof o.r||"bigint"!==typeof o.s)throw new Error("PARSE");{const{r:e,s:t}=o;d=new g(e,t)}}h=l.fromHex(r)}catch(L){if("PARSE"===L.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&d.hasHighS())return!1;c&&(n=t.hash(n));const{r:f,s:p}=d,y=b(n),m=a(p),w=s(y*m),v=s(f*m),k=l.BASE.multiplyAndAddUnsafe(h,w,v)?.toAffine();return!!k&&s(k.x)===f},ProjectivePoint:l,Signature:g,utils:y}}function we(e){return{hash:e,hmac:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return se(e,t,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce(((e,t)=>e+t.length),0));let i=0;return t.forEach((e=>{if(!c(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length})),r}(...r))},randomBytes:y}}const be=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ve=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ke=BigInt(1),Ee=BigInt(2),Le=(e,t)=>(e+t/Ee)/t;function xe(e){const t=be,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),u=e*e*e%t,c=u*u*e%t,d=J(c,n,t)*c%t,h=J(d,n,t)*c%t,f=J(h,Ee,t)*u%t,p=J(f,i,t)*f%t,g=J(p,o,t)*p%t,y=J(g,a,t)*g%t,m=J(y,l,t)*y%t,w=J(m,a,t)*g%t,b=J(w,n,t)*c%t,v=J(b,s,t)*p%t,k=J(v,r,t)*u%t,E=J(k,Ee,t);if(!Ce.eql(Ce.sqr(E),e))throw new Error("Cannot find square root");return E}const Ce=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=V)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:o}=ne(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=ee(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:B(i),ZERO:V,ONE:H,create:t=>Q(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return V<=t&&t<e},is0:e=>e===V,isOdd:e=>(e&H)===H,neg:t=>Q(-t,e),eql:(e,t)=>e===t,sqr:t=>Q(t*t,e),add:(t,n)=>Q(t+n,e),sub:(t,n)=>Q(t-n,e),mul:(t,n)=>Q(t*n,e),pow:(e,t)=>function(e,t,n){if(n<V)throw new Error("Expected power > 0");if(n===V)return e.ONE;if(n===H)return t;let r=e.ONE,i=t;for(;n>V;)n&H&&(r=e.mul(r,i)),i=e.sqr(i),n>>=H;return r}(a,e,t),div:(t,n)=>Q(t*X(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>X(t,e),sqrt:r.sqrt||(e=>s(a,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?I(e,o):M(e,o),fromBytes:e=>{if(e.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${e.length}`);return n?P(e):T(e)}});return Object.freeze(a)}(be,void 0,void 0,{sqrt:xe}),Se=function(e,t){const n=t=>me({...e,...we(t)});return Object.freeze({...n(t),create:n})}({a:BigInt(0),b:BigInt(7),Fp:Ce,n:ve,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=ve,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ke*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=Le(o*e,t),l=Le(-r*e,t);let u=Q(e-a*n-l*i,t),c=Q(-a*r-l*o,t);const d=u>s,h=c>s;if(d&&(u=t-u),h&&(c=t-c),u>s||c>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:h,k2:c}}}},L),_e=BigInt(0),Ae=e=>"bigint"===typeof e&&_e<e&&e<be,Re={};function Ne(e){let t=Re[e];if(void 0===t){const n=L(Uint8Array.from(e,(e=>e.charCodeAt(0))));t=O(n,n),Re[e]=t}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return L(O(t,...r))}const Te=e=>e.toRawBytes(!0).slice(1),Pe=e=>M(e,32),Me=e=>Q(e,be),Ie=e=>Q(e,ve),Ue=Se.ProjectivePoint;function Oe(e){let t=Se.utils.normPrivateKeyToScalar(e),n=Ue.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:Ie(-t),bytes:Te(n)}}function Be(e){if(!Ae(e))throw new Error("bad x: need 0 < x < p");const t=Me(e*e);let n=xe(Me(t*e+BigInt(7)));n%Ee!==_e&&(n=Me(-n));const r=new Ue(e,n,ke);return r.assertValidity(),r}function Fe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ie(T(Ne("BIP0340/challenge",...t)))}function ze(e){return Oe(e).bytes}function De(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y(32);const r=U("message",e),{bytes:i,scalar:o}=Oe(t),s=U("auxRand",n,32),a=Pe(o^T(Ne("BIP0340/aux",s))),l=Ne("BIP0340/nonce",a,i,r),u=Ie(T(l));if(u===_e)throw new Error("sign failed: k is zero");const{bytes:c,scalar:d}=Oe(u),h=Fe(c,i,r),f=new Uint8Array(64);if(f.set(c,0),f.set(Pe(Ie(d+h*o)),32),!$e(f,r,i))throw new Error("sign: Invalid signature produced");return f}function $e(e,t,n){const r=U("signature",e,64),i=U("message",t),o=U("publicKey",n,32);try{const e=Be(T(o)),t=T(r.subarray(0,32));if(!Ae(t))return!1;const n=T(r.subarray(32,64));if(!("bigint"===typeof(u=n)&&_e<u&&u<ve))return!1;const c=Fe(Pe(t),Te(e),i),d=(s=e,a=n,l=Ie(-c),Ue.BASE.multiplyAndAddUnsafe(s,a,l));return!(!d||!d.hasEvenY()||d.toAffine().x!==t)}catch(c){return!1}var s,a,l,u}const je=(()=>({getPublicKey:ze,sign:De,verify:$e,utils:{randomPrivateKey:Se.utils.randomPrivateKey,lift_x:Be,pointToBytes:Te,numberToBytesBE:M,bytesToNumberBE:T,taggedHash:Ne,mod:Q}}))(),Ve="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,He=e=>e instanceof Uint8Array,qe=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ke=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");const We=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Ze(e){if(!He(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=We[e[n]];return t}function Ge(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const t=2*r,i=e.slice(t,t+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function Qe(e){if("string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!He(e))throw new Error("expected Uint8Array, got "+typeof e);return e}function Ye(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce(((e,t)=>e+t.length),0));let i=0;return t.forEach((e=>{if(!He(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length})),r}class Je{clone(){return this._cloneInto()}}function Xe(e){const t=t=>e().update(Qe(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function et(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(Ve&&"function"===typeof Ve.getRandomValues)return Ve.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function tt(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function nt(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error(`Expected Uint8Array of length ${n}, not of length=${e.length}`)}const rt={number:tt,bool:function(e){if("boolean"!==typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:nt,hash:function(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");tt(e.outputLen),tt(e.blockLen)},exists:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,t){nt(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}},it=rt;class ot extends Je{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=qe(this.buffer)}update(e){it.exists(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=Qe(e)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=qe(e);for(;r<=i-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){it.exists(this),it.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let c=o;c<r;c++)t[c]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,u=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+u,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=qe(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=a/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let c=0;c<l;c++)s.setUint32(4*c,u[c],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return e.length=r,e.pos=s,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}const st=(e,t,n)=>e&t^e&n^t&n,at=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),lt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ut=new Uint32Array(64);class ct extends ot{constructor(){super(64,32,8,!1),this.A=0|lt[0],this.B=0|lt[1],this.C=0|lt[2],this.D=0|lt[3],this.E=0|lt[4],this.F=0|lt[5],this.G=0|lt[6],this.H=0|lt[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[e,t,n,r,i,o,s,a]}set(e,t,n,r,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let d=0;d<16;d++,t+=4)ut[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const e=ut[d-15],t=ut[d-2],n=Ke(e,7)^Ke(e,18)^e>>>3,r=Ke(t,17)^Ke(t,19)^t>>>10;ut[d]=r+ut[d-7]+n+ut[d-16]|0}let{A:n,B:r,C:i,D:o,E:s,F:a,G:l,H:u}=this;for(let d=0;d<64;d++){const e=u+(Ke(s,6)^Ke(s,11)^Ke(s,25))+((c=s)&a^~c&l)+at[d]+ut[d]|0,t=(Ke(n,2)^Ke(n,13)^Ke(n,22))+st(n,r,i)|0;u=l,l=a,a=s,s=o+e|0,o=i,i=r,r=n,n=e+t|0}var c;n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,r,i,o,s,a,l,u)}roundClean(){ut.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class dt extends ct{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const ht=Xe((()=>new ct));Xe((()=>new dt));function ft(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function pt(){const e=(e,t)=>n=>e(t(n));for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const i=Array.from(n).reverse().reduce(((t,n)=>t?e(t,n.encode):n.encode),void 0),o=n.reduce(((t,n)=>t?e(t,n.decode):n.decode),void 0);return{encode:i,decode:o}}function gt(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!==typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(ft(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!==typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!==typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}}function yt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("string"!==typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!==typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!==typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!==typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function mt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"=";if(ft(e),"string"!==typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!==typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!==typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!==typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!==typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function wt(e){if("function"!==typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function bt(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const i=[],o=Array.from(e);for(o.forEach((e=>{if(ft(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,s=!0;for(let i=r;i<o.length;i++){const a=o[i],l=t*e+a;if(!Number.isSafeInteger(l)||t*e/t!==e||l-a!==t*e)throw new Error("convertRadix: carry overflow");if(e=l%n,o[i]=Math.floor(l/n),!Number.isSafeInteger(o[i])||o[i]*n+e!==l)throw new Error("convertRadix: carry overflow");s&&(o[i]?s=!1:r=i)}if(i.push(e),s)break}for(let s=0;s<e.length-1&&0===e[s];s++)i.push(0);return i.reverse()}const vt=(e,t)=>t?vt(t,e%t):e,kt=(e,t)=>e+(t-vt(e,t));function Et(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(kt(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${kt(t,n)}`);let i=0,o=0;const s=2**n-1,a=[];for(const l of e){if(ft(l),l>=2**t)throw new Error(`convertRadix2: invalid data word=${l} from=${t}`);if(i=i<<t|l,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=n;o-=n)a.push((i>>o-n&s)>>>0);i&=2**o-1}if(i=i<<n-o&s,!r&&o>=t)throw new Error("Excess padding");if(!r&&i)throw new Error(`Non-zero padding: ${i}`);return r&&o>0&&a.push(i>>>0),a}function Lt(e){return ft(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return bt(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!==typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(bt(t,e,256))}}}function xt(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(ft(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(kt(8,e)>32||kt(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Et(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!==typeof n[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Et(n,e,8,t))}}}function Ct(e){if("function"!==typeof e)throw new Error("unsafeWrapper fn should be function");return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(null,n)}catch(i){}}}const St=pt(xt(4),gt("0123456789ABCDEF"),yt("")),_t=pt(xt(5),gt("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),mt(5),yt("")),At=(pt(xt(5),gt("0123456789ABCDEFGHIJKLMNOPQRSTUV"),mt(5),yt("")),pt(xt(5),gt("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),yt(""),wt((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),pt(xt(6),gt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),mt(6),yt(""))),Rt=pt(xt(6),gt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),mt(6),yt("")),Nt=e=>pt(Lt(58),gt(e),yt("")),Tt=Nt("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Pt=(Nt("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),Nt("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),[0,2,3,5,6,7,9,10,11]),Mt={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=Tt.encode(r).padStart(Pt[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),i=Pt.indexOf(r.length),o=Tt.decode(r);for(let e=0;e<o.length-i;e++)if(0!==o[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(o.slice(o.length-i)))}return Uint8Array.from(t)}},It=pt(gt("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),yt("")),Ut=[996825010,642813549,513874426,1027748829,705979059];function Ot(e){const t=e>>25;let n=(33554431&e)<<5;for(let r=0;r<Ut.length;r++)1===(t>>r&1)&&(n^=Ut[r]);return n}function Bt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=e.length;let i=1;for(let o=0;o<r;o++){const t=e.charCodeAt(o);if(t<33||t>126)throw new Error(`Invalid prefix (${e})`);i=Ot(i)^t>>5}i=Ot(i);for(let o=0;o<r;o++)i=Ot(i)^31&e.charCodeAt(o);for(let o of t)i=Ot(i)^o;for(let o=0;o<6;o++)i=Ot(i);return i^=n,It.encode(Et([i%2**30],30,5,!1))}function Ft(e){const t="bech32"===e?1:734539939,n=xt(5),r=n.decode,i=n.encode,o=Ct(r);function s(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:90;if("string"!==typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==n&&e.length>n)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${n})`);const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const i=(e=r).lastIndexOf("1");if(0===i||-1===i)throw new Error('Letter "1" must be present between prefix and data only');const o=e.slice(0,i),s=e.slice(i+1);if(s.length<6)throw new Error("Data must be at least 6 characters long");const a=It.decode(s).slice(0,-6),l=Bt(o,a,t);if(!s.endsWith(l))throw new Error(`Invalid checksum in ${e}: expected "${l}"`);return{prefix:o,words:a}}return{encode:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:90;if("string"!==typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(!Array.isArray(n)||n.length&&"number"!==typeof n[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof n);const i=e.length+7+n.length;if(!1!==r&&i>r)throw new TypeError(`Length ${i} exceeds limit ${r}`);return`${e=e.toLowerCase()}1${It.encode(n)}${Bt(e,n,t)}`},decode:s,decodeToBytes:function(e){const{prefix:t,words:n}=s(e,!1);return{prefix:t,words:n,bytes:r(n)}},decodeUnsafe:Ct(s),fromWords:r,fromWordsUnsafe:o,toWords:i}}const zt=Ft("bech32"),Dt=(Ft("bech32m"),{encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)});pt(xt(4),gt("0123456789abcdef"),yt(""),wt((e=>{if("string"!==typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));function $t(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function jt(e){if("boolean"!==typeof e)throw new Error(`boolean expected, not ${e}`)}function Vt(e){return e instanceof Uint8Array||null!=e&&"object"===typeof e&&"Uint8Array"===e.constructor.name}function Ht(e){if(!Vt(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error(`Uint8Array expected of length ${n}, not of length=${e.length}`)}function qt(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Kt(e,t){Ht(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Wt=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),Zt=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Gt=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function Qt(e){if("string"===typeof e)e=function(e){if("string"!==typeof e)throw new Error("string expected, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e);else{if(!Vt(e))throw new Error("Uint8Array expected, got "+typeof e);e=e.slice()}return e}function Yt(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n}const Jt=(e,t)=>(Object.assign(t,e),t);function Xt(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,u=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+u,a,r)}const en=16,tn=new Uint8Array(16),nn=Zt(tn),rn=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255;class on{constructor(e,t){this.blockLen=en,this.outputLen=en,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,Ht(e=Qt(e),16);const n=Gt(e);let r=n.getUint32(0,!1),i=n.getUint32(4,!1),o=n.getUint32(8,!1),s=n.getUint32(12,!1);const a=[];for(let y=0;y<128;y++)a.push({s0:rn(r),s1:rn(i),s2:rn(o),s3:rn(s)}),({s0:r,s1:i,s2:o,s3:s}={s3:(c=o)<<31|(d=s)>>>1,s2:(u=i)<<31|c>>>1,s1:(l=r)<<31|u>>>1,s0:l>>>1^225<<24&-(1&d)});var l,u,c,d;const h=(e=>e>65536?8:e>1024?4:2)(t||1024);if(![1,2,4,8].includes(h))throw new Error(`ghash: wrong window size=${h}, should be 2, 4 or 8`);this.W=h;const f=128/h,p=this.windowSize=2**h,g=[];for(let y=0;y<f;y++)for(let e=0;e<p;e++){let t=0,n=0,r=0,i=0;for(let o=0;o<h;o++){if(!(e>>>h-o-1&1))continue;const{s0:s,s1:l,s2:u,s3:c}=a[h*y+o];t^=s,n^=l,r^=u,i^=c}g.push({s0:t,s1:n,s2:r,s3:i})}this.t=g}_updateBlock(e,t,n,r){e^=this.s0,t^=this.s1,n^=this.s2,r^=this.s3;const{W:i,t:o,windowSize:s}=this;let a=0,l=0,u=0,c=0;const d=(1<<i)-1;let h=0;for(const f of[e,t,n,r])for(let e=0;e<4;e++){const t=f>>>8*e&255;for(let e=8/i-1;e>=0;e--){const n=t>>>i*e&d,{s0:r,s1:f,s2:p,s3:g}=o[h*s+n];a^=r,l^=f,u^=p,c^=g,h+=1}}this.s0=a,this.s1=l,this.s2=u,this.s3=c}update(e){e=Qt(e),qt(this);const t=Zt(e),n=Math.floor(e.length/en),r=e.length%en;for(let i=0;i<n;i++)this._updateBlock(t[4*i+0],t[4*i+1],t[4*i+2],t[4*i+3]);return r&&(tn.set(e.subarray(n*en)),this._updateBlock(nn[0],nn[1],nn[2],nn[3]),nn.fill(0)),this}destroy(){const{t:e}=this;for(const t of e)t.s0=0,t.s1=0,t.s2=0,t.s3=0}digestInto(e){qt(this),Kt(e,this),this.finished=!0;const{s0:t,s1:n,s2:r,s3:i}=this,o=Zt(e);return o[0]=t,o[1]=n,o[2]=r,o[3]=i,e}digest(){const e=new Uint8Array(en);return this.digestInto(e),this.destroy(),e}}class sn extends on{constructor(e,t){const n=function(e){e.reverse();const t=1&e[15];let n=0;for(let r=0;r<e.length;r++){const t=e[r];e[r]=t>>>1|n,n=(1&t)<<7}return e[0]^=225&-t,e}((e=Qt(e)).slice());super(n,t),n.fill(0)}update(e){e=Qt(e),qt(this);const t=Zt(e),n=e.length%en,r=Math.floor(e.length/en);for(let i=0;i<r;i++)this._updateBlock(rn(t[4*i+3]),rn(t[4*i+2]),rn(t[4*i+1]),rn(t[4*i+0]));return n&&(tn.set(e.subarray(r*en)),this._updateBlock(rn(nn[3]),rn(nn[2]),rn(nn[1]),rn(nn[0])),nn.fill(0)),this}digestInto(e){qt(this),Kt(e,this),this.finished=!0;const{s0:t,s1:n,s2:r,s3:i}=this,o=Zt(e);return o[0]=t,o[1]=n,o[2]=r,o[3]=i,e.reverse()}}function an(e){const t=(t,n)=>e(n,t.length).update(Qt(t)).digest(),n=e(new Uint8Array(16),0);return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=(t,n)=>e(t,n),t}const ln=an(((e,t)=>new on(e,t))),un=an(((e,t)=>new sn(e,t))),cn=16,dn=new Uint8Array(cn);function hn(e){return e<<1^283&-(e>>7)}function fn(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(1&t),e=hn(e);return n}const pn=(()=>{let e=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=hn(r))e[n]=r;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=255&(r^r>>4^r>>5^r>>6^r>>7^99)}return t})(),gn=pn.map(((e,t)=>pn.indexOf(t))),yn=e=>e<<8|e>>>24;function mn(e,t){if(256!==e.length)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map(((n,r)=>t(e[r]))),r=n.map(yn),i=r.map(yn),o=i.map(yn),s=new Uint32Array(65536),a=new Uint32Array(65536),l=new Uint16Array(65536);for(let u=0;u<256;u++)for(let t=0;t<256;t++){const c=256*u+t;s[c]=n[u]^r[t],a[c]=i[u]^o[t],l[c]=e[u]<<8|e[t]}return{sbox:e,sbox2:l,T0:n,T1:r,T2:i,T3:o,T01:s,T23:a}}const wn=mn(pn,(e=>fn(e,3)<<24|e<<16|e<<8|fn(e,2))),bn=mn(gn,(e=>fn(e,11)<<24|fn(e,13)<<16|fn(e,9)<<8|fn(e,14))),vn=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=hn(n))e[t]=n;return e})();function kn(e){Ht(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:n}=wn,r=Zt(e),i=r.length,o=e=>xn(n,e,e,e,e),s=new Uint32Array(t+28);s.set(r);for(let l=i;l<s.length;l++){let e=s[l-1];l%i===0?e=o((a=e)<<24|a>>>8)^vn[l/i-1]:i>6&&l%i===4&&(e=o(e)),s[l]=s[l-i]^e}var a;return s}function En(e){const t=kn(e),n=t.slice(),r=t.length,{sbox2:i}=wn,{T0:o,T1:s,T2:a,T3:l}=bn;for(let u=0;u<r;u+=4)for(let e=0;e<4;e++)n[u+e]=t[r-u-4+e];t.fill(0);for(let u=4;u<r-4;u++){const e=n[u],t=xn(i,e,e,e,e);n[u]=o[255&t]^s[t>>>8&255]^a[t>>>16&255]^l[t>>>24]}return n}function Ln(e,t,n,r,i,o){return e[n<<8&65280|r>>>8&255]^t[i>>>8&65280|o>>>24&255]}function xn(e,t,n,r,i){return e[255&t|65280&n]|e[r>>>16&255|i>>>16&65280]<<16}function Cn(e,t,n,r,i){const{sbox2:o,T01:s,T23:a}=wn;let l=0;t^=e[l++],n^=e[l++],r^=e[l++],i^=e[l++];const u=e.length/4-2;for(let c=0;c<u;c++){const o=e[l++]^Ln(s,a,t,n,r,i),u=e[l++]^Ln(s,a,n,r,i,t),c=e[l++]^Ln(s,a,r,i,t,n),d=e[l++]^Ln(s,a,i,t,n,r);t=o,n=u,r=c,i=d}return{s0:e[l++]^xn(o,t,n,r,i),s1:e[l++]^xn(o,n,r,i,t),s2:e[l++]^xn(o,r,i,t,n),s3:e[l++]^xn(o,i,t,n,r)}}function Sn(e,t,n,r,i){const{sbox2:o,T01:s,T23:a}=bn;let l=0;t^=e[l++],n^=e[l++],r^=e[l++],i^=e[l++];const u=e.length/4-2;for(let c=0;c<u;c++){const o=e[l++]^Ln(s,a,t,i,r,n),u=e[l++]^Ln(s,a,n,t,i,r),c=e[l++]^Ln(s,a,r,n,t,i),d=e[l++]^Ln(s,a,i,r,n,t);t=o,n=u,r=c,i=d}return{s0:e[l++]^xn(o,t,i,r,n),s1:e[l++]^xn(o,n,t,i,r),s2:e[l++]^xn(o,r,n,t,i),s3:e[l++]^xn(o,i,r,n,t)}}function _n(e,t){if(!t)return new Uint8Array(e);if(Ht(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}function An(e,t,n,r){Ht(t,cn),Ht(n);const i=n.length;r=_n(i,r);const o=t,s=Zt(o);let{s0:a,s1:l,s2:u,s3:c}=Cn(e,s[0],s[1],s[2],s[3]);const d=Zt(n),h=Zt(r);for(let p=0;p+4<=d.length;p+=4){h[p+0]=d[p+0]^a,h[p+1]=d[p+1]^l,h[p+2]=d[p+2]^u,h[p+3]=d[p+3]^c;let t=1;for(let e=o.length-1;e>=0;e--)t=t+(255&o[e])|0,o[e]=255&t,t>>>=8;({s0:a,s1:l,s2:u,s3:c}=Cn(e,s[0],s[1],s[2],s[3]))}const f=cn*Math.floor(d.length/4);if(f<i){const e=new Uint32Array([a,l,u,c]),t=Wt(e);for(let o=f,s=0;o<i;o++,s++)r[o]=n[o]^t[s]}return r}function Rn(e,t,n,r,i){Ht(n,cn),Ht(r),i=_n(r.length,i);const o=n,s=Zt(o),a=Gt(o),l=Zt(r),u=Zt(i),c=t?0:12,d=r.length;let h=a.getUint32(c,t),{s0:f,s1:p,s2:g,s3:y}=Cn(e,s[0],s[1],s[2],s[3]);for(let w=0;w+4<=l.length;w+=4)u[w+0]=l[w+0]^f,u[w+1]=l[w+1]^p,u[w+2]=l[w+2]^g,u[w+3]=l[w+3]^y,h=h+1>>>0,a.setUint32(c,h,t),({s0:f,s1:p,s2:g,s3:y}=Cn(e,s[0],s[1],s[2],s[3]));const m=cn*Math.floor(l.length/4);if(m<d){const e=new Uint32Array([f,p,g,y]),t=Wt(e);for(let n=m,o=0;n<d;n++,o++)i[n]=r[n]^t[o]}return i}Jt({blockSize:16,nonceLength:16},(function(e,t){function n(n,r){const i=kn(e),o=t.slice(),s=An(i,o,n,r);return i.fill(0),o.fill(0),s}return Ht(e),Ht(t,cn),{encrypt:(e,t)=>n(e,t),decrypt:(e,t)=>n(e,t)}}));function Nn(e){if(Ht(e),e.length%cn!==0)throw new Error("aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size 16")}function Tn(e,t,n){let r=e.length;const i=r%cn;if(!t&&0!==i)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const o=Zt(e);if(t){let e=cn-i;e||(e=cn),r+=e}const s=_n(r,n);return{b:o,o:Zt(s),out:s}}function Pn(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=e[n-1];if(r<=0||r>16)throw new Error(`aes/pcks5: wrong padding byte: ${r}`);const i=e.subarray(0,-r);for(let o=0;o<r;o++)if(e[n-o-1]!==r)throw new Error("aes/pcks5: wrong padding");return i}function Mn(e){const t=new Uint8Array(16),n=Zt(t);t.set(e);const r=cn-e.length;for(let i=cn-r;i<cn;i++)t[i]=r;return n}Jt({blockSize:16},(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ht(e);const n=!t.disablePadding;return{encrypt:(t,r)=>{Ht(t);const{b:i,o:o,out:s}=Tn(t,n,r),a=kn(e);let l=0;for(;l+4<=i.length;){const{s0:e,s1:t,s2:n,s3:r}=Cn(a,i[l+0],i[l+1],i[l+2],i[l+3]);o[l++]=e,o[l++]=t,o[l++]=n,o[l++]=r}if(n){const e=Mn(t.subarray(4*l)),{s0:n,s1:r,s2:i,s3:s}=Cn(a,e[0],e[1],e[2],e[3]);o[l++]=n,o[l++]=r,o[l++]=i,o[l++]=s}return a.fill(0),s},decrypt:(t,r)=>{Nn(t);const i=En(e),o=_n(t.length,r),s=Zt(t),a=Zt(o);for(let e=0;e+4<=s.length;){const{s0:t,s1:n,s2:r,s3:o}=Sn(i,s[e+0],s[e+1],s[e+2],s[e+3]);a[e++]=t,a[e++]=n,a[e++]=r,a[e++]=o}return i.fill(0),Pn(o,n)}}}));const In=Jt({blockSize:16,nonceLength:16},(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ht(e),Ht(t,16);const r=!n.disablePadding;return{encrypt:(n,i)=>{const o=kn(e),{b:s,o:a,out:l}=Tn(n,r,i),u=Zt(t);let c=u[0],d=u[1],h=u[2],f=u[3],p=0;for(;p+4<=s.length;)c^=s[p+0],d^=s[p+1],h^=s[p+2],f^=s[p+3],({s0:c,s1:d,s2:h,s3:f}=Cn(o,c,d,h,f)),a[p++]=c,a[p++]=d,a[p++]=h,a[p++]=f;if(r){const e=Mn(n.subarray(4*p));c^=e[0],d^=e[1],h^=e[2],f^=e[3],({s0:c,s1:d,s2:h,s3:f}=Cn(o,c,d,h,f)),a[p++]=c,a[p++]=d,a[p++]=h,a[p++]=f}return o.fill(0),l},decrypt:(n,i)=>{Nn(n);const o=En(e),s=Zt(t),a=_n(n.length,i),l=Zt(n),u=Zt(a);let c=s[0],d=s[1],h=s[2],f=s[3];for(let e=0;e+4<=l.length;){const t=c,n=d,r=h,i=f;c=l[e+0],d=l[e+1],h=l[e+2],f=l[e+3];const{s0:s,s1:a,s2:p,s3:g}=Sn(o,c,d,h,f);u[e++]=s^t,u[e++]=a^n,u[e++]=p^r,u[e++]=g^i}return o.fill(0),Pn(a,r)}}}));Jt({blockSize:16,nonceLength:16},(function(e,t){function n(n,r,i){const o=kn(e),s=n.length;i=_n(s,i);const a=Zt(n),l=Zt(i),u=r?l:a,c=Zt(t);let d=c[0],h=c[1],f=c[2],p=c[3];for(let e=0;e+4<=a.length;){const{s0:t,s1:n,s2:r,s3:i}=Cn(o,d,h,f,p);l[e+0]=a[e+0]^t,l[e+1]=a[e+1]^n,l[e+2]=a[e+2]^r,l[e+3]=a[e+3]^i,d=u[e++],h=u[e++],f=u[e++],p=u[e++]}const g=cn*Math.floor(a.length/4);if(g<s){({s0:d,s1:h,s2:f,s3:p}=Cn(o,d,h,f,p));const e=Wt(new Uint32Array([d,h,f,p]));for(let t=g,r=0;t<s;t++,r++)i[t]=n[t]^e[r];e.fill(0)}return o.fill(0),i}return Ht(e),Ht(t,16),{encrypt:(e,t)=>n(e,!0,t),decrypt:(e,t)=>n(e,!1,t)}}));function Un(e,t,n,r,i){const o=e.create(n,r.length+(i?.length||0));i&&o.update(i),o.update(r);const s=new Uint8Array(16),a=Gt(s);return i&&Xt(a,0,BigInt(8*i.length),t),Xt(a,8,BigInt(8*r.length),t),o.update(s),o.digest()}Jt({blockSize:16,nonceLength:12,tagLength:16},(function(e,t,n){if(Ht(t),0===t.length)throw new Error("aes/gcm: empty nonce");const r=16;function i(e,t,r){const i=Un(ln,!1,e,r,n);for(let n=0;n<t.length;n++)i[n]^=t[n];return i}function o(){const n=kn(e),r=dn.slice(),i=dn.slice();if(Rn(n,!1,i,i,r),12===t.length)i.set(t);else{const e=dn.slice();Xt(Gt(e),8,BigInt(8*t.length),!1),ln.create(r).update(t).update(e).digestInto(i)}return{xk:n,authKey:r,counter:i,tagMask:Rn(n,!1,i,dn)}}return{encrypt:e=>{Ht(e);const{xk:t,authKey:n,counter:s,tagMask:a}=o(),l=new Uint8Array(e.length+r);Rn(t,!1,s,e,l);const u=i(n,a,l.subarray(0,l.length-r));return l.set(u,e.length),t.fill(0),l},decrypt:e=>{if(Ht(e),e.length<r)throw new Error("aes/gcm: ciphertext less than tagLen (16)");const{xk:t,authKey:n,counter:s,tagMask:a}=o(),l=e.subarray(0,-16),u=e.subarray(-16);if(!Yt(i(n,a,l),u))throw new Error("aes/gcm: invalid ghash tag");const c=Rn(t,!1,s,l);return n.fill(0),a.fill(0),t.fill(0),c}}}));const On=(e,t,n)=>r=>{if(!Number.isSafeInteger(r)||t>r||r>n)throw new Error(`${e}: invalid value=${r}, must be [${t}..${n}]`)};Jt({blockSize:16,nonceLength:12,tagLength:16},(function(e,t,n){const r=On("AAD",0,2**36),i=On("plaintext",0,2**36),o=On("nonce",12,12),s=On("ciphertext",16,2**36+16);function a(){const n=e.length;if(16!==n&&24!==n&&32!==n)throw new Error(`key length must be 16, 24 or 32 bytes, got: ${n} bytes`);const r=kn(e),i=new Uint8Array(n),o=new Uint8Array(16),s=Zt(t);let a=0,l=s[0],u=s[1],c=s[2],d=0;for(const e of[o,i].map(Zt)){const t=Zt(e);for(let e=0;e<t.length;e+=2){const{s0:n,s1:i}=Cn(r,a,l,u,c);t[e+0]=n,t[e+1]=i,a=++d}}return r.fill(0),{authKey:o,encKey:kn(i)}}function l(e,r,i){const o=Un(un,!0,r,i,n);for(let n=0;n<12;n++)o[n]^=t[n];o[15]&=127;const s=Zt(o);let a=s[0],l=s[1],u=s[2],c=s[3];return({s0:a,s1:l,s2:u,s3:c}=Cn(e,a,l,u,c)),s[0]=a,s[1]=l,s[2]=u,s[3]=c,o}function u(e,t,n){let r=t.slice();return r[15]|=128,Rn(e,!0,r,n)}return Ht(t),o(t.length),n&&(Ht(n),r(n.length)),{encrypt:e=>{Ht(e),i(e.length);const{encKey:t,authKey:n}=a(),r=l(t,n,e),o=new Uint8Array(e.length+16);return o.set(r,e.length),o.set(u(t,r,e)),t.fill(0),n.fill(0),o},decrypt:e=>{Ht(e),s(e.length);const t=e.subarray(-16),{encKey:n,authKey:r}=a(),i=u(n,t,e.subarray(0,-16)),o=l(n,r,i);if(n.fill(0),r.fill(0),!Yt(t,o))throw new Error("invalid polyval tag");return i}}}));const Bn=(e,t)=>255&e[t++]|(255&e[t++])<<8;class Fn{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,Ht(e=Qt(e),32);const t=Bn(e,0),n=Bn(e,2),r=Bn(e,4),i=Bn(e,6),o=Bn(e,8),s=Bn(e,10),a=Bn(e,12),l=Bn(e,14);this.r[0]=8191&t,this.r[1]=8191&(t>>>13|n<<3),this.r[2]=7939&(n>>>10|r<<6),this.r[3]=8191&(r>>>7|i<<9),this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,this.r[6]=8191&(o>>>14|s<<2),this.r[7]=8065&(s>>>11|a<<5),this.r[8]=8191&(a>>>8|l<<8),this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Bn(e,16+2*u)}process(e,t){const n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?0:2048,{h:r,r:i}=this,o=i[0],s=i[1],a=i[2],l=i[3],u=i[4],c=i[5],d=i[6],h=i[7],f=i[8],p=i[9],g=Bn(e,t+0),y=Bn(e,t+2),m=Bn(e,t+4),w=Bn(e,t+6),b=Bn(e,t+8),v=Bn(e,t+10),k=Bn(e,t+12),E=Bn(e,t+14);let L=r[0]+(8191&g),x=r[1]+(8191&(g>>>13|y<<3)),C=r[2]+(8191&(y>>>10|m<<6)),S=r[3]+(8191&(m>>>7|w<<9)),_=r[4]+(8191&(w>>>4|b<<12)),A=r[5]+(b>>>1&8191),R=r[6]+(8191&(b>>>14|v<<2)),N=r[7]+(8191&(v>>>11|k<<5)),T=r[8]+(8191&(k>>>8|E<<8)),P=r[9]+(E>>>5|n),M=0,I=M+L*o+x*(5*p)+C*(5*f)+S*(5*h)+_*(5*d);M=I>>>13,I&=8191,I+=A*(5*c)+R*(5*u)+N*(5*l)+T*(5*a)+P*(5*s),M+=I>>>13,I&=8191;let U=M+L*s+x*o+C*(5*p)+S*(5*f)+_*(5*h);M=U>>>13,U&=8191,U+=A*(5*d)+R*(5*c)+N*(5*u)+T*(5*l)+P*(5*a),M+=U>>>13,U&=8191;let O=M+L*a+x*s+C*o+S*(5*p)+_*(5*f);M=O>>>13,O&=8191,O+=A*(5*h)+R*(5*d)+N*(5*c)+T*(5*u)+P*(5*l),M+=O>>>13,O&=8191;let B=M+L*l+x*a+C*s+S*o+_*(5*p);M=B>>>13,B&=8191,B+=A*(5*f)+R*(5*h)+N*(5*d)+T*(5*c)+P*(5*u),M+=B>>>13,B&=8191;let F=M+L*u+x*l+C*a+S*s+_*o;M=F>>>13,F&=8191,F+=A*(5*p)+R*(5*f)+N*(5*h)+T*(5*d)+P*(5*c),M+=F>>>13,F&=8191;let z=M+L*c+x*u+C*l+S*a+_*s;M=z>>>13,z&=8191,z+=A*o+R*(5*p)+N*(5*f)+T*(5*h)+P*(5*d),M+=z>>>13,z&=8191;let D=M+L*d+x*c+C*u+S*l+_*a;M=D>>>13,D&=8191,D+=A*s+R*o+N*(5*p)+T*(5*f)+P*(5*h),M+=D>>>13,D&=8191;let $=M+L*h+x*d+C*c+S*u+_*l;M=$>>>13,$&=8191,$+=A*a+R*s+N*o+T*(5*p)+P*(5*f),M+=$>>>13,$&=8191;let j=M+L*f+x*h+C*d+S*c+_*u;M=j>>>13,j&=8191,j+=A*l+R*a+N*s+T*o+P*(5*p),M+=j>>>13,j&=8191;let V=M+L*p+x*f+C*h+S*d+_*c;M=V>>>13,V&=8191,V+=A*u+R*l+N*a+T*s+P*o,M+=V>>>13,V&=8191,M=(M<<2)+M|0,M=M+I|0,I=8191&M,M>>>=13,U+=M,r[0]=I,r[1]=U,r[2]=O,r[3]=B,r[4]=F,r[5]=z,r[6]=D,r[7]=$,r[8]=j,r[9]=V}finalize(){const{h:e,pad:t}=this,n=new Uint16Array(10);let r=e[1]>>>13;e[1]&=8191;for(let s=2;s<10;s++)e[s]+=r,r=e[s]>>>13,e[s]&=8191;e[0]+=5*r,r=e[0]>>>13,e[0]&=8191,e[1]+=r,r=e[1]>>>13,e[1]&=8191,e[2]+=r,n[0]=e[0]+5,r=n[0]>>>13,n[0]&=8191;for(let s=1;s<10;s++)n[s]=e[s]+r,r=n[s]>>>13,n[s]&=8191;n[9]-=8192;let i=(1^r)-1;for(let s=0;s<10;s++)n[s]&=i;i=~i;for(let s=0;s<10;s++)e[s]=e[s]&i|n[s];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let o=e[0]+t[0];e[0]=65535&o;for(let s=1;s<8;s++)o=(e[s]+t[s]|0)+(o>>>16)|0,e[s]=65535&o}update(e){qt(this);const{buffer:t,blockLen:n}=this,r=(e=Qt(e)).length;for(let i=0;i<r;){const o=Math.min(n-this.pos,r-i);if(o!==n)t.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===n&&(this.process(t,0,!1),this.pos=0);else for(;n<=r-i;i+=n)this.process(e,i)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(e){qt(this),Kt(e,this),this.finished=!0;const{buffer:t,h:n}=this;let{pos:r}=this;if(r){for(t[r++]=1;r<16;r++)t[r]=0;this.process(t,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)e[i++]=n[o]>>>0,e[i++]=n[o]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}}const zn=function(e){const t=(t,n)=>e(n).update(Qt(t)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}((e=>new Fn(e))),Dn=e=>Uint8Array.from(e.split("").map((e=>e.charCodeAt(0)))),$n=Dn("expand 16-byte k"),jn=Dn("expand 32-byte k"),Vn=Zt($n),Hn=Zt(jn);Hn.slice();function qn(e,t){return e<<t|e>>>32-t}function Kn(e){return e.byteOffset%4===0}const Wn=2**32-1,Zn=new Uint32Array;function Gn(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:o,rounds:s}=function(e,t){if(null==t||"object"!==typeof t)throw new Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!==typeof e)throw new Error("core must be a function");return $t(i),$t(s),jt(o),jt(n),function(t,a,l,u){let c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;Ht(t),Ht(a),Ht(l);const d=l.length;if(u||(u=new Uint8Array(d)),Ht(u),$t(c),c<0||c>=Wn)throw new Error("arx: counter overflow");if(u.length<d)throw new Error(`arx: output (${u.length}) is shorter than data (${d})`);const h=[];let f,p,g=t.length;if(32===g)f=t.slice(),h.push(f),p=Hn;else{if(16!==g||!n)throw new Error(`arx: invalid 32-byte key, got length=${g}`);f=new Uint8Array(32),f.set(t),f.set(t,16),p=Vn,h.push(f)}Kn(a)||(a=a.slice(),h.push(a));const y=Zt(f);if(r){if(24!==a.length)throw new Error("arx: extended nonce must be 24 bytes");r(p,y,Zt(a.subarray(0,16)),y),a=a.subarray(16)}const m=16-i;if(m!==a.length)throw new Error(`arx: nonce must be ${m} or 16 bytes`);if(12!==m){const e=new Uint8Array(12);e.set(a,o?0:12-a.length),a=e,h.push(a)}const w=Zt(a);for(!function(e,t,n,r,i,o,s,a){const l=i.length,u=new Uint8Array(64),c=Zt(u),d=Kn(i)&&Kn(o),h=d?Zt(i):Zn,f=d?Zt(o):Zn;for(let p=0;p<l;s++){if(e(t,n,r,c,s,a),s>=Wn)throw new Error("arx: counter overflow");const g=Math.min(64,l-p);if(d&&64===g){const e=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let t,n=0;n<16;n++)t=e+n,f[t]=h[t]^c[n];p+=64}else{for(let e,t=0;t<g;t++)e=p+t,o[e]=i[e]^u[t];p+=g}}}(e,p,y,w,l,u,c,s);h.length>0;)h.pop().fill(0);return u}}function Qn(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:20,s=e[0],a=e[1],l=e[2],u=e[3],c=t[0],d=t[1],h=t[2],f=t[3],p=t[4],g=t[5],y=t[6],m=t[7],w=i,b=n[0],v=n[1],k=n[2],E=s,L=a,x=l,C=u,S=c,_=d,A=h,R=f,N=p,T=g,P=y,M=m,I=w,U=b,O=v,B=k;for(let z=0;z<o;z+=2)E=E+S|0,I=qn(I^E,16),N=N+I|0,S=qn(S^N,12),E=E+S|0,I=qn(I^E,8),N=N+I|0,S=qn(S^N,7),L=L+_|0,U=qn(U^L,16),T=T+U|0,_=qn(_^T,12),L=L+_|0,U=qn(U^L,8),T=T+U|0,_=qn(_^T,7),x=x+A|0,O=qn(O^x,16),P=P+O|0,A=qn(A^P,12),x=x+A|0,O=qn(O^x,8),P=P+O|0,A=qn(A^P,7),C=C+R|0,B=qn(B^C,16),M=M+B|0,R=qn(R^M,12),C=C+R|0,B=qn(B^C,8),M=M+B|0,R=qn(R^M,7),E=E+_|0,B=qn(B^E,16),P=P+B|0,_=qn(_^P,12),E=E+_|0,B=qn(B^E,8),P=P+B|0,_=qn(_^P,7),L=L+A|0,I=qn(I^L,16),M=M+I|0,A=qn(A^M,12),L=L+A|0,I=qn(I^L,8),M=M+I|0,A=qn(A^M,7),x=x+R|0,U=qn(U^x,16),N=N+U|0,R=qn(R^N,12),x=x+R|0,U=qn(U^x,8),N=N+U|0,R=qn(R^N,7),C=C+S|0,O=qn(O^C,16),T=T+O|0,S=qn(S^T,12),C=C+S|0,O=qn(O^C,8),T=T+O|0,S=qn(S^T,7);let F=0;r[F++]=s+E|0,r[F++]=a+L|0,r[F++]=l+x|0,r[F++]=u+C|0,r[F++]=c+S|0,r[F++]=d+_|0,r[F++]=h+A|0,r[F++]=f+R|0,r[F++]=p+N|0,r[F++]=g+T|0,r[F++]=y+P|0,r[F++]=m+M|0,r[F++]=w+I|0,r[F++]=b+U|0,r[F++]=v+O|0,r[F++]=k+B|0}const Yn=Gn(Qn,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Jn=Gn(Qn,{counterRight:!1,counterLength:8,extendNonceFn:function(e,t,n,r){let i=e[0],o=e[1],s=e[2],a=e[3],l=t[0],u=t[1],c=t[2],d=t[3],h=t[4],f=t[5],p=t[6],g=t[7],y=n[0],m=n[1],w=n[2],b=n[3];for(let k=0;k<20;k+=2)i=i+l|0,y=qn(y^i,16),h=h+y|0,l=qn(l^h,12),i=i+l|0,y=qn(y^i,8),h=h+y|0,l=qn(l^h,7),o=o+u|0,m=qn(m^o,16),f=f+m|0,u=qn(u^f,12),o=o+u|0,m=qn(m^o,8),f=f+m|0,u=qn(u^f,7),s=s+c|0,w=qn(w^s,16),p=p+w|0,c=qn(c^p,12),s=s+c|0,w=qn(w^s,8),p=p+w|0,c=qn(c^p,7),a=a+d|0,b=qn(b^a,16),g=g+b|0,d=qn(d^g,12),a=a+d|0,b=qn(b^a,8),g=g+b|0,d=qn(d^g,7),i=i+u|0,b=qn(b^i,16),p=p+b|0,u=qn(u^p,12),i=i+u|0,b=qn(b^i,8),p=p+b|0,u=qn(u^p,7),o=o+c|0,y=qn(y^o,16),g=g+y|0,c=qn(c^g,12),o=o+c|0,y=qn(y^o,8),g=g+y|0,c=qn(c^g,7),s=s+d|0,m=qn(m^s,16),h=h+m|0,d=qn(d^h,12),s=s+d|0,m=qn(m^s,8),h=h+m|0,d=qn(d^h,7),a=a+l|0,w=qn(w^a,16),f=f+w|0,l=qn(l^f,12),a=a+l|0,w=qn(w^a,8),f=f+w|0,l=qn(l^f,7);let v=0;r[v++]=i,r[v++]=o,r[v++]=s,r[v++]=a,r[v++]=y,r[v++]=m,r[v++]=w,r[v++]=b},allowShortKeys:!1}),Xn=new Uint8Array(16),er=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(Xn.subarray(n))},tr=new Uint8Array(32);function nr(e,t,n,r,i){const o=e(t,n,tr),s=zn.create(o);i&&er(s,i),er(s,r);const a=new Uint8Array(16),l=Gt(a);Xt(l,0,BigInt(i?i.length:0),!0),Xt(l,8,BigInt(r.length),!0),s.update(a);const u=s.digest();return o.fill(0),u}const rr=e=>(t,n,r)=>{const i=16;return Ht(t,32),Ht(n),{encrypt:(o,s)=>{const a=o.length,l=a+i;s?Ht(s,l):s=new Uint8Array(l),e(t,n,o,s,1);const u=nr(e,t,n,s.subarray(0,-16),r);return s.set(u,a),s},decrypt:(o,s)=>{const a=o.length,l=a-i;if(a<i)throw new Error("encrypted data must be at least 16 bytes");s?Ht(s,l):s=new Uint8Array(l);const u=o.subarray(0,-16);if(!Yt(o.subarray(-16),nr(e,t,n,u,r)))throw new Error("invalid tag");return e(t,n,u,s,1),s}}};rr(Yn),rr(Jn);class ir extends Je{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,it.hash(e);const n=Qe(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return it.exists(this),this.iHash.update(e),this}digestInto(e){it.exists(this),it.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const or=(e,t,n)=>new ir(e,t).update(n).digest();function sr(e,t,n){return it.hash(e),void 0===n&&(n=new Uint8Array(e.outputLen)),or(e,Qe(n),Qe(t))}or.create=(e,t)=>new ir(e,t);const ar=new Uint8Array([0]),lr=new Uint8Array;function ur(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32;if(it.hash(e),it.number(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/e.outputLen);void 0===n&&(n=lr);const o=new Uint8Array(i*e.outputLen),s=or.create(e,t),a=s._cloneInto(),l=new Uint8Array(s.outputLen);for(let u=0;u<i;u++)ar[0]=u+1,a.update(0===u?lr:l).update(n).update(ar).digestInto(l),o.set(l,e.outputLen*u),s._cloneInto(a);return s.destroy(),a.destroy(),l.fill(0),ar.fill(0),o.slice(0,r)}var cr=Object.defineProperty,dr=(e,t)=>{for(var n in t)cr(e,n,{get:t[n],enumerable:!0})},hr=Symbol("verified");function fr(e){if(!(e instanceof Object))return!1;if("number"!==typeof e.kind)return!1;if("string"!==typeof e.content)return!1;if("number"!==typeof e.created_at)return!1;if("string"!==typeof e.pubkey)return!1;if(!e.pubkey.match(/^[a-f0-9]{64}$/))return!1;if(!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let e=0;e<n.length;e++)if("object"===typeof n[e])return!1}return!0}dr({},{Queue:()=>kr,QueueNode:()=>vr,binarySearch:()=>br,insertEventIntoAscendingList:()=>wr,insertEventIntoDescendingList:()=>mr,normalizeURL:()=>yr,utf8Decoder:()=>pr,utf8Encoder:()=>gr});var pr=new TextDecoder("utf-8"),gr=new TextEncoder;function yr(e){-1===e.indexOf("://")&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),("80"===t.port&&"ws:"===t.protocol||"443"===t.port&&"wss:"===t.protocol)&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}function mr(e,t){const[n,r]=br(e,(e=>t.id===e.id?0:t.created_at===e.created_at?-1:e.created_at-t.created_at));return r||e.splice(n,0,t),e}function wr(e,t){const[n,r]=br(e,(e=>t.id===e.id?0:t.created_at===e.created_at?-1:t.created_at-e.created_at));return r||e.splice(n,0,t),e}function br(e,t){let n=0,r=e.length-1;for(;n<=r;){const i=Math.floor((n+r)/2),o=t(e[i]);if(0===o)return[i,!0];o<0?r=i-1:n=i+1}return[n,!1]}var vr=class{value;next=null;prev=null;constructor(e){this.value=e}},kr=class{first;last;constructor(){this.first=null,this.last=null}enqueue(e){const t=new vr(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const e=this.first;return this.first=null,this.last=null,e.value}const e=this.first;return this.first=e.next,e.value}};function Er(e){return Ze(ht(gr.encode(function(e){if(!fr(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}(e))))}var Lr=new class{generateSecretKey(){return je.utils.randomPrivateKey()}getPublicKey(e){return Ze(je.getPublicKey(e))}finalizeEvent(e,t){const n=e;return n.pubkey=Ze(je.getPublicKey(t)),n.id=Er(n),n.sig=Ze(je.sign(Er(n),t)),n[hr]=!0,n}verifyEvent(e){if("boolean"===typeof e[hr])return e[hr];const t=Er(e);if(t!==e.id)return e[hr]=!1,!1;try{const n=je.verify(e.sig,t,e.pubkey);return e[hr]=n,n}catch(n){return e[hr]=!1,!1}}},xr=Lr.generateSecretKey,Cr=Lr.getPublicKey,Sr=Lr.finalizeEvent,_r=Lr.verifyEvent;function Ar(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function Rr(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function Nr(e){return 2e4<=e&&e<3e4}function Tr(e){return 3e4<=e&&e<4e4}function Pr(e){return Ar(e)?"regular":Rr(e)?"replaceable":Nr(e)?"ephemeral":Tr(e)?"parameterized":"unknown"}dr({},{Application:()=>$i,BadgeAward:()=>jr,BadgeDefinition:()=>Ii,BlockedRelaysList:()=>yi,BookmarkList:()=>fi,Bookmarksets:()=>Ti,Calendar:()=>Zi,CalendarEventRSVP:()=>Gi,ChannelCreation:()=>Hr,ChannelHideMessage:()=>Wr,ChannelMessage:()=>Kr,ChannelMetadata:()=>qr,ChannelMuteUser:()=>Zr,ClassifiedListing:()=>Hi,ClientAuth:()=>Li,CommunitiesList:()=>pi,CommunityDefinition:()=>Ji,CommunityPostApproval:()=>ni,Contacts:()=>Or,CreateOrUpdateProduct:()=>Bi,CreateOrUpdateStall:()=>Oi,Curationsets:()=>Pi,Date:()=>Ki,DraftClassifiedListing:()=>qi,DraftLong:()=>zi,Emojisets:()=>Di,EncryptedDirectMessage:()=>Br,EncryptedDirectMessages:()=>Fr,EventDeletion:()=>zr,FileMetadata:()=>Qr,FileServerPreference:()=>vi,Followsets:()=>Ai,GenericRepost:()=>Vr,Genericlists:()=>Ri,HTTPAuth:()=>_i,Handlerinformation:()=>Yi,Handlerrecommendation:()=>Qi,Highlights:()=>ui,InterestsList:()=>wi,Interestsets:()=>Ui,JobFeedback:()=>oi,JobRequest:()=>ri,JobResult:()=>ii,Label:()=>ti,LightningPubRPC:()=>Ei,LiveChatMessage:()=>Yr,LiveEvent:()=>ji,LongFormArticle:()=>Fi,Metadata:()=>Mr,Mutelist:()=>ci,NWCWalletInfo:()=>ki,NWCWalletRequest:()=>xi,NWCWalletResponse:()=>Ci,NostrConnect:()=>Si,OpenTimestamps:()=>Gr,Pinlist:()=>di,ProblemTracker:()=>Jr,ProfileBadges:()=>Mi,PublicChatsList:()=>gi,Reaction:()=>$r,RecommendRelay:()=>Ur,RelayList:()=>hi,Relaysets:()=>Ni,Report:()=>Xr,Reporting:()=>ei,Repost:()=>Dr,SearchRelaysList:()=>mi,ShortTextNote:()=>Ir,Time:()=>Wi,UserEmojiList:()=>bi,UserStatuses:()=>Vi,Zap:()=>li,ZapGoal:()=>si,ZapRequest:()=>ai,classifyKind:()=>Pr,isEphemeralKind:()=>Nr,isParameterizedReplaceableKind:()=>Tr,isRegularKind:()=>Ar,isReplaceableKind:()=>Rr});var Mr=0,Ir=1,Ur=2,Or=3,Br=4,Fr=4,zr=5,Dr=6,$r=7,jr=8,Vr=16,Hr=40,qr=41,Kr=42,Wr=43,Zr=44,Gr=1040,Qr=1063,Yr=1311,Jr=1971,Xr=1984,ei=1984,ti=1985,ni=4550,ri=5999,ii=6999,oi=7e3,si=9041,ai=9734,li=9735,ui=9802,ci=1e4,di=10001,hi=10002,fi=10003,pi=10004,gi=10005,yi=10006,mi=10007,wi=10015,bi=10030,vi=10096,ki=13194,Ei=21e3,Li=22242,xi=23194,Ci=23195,Si=24133,_i=27235,Ai=3e4,Ri=30001,Ni=30002,Ti=30003,Pi=30004,Mi=30008,Ii=30009,Ui=30015,Oi=30017,Bi=30018,Fi=30023,zi=30024,Di=30030,$i=30078,ji=30311,Vi=30315,Hi=30402,qi=30403,Ki=31922,Wi=31923,Zi=31924,Gi=31925,Qi=31989,Yi=31990,Ji=34550;function Xi(e,t){if(e.ids&&-1===e.ids.indexOf(t.id))return!1;if(e.kinds&&-1===e.kinds.indexOf(t.kind))return!1;if(e.authors&&-1===e.authors.indexOf(t.pubkey))return!1;for(let n in e)if("#"===n[0]){let r=e[`#${n.slice(1)}`];if(r&&!t.tags.find((e=>{let[t,i]=e;return t===n.slice(1)&&-1!==r.indexOf(i)})))return!1}return!(e.since&&t.created_at<e.since)&&!(e.until&&t.created_at>e.until)}function eo(e,t){for(let n=0;n<e.length;n++)if(Xi(e[n],t))return!0;return!1}function to(e,t){let n=t.length+3,r=e.indexOf(`"${t}":`)+n,i=e.slice(r).indexOf('"')+r+1;return e.slice(i,i+64)}function no(e,t){let n=t.length,r=e.indexOf(`"${t}":`)+n+3,i=e.slice(r),o=Math.min(i.indexOf(","),i.indexOf("}"));return parseInt(i.slice(0,o),10)}function ro(e){let t=e.slice(0,22).indexOf('"EVENT"');if(-1===t)return null;let n=e.slice(t+7+1).indexOf('"');if(-1===n)return null;let r=t+7+1+n,i=e.slice(r+1,80).indexOf('"');if(-1===i)return null;let o=r+1+i;return e.slice(r+1,o)}function io(e,t){return t===to(e,"id")}function oo(e,t){return t===to(e,"pubkey")}function so(e,t){return t===no(e,"kind")}dr({},{getHex64:()=>to,getInt:()=>no,getSubscriptionId:()=>ro,matchEventId:()=>io,matchEventKind:()=>so,matchEventPubkey:()=>oo});function ao(e,t){return{kind:Li,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}dr({},{makeAuthEvent:()=>ao});try{WebSocket}catch{}try{WebSocket}catch{}var lo={};dr(lo,{BECH32_REGEX:()=>co,Bech32MaxSize:()=>uo,decode:()=>ho,encodeBytes:()=>wo,naddrEncode:()=>ko,neventEncode:()=>vo,noteEncode:()=>yo,nprofileEncode:()=>bo,npubEncode:()=>go,nrelayEncode:()=>Eo,nsecEncode:()=>po});var uo=5e3,co=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function ho(e){let{prefix:t,words:n}=zt.decode(e,uo),r=new Uint8Array(zt.fromWords(n));switch(t){case"nprofile":{let e=fo(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(32!==e[0][0].length)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Ze(e[0][0]),relays:e[1]?e[1].map((e=>pr.decode(e))):[]}}}case"nevent":{let e=fo(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for nevent");if(32!==e[0][0].length)throw new Error("TLV 0 should be 32 bytes");if(e[2]&&32!==e[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(e[3]&&4!==e[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Ze(e[0][0]),relays:e[1]?e[1].map((e=>pr.decode(e))):[],author:e[2]?.[0]?Ze(e[2][0]):void 0,kind:e[3]?.[0]?parseInt(Ze(e[3][0]),16):void 0}}}case"naddr":{let e=fo(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!e[2]?.[0])throw new Error("missing TLV 2 for naddr");if(32!==e[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(!e[3]?.[0])throw new Error("missing TLV 3 for naddr");if(4!==e[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:pr.decode(e[0][0]),pubkey:Ze(e[2][0]),kind:parseInt(Ze(e[3][0]),16),relays:e[1]?e[1].map((e=>pr.decode(e))):[]}}}case"nrelay":{let e=fo(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for nrelay");return{type:"nrelay",data:pr.decode(e[0][0])}}case"nsec":return{type:t,data:r};case"npub":case"note":return{type:t,data:Ze(r)};default:throw new Error(`unknown prefix ${t}`)}}function fo(e){let t={},n=e;for(;n.length>0;){let e=n[0],r=n[1],i=n.slice(2,2+r);if(n=n.slice(2+r),i.length<r)throw new Error(`not enough data to read on TLV ${e}`);t[e]=t[e]||[],t[e].push(i)}return t}function po(e){return wo("nsec",e)}function go(e){return wo("npub",Ge(e))}function yo(e){return wo("note",Ge(e))}function mo(e,t){let n=zt.toWords(t);return zt.encode(e,n,uo)}function wo(e,t){return mo(e,t)}function bo(e){return mo("nprofile",Lo({0:[Ge(e.pubkey)],1:(e.relays||[]).map((e=>gr.encode(e)))}))}function vo(e){let t;return void 0!==e.kind&&(t=function(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=255&e,t}(e.kind)),mo("nevent",Lo({0:[Ge(e.id)],1:(e.relays||[]).map((e=>gr.encode(e))),2:e.author?[Ge(e.author)]:[],3:t?[new Uint8Array(t)]:[]}))}function ko(e){let t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e.kind,!1),mo("naddr",Lo({0:[gr.encode(e.identifier)],1:(e.relays||[]).map((e=>gr.encode(e))),2:[Ge(e.pubkey)],3:[new Uint8Array(t)]}))}function Eo(e){return mo("nrelay",Lo({0:[gr.encode(e)]}))}function Lo(e){let t=[];return Object.entries(e).reverse().forEach((e=>{let[n,r]=e;r.forEach((e=>{let r=new Uint8Array(e.length+2);r.set([parseInt(n)],0),r.set([e.length],1),r.set(e,2),t.push(r)}))})),Ye(...t)}var xo={};async function Co(e,t,n){const r=e instanceof Uint8Array?Ze(e):e,i=_o(Se.getSharedSecret(r,"02"+t));let o=Uint8Array.from(et(16)),s=gr.encode(n),a=In(i,o).encrypt(s);return`${At.encode(new Uint8Array(a))}?iv=${At.encode(new Uint8Array(o.buffer))}`}async function So(e,t,n){const r=e instanceof Uint8Array?Ze(e):e;let[i,o]=n.split("?iv="),s=_o(Se.getSharedSecret(r,"02"+t)),a=At.decode(o),l=At.decode(i),u=In(s,a).decrypt(l);return pr.decode(u)}function _o(e){return e.slice(1,33)}dr(xo,{decrypt:()=>So,encrypt:()=>Co});dr({},{NIP05_REGEX:()=>Ro,isValid:()=>Mo,queryProfile:()=>Po,searchDomain:()=>To,useFetchImplementation:()=>No});var Ao,Ro=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/;try{Ao=fetch}catch{}function No(e){Ao=e}async function To(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{const n=`https://${e}/.well-known/nostr.json?name=${t}`,r=await Ao(n,{redirect:"error"});return(await r.json()).names}catch(n){return{}}}async function Po(e){const t=e.match(Ro);if(!t)return null;const[n,r="_",i]=t;try{const e=`https://${i}/.well-known/nostr.json?name=${r}`,t=await(await Ao(e,{redirect:"error"})).json();let n=t.names[r];return n?{pubkey:n,relays:t.relays?.[n]}:null}catch(o){return null}}async function Mo(e,t){let n=await Po(t);return!!n&&n.pubkey===e}function Io(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[]},n=[];for(const r of e.tags)"e"===r[0]&&r[1]&&n.push(r),"p"===r[0]&&r[1]&&t.profiles.push({pubkey:r[1],relays:r[2]?[r[2]]:[]});for(let r=0;r<n.length;r++){const e=n[r],[i,o,s,a]=e,l={id:o,relays:s?[s]:[]},u=0===r,c=r===n.length-1;"root"!==a?"reply"!==a?"mention"!==a?u?t.root=l:c?t.reply=l:t.mentions.push(l):t.mentions.push(l):t.reply=l:t.root=l}return t}dr({},{parse:()=>Io});dr({},{fetchRelayInformation:()=>Oo,useFetchImplementation:()=>Uo});try{fetch}catch{}function Uo(e){e}async function Oo(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}function Bo(e){let t=0;for(let n=0;n<e.length;n++){const r=parseInt(e[n],16);if(0!==r){t+=Math.clz32(r)-28;break}t+=4}return t}function Fo(e,t){let n=0;const r=e,i=["nonce",n.toString(),t.toString()];for(r.tags.push(i);;){const e=Math.floor((new Date).getTime()/1e3);if(e!==r.created_at&&(n=0,r.created_at=e),i[1]=(++n).toString(),r.id=Er(r),Bo(r.id)>=t)break}return r}dr({},{getPow:()=>Bo,minePow:()=>Fo});function zo(e,t,n,r){return Sr({kind:Dr,tags:[...e.tags??[],["e",t.id,n],["p",t.pubkey]],content:""===e.content?"":JSON.stringify(t),created_at:e.created_at},r)}function Do(e){if(e.kind!==Dr)return;let t,n;for(let r=e.tags.length-1;r>=0&&(void 0===t||void 0===n);r--){const i=e.tags[r];i.length>=2&&("e"===i[0]&&void 0===t?t=i:"p"===i[0]&&void 0===n&&(n=i))}return void 0!==t?{id:t[1],relays:[t[2],n?.[2]].filter((e=>"string"===typeof e)),author:n?.[1]}:void 0}function $o(e){let{skipVerification:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Do(e);if(void 0===n||""===e.content)return;let r;try{r=JSON.parse(e.content)}catch(i){return}return r.id===n.id&&(t||_r(r))?r:void 0}dr({},{finishRepostEvent:()=>zo,getRepostedEvent:()=>$o,getRepostedEventPointer:()=>Do});dr({},{NOSTR_URI_REGEX:()=>jo,parse:()=>Ho,test:()=>Vo});var jo=new RegExp(`nostr:(${co.source})`);function Vo(e){return"string"===typeof e&&new RegExp(`^${jo.source}$`).test(e)}function Ho(e){const t=e.match(new RegExp(`^${jo.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:ho(t[1])}}function qo(e,t,n){const r=t.tags.filter((e=>e.length>=2&&("e"===e[0]||"p"===e[0])));return Sr({...e,kind:$r,tags:[...e.tags??[],...r,["e",t.id],["p",t.pubkey]],content:e.content??"+"},n)}function Ko(e){if(e.kind!==$r)return;let t,n;for(let r=e.tags.length-1;r>=0&&(void 0===t||void 0===n);r--){const i=e.tags[r];i.length>=2&&("e"===i[0]&&void 0===t?t=i:"p"===i[0]&&void 0===n&&(n=i))}return void 0!==t&&void 0!==n?{id:t[1],relays:[t[2],n[2]].filter((e=>void 0!==e)),author:n[1]}:void 0}dr({},{finishReactionEvent:()=>qo,getReactedEventPointer:()=>Ko});dr({},{matchAll:()=>Zo,regex:()=>Wo,replaceAll:()=>Go});var Wo=()=>new RegExp(`\\b${jo.source}\\b`,"g");function*Zo(e){const t=e.matchAll(Wo());for(const r of t)try{const[e,t]=r;yield{uri:e,value:t,decoded:ho(t),start:r.index,end:r.index+e.length}}catch(n){}}function Go(e,t){return e.replaceAll(Wo(),((e,n)=>t({uri:e,value:n,decoded:ho(n)})))}dr({},{channelCreateEvent:()=>Qo,channelHideMessageEvent:()=>Xo,channelMessageEvent:()=>Jo,channelMetadataEvent:()=>Yo,channelMuteUserEvent:()=>es});var Qo=(e,t)=>{let n;if("object"===typeof e.content)n=JSON.stringify(e.content);else{if("string"!==typeof e.content)return;n=e.content}return Sr({kind:Hr,tags:[...e.tags??[]],content:n,created_at:e.created_at},t)},Yo=(e,t)=>{let n;if("object"===typeof e.content)n=JSON.stringify(e.content);else{if("string"!==typeof e.content)return;n=e.content}return Sr({kind:qr,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},Jo=(e,t)=>{const n=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&n.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),Sr({kind:Kr,tags:[...n,...e.tags??[]],content:e.content,created_at:e.created_at},t)},Xo=(e,t)=>{let n;if("object"===typeof e.content)n=JSON.stringify(e.content);else{if("string"!==typeof e.content)return;n=e.content}return Sr({kind:Wr,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},es=(e,t)=>{let n;if("object"===typeof e.content)n=JSON.stringify(e.content);else{if("string"!==typeof e.content)return;n=e.content}return Sr({kind:Zr,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:n,created_at:e.created_at},t)};dr({},{EMOJI_SHORTCODE_REGEX:()=>ts,matchAll:()=>rs,regex:()=>ns,replaceAll:()=>is});var ts=/:(\w+):/,ns=()=>new RegExp(`\\B${ts.source}\\B`,"g");function*rs(e){const t=e.matchAll(ns());for(const r of t)try{const[e,t]=r;yield{shortcode:e,name:t,start:r.index,end:r.index+e.length}}catch(n){}}function is(e,t){return e.replaceAll(ns(),((e,n)=>t({shortcode:e,name:n})))}var os;dr({},{useFetchImplementation:()=>ss,validateGithub:()=>as});try{os=fetch}catch{}function ss(e){os=e}async function as(e,t,n){try{return await(await os(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch(r){return!1}}var ls={};dr(ls,{decrypt:()=>ms,encrypt:()=>ys,getConversationKey:()=>ds,v2:()=>ws});var us=1,cs=65535;function ds(e,t){const n=Se.getSharedSecret(e,"02"+t).subarray(1,33);return sr(ht,n,"nip44-v2")}function hs(e,t){const n=ur(ht,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}function fs(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)}function ps(e){const t=gr.encode(e),n=t.length,r=function(e){if(!Number.isSafeInteger(e)||e<us||e>cs)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}(n);return Ye(r,t,new Uint8Array(fs(n)-n))}function gs(e,t,n){if(32!==n.length)throw new Error("AAD associated data must be 32 bytes");const r=Ye(n,t);return or(ht,e,r)}function ys(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:et(32);const{chacha_key:r,chacha_nonce:i,hmac_key:o}=hs(t,n),s=ps(e),a=Yn(r,i,s),l=gs(o,a,n);return At.encode(Ye(new Uint8Array([2]),n,a,l))}function ms(e,t){const{nonce:n,ciphertext:r,mac:i}=function(e){if("string"!==typeof e)throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if("#"===e[0])throw new Error("unknown encryption version");let n;try{n=At.decode(e)}catch(o){throw new Error("invalid base64: "+o.message)}const r=n.length;if(r<99||r>65603)throw new Error("invalid data length: "+r);const i=n[0];if(2!==i)throw new Error("unknown encryption version "+i);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}(e),{chacha_key:o,chacha_nonce:s,hmac_key:a}=hs(t,n);if(!Yt(gs(a,r,n),i))throw new Error("invalid MAC");return function(e){const t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<us||t>cs||n.length!==t||e.length!==2+fs(t))throw new Error("invalid padding");return pr.decode(n)}(Yn(o,s,r))}var ws={utils:{getConversationKey:ds,calcPaddedLen:fs},encrypt:ys,decrypt:ms};function bs(e){const{pathname:t,searchParams:n}=new URL(e),r=t,i=n.get("relay"),o=n.get("secret");if(!r||!i||!o)throw new Error("invalid connection string");return{pubkey:r,relay:i,secret:o}}async function vs(e,t,n){const r={method:"pay_invoice",params:{invoice:n}},i=await Co(t,e,JSON.stringify(r)),o={kind:xi,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e]]};return Sr(o,t)}dr({},{makeNwcRequestEvent:()=>vs,parseConnectionString:()=>bs});var ks,Es={};dr(Es,{getZapEndpoint:()=>xs,makeZapReceipt:()=>_s,makeZapRequest:()=>Cs,useFetchImplementation:()=>Ls,validateZapRequest:()=>Ss});try{ks=fetch}catch{}function Ls(e){ks=e}async function xs(e){try{let t="",{lud06:n,lud16:r}=JSON.parse(e.content);if(n){let{words:e}=zt.decode(n,1e3),r=zt.fromWords(e);t=pr.decode(r)}else{if(!r)return null;{let[e,n]=r.split("@");t=new URL(`/.well-known/lnurlp/${e}`,`https://${n}`).toString()}}let i=await ks(t),o=await i.json();if(o.allowsNostr&&o.nostrPubkey)return o.callback}catch(t){}return null}function Cs(e){let{profile:t,event:n,amount:r,relays:i,comment:o=""}=e;if(!r)throw new Error("amount not given");if(!t)throw new Error("profile not given");let s={kind:9734,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",t],["amount",r.toString()],["relays",...i]]};return n&&s.tags.push(["e",n]),s}function Ss(e){let t;try{t=JSON.parse(e)}catch(i){return"Invalid zap request JSON."}if(!fr(t))return"Zap request is not a valid Nostr event.";if(!_r(t))return"Invalid signature on zap request.";let n=t.tags.find((e=>{let[t,n]=e;return"p"===t&&n}));if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=t.tags.find((e=>{let[t,n]=e;return"e"===t&&n}));return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find((e=>{let[t,n]=e;return"relays"===t&&n}))?null:"Zap request doesn't have a 'relays' tag."}function _s(e){let{zapRequest:t,preimage:n,bolt11:r,paidAt:i}=e,o=JSON.parse(t),s=o.tags.filter((e=>{let[t]=e;return"e"===t||"p"===t||"a"===t})),a={kind:9735,created_at:Math.round(i.getTime()/1e3),content:"",tags:[...s,["P",o.pubkey],["bolt11",r],["description",t]]};return n&&a.tags.push(["preimage",n]),a}dr({},{getToken:()=>Rs,hashPayload:()=>Os,unpackEventFromToken:()=>Ts,validateEvent:()=>Fs,validateEventKind:()=>Ms,validateEventMethodTag:()=>Us,validateEventPayloadTag:()=>Bs,validateEventTimestamp:()=>Ps,validateEventUrlTag:()=>Is,validateToken:()=>Ns});var As="Nostr ";async function Rs(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;const o={kind:_i,tags:[["u",e],["method",t]],created_at:Math.round((new Date).getTime()/1e3),content:""};i&&o.tags.push(["payload",Os(i)]);const s=await n(o);return(r?As:"")+At.encode(gr.encode(JSON.stringify(s)))}async function Ns(e,t,n){const r=await Ts(e).catch((e=>{throw e}));return await Fs(r,t,n).catch((e=>{throw e}))}async function Ts(e){if(!e)throw new Error("Missing token");e=e.replace(As,"");const t=pr.decode(At.decode(e));if(!t||0===t.length||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function Ps(e){return!!e.created_at&&Math.round((new Date).getTime()/1e3)-e.created_at<60}function Ms(e){return e.kind===_i}function Is(e,t){const n=e.tags.find((e=>"u"===e[0]));return!!n&&(n.length>0&&n[1]===t)}function Us(e,t){const n=e.tags.find((e=>"method"===e[0]));return!!n&&(n.length>0&&n[1].toLowerCase()===t.toLowerCase())}function Os(e){return Ze(ht(gr.encode(JSON.stringify(e))))}function Bs(e,t){const n=e.tags.find((e=>"payload"===e[0]));if(!n)return!1;const r=Os(t);return n.length>0&&n[1]===r}async function Fs(e,t,n,r){if(!_r(e))throw new Error("Invalid nostr event, signature invalid");if(!Ms(e))throw new Error("Invalid nostr event, kind invalid");if(!Ps(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!Is(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!Us(e,n))throw new Error("Invalid nostr event, method tag invalid");if(Boolean(r)&&"object"===typeof r&&Object.keys(r).length>0&&!Bs(e,r))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}var zs=__webpack_require__(246),Ds=__webpack_require__(522);function $s(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function js(e){if(!((t=e)instanceof Uint8Array||null!=t&&"object"===typeof t&&"Uint8Array"===t.constructor.name))throw new Error("Uint8Array expected");for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(r.length>0&&!r.includes(e.length))throw new Error(`Uint8Array expected of length ${r}, not of length=${e.length}`)}function Vs(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");$s(e.outputLen),$s(e.blockLen)}function Hs(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function qs(e,t){js(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Ks="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;const Ws=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Zs=(e,t)=>e<<32-t|e>>>t;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function Gs(e){return"string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),js(e),e}class Qs{clone(){return this._cloneInto()}}function Ys(e){const t=t=>e().update(Gs(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Js(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(Ks&&"function"===typeof Ks.getRandomValues)return Ks.getRandomValues(new Uint8Array(e));if(Ks&&"function"===typeof Ks.randomBytes)return Ks.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}const Xs=(e,t,n)=>e&t^e&n^t&n;class ea extends Qs{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Ws(this.buffer)}update(e){Hs(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=Gs(e)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=Ws(e);for(;r<=i-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Hs(this),qs(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let c=o;c<r;c++)t[c]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,u=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+u,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=Ws(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=a/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let c=0;c<l;c++)s.setUint32(4*c,u[c],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return e.length=r,e.pos=s,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}const ta=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),na=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ra=new Uint32Array(64);class ia extends ea{constructor(){super(64,32,8,!1),this.A=0|na[0],this.B=0|na[1],this.C=0|na[2],this.D=0|na[3],this.E=0|na[4],this.F=0|na[5],this.G=0|na[6],this.H=0|na[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[e,t,n,r,i,o,s,a]}set(e,t,n,r,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let d=0;d<16;d++,t+=4)ra[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const e=ra[d-15],t=ra[d-2],n=Zs(e,7)^Zs(e,18)^e>>>3,r=Zs(t,17)^Zs(t,19)^t>>>10;ra[d]=r+ra[d-7]+n+ra[d-16]|0}let{A:n,B:r,C:i,D:o,E:s,F:a,G:l,H:u}=this;for(let d=0;d<64;d++){const e=u+(Zs(s,6)^Zs(s,11)^Zs(s,25))+((c=s)&a^~c&l)+ta[d]+ra[d]|0,t=(Zs(n,2)^Zs(n,13)^Zs(n,22))+Xs(n,r,i)|0;u=l,l=a,a=s,s=o+e|0,o=i,i=r,r=n,n=e+t|0}var c;n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,r,i,o,s,a,l,u)}roundClean(){ra.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const oa=Ys((()=>new ia));class sa extends Qs{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Vs(e);const n=Gs(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return Hs(this),this.iHash.update(e),this}digestInto(e){Hs(this),js(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const aa=(e,t,n)=>new sa(e,t).update(n).digest();aa.create=(e,t)=>new sa(e,t);const la=BigInt(0),ua=BigInt(1),ca=BigInt(2);function da(e){return e instanceof Uint8Array||null!=e&&"object"===typeof e&&"Uint8Array"===e.constructor.name}function ha(e){if(!da(e))throw new Error("Uint8Array expected")}function fa(e,t){if("boolean"!==typeof t)throw new Error(`${e} must be valid boolean, got "${t}".`)}const pa=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function ga(e){ha(e);let t="";for(let n=0;n<e.length;n++)t+=pa[e[n]];return t}function ya(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function ma(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}const wa={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function ba(e){return e>=wa._0&&e<=wa._9?e-wa._0:e>=wa._A&&e<=wa._F?e-(wa._A-10):e>=wa._a&&e<=wa._f?e-(wa._a-10):void 0}function va(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const t=ba(e.charCodeAt(o)),n=ba(e.charCodeAt(o+1));if(void 0===t||void 0===n){const t=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+o)}r[i]=16*t+n}return r}function ka(e){return ma(ga(e))}function Ea(e){return ha(e),ma(ga(Uint8Array.from(e).reverse()))}function La(e,t){return va(e.toString(16).padStart(2*t,"0"))}function xa(e,t){return La(e,t).reverse()}function Ca(e,t,n){let r;if("string"===typeof t)try{r=va(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else{if(!da(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const i=r.length;if("number"===typeof n&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function Sa(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];ha(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}const _a=e=>"bigint"===typeof e&&la<=e;function Aa(e,t,n){return _a(e)&&_a(t)&&_a(n)&&t<=e&&e<n}function Ra(e,t,n,r){if(!Aa(t,n,r))throw new Error(`expected valid ${e}: ${n} <= n < ${r}, got ${typeof t} ${t}`)}function Na(e){let t;for(t=0;e>la;e>>=ua,t+=1);return t}const Ta=e=>(ca<<BigInt(e-1))-ua,Pa=e=>new Uint8Array(e),Ma=e=>Uint8Array.from(e);function Ia(e,t,n){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");let r=Pa(e),i=Pa(e),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n(i,r,...t)},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pa();i=a(Ma([0]),e),r=a(),0!==e.length&&(i=a(Ma([1]),e),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return Sa(...n)};return(e,t)=>{let n;for(s(),l(e);!(n=t(u()));)l();return s(),n}}const Ua={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||da(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function Oa(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=Ua[n];if("function"!==typeof i)throw new Error(`Invalid validator "${n}", expected function`);const o=e[t];if((!r||void 0!==o)&&!i(o,e))throw new Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${n}`)};for(const[i,o]of Object.entries(t))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return e}function Ba(e){const t=new WeakMap;return function(n){const r=t.get(n);if(void 0!==r)return r;for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];const a=e(n,...o);return t.set(n,a),a}}const Fa=BigInt(0),za=BigInt(1),Da=BigInt(2),$a=BigInt(3),ja=BigInt(4),Va=BigInt(5),Ha=BigInt(8);BigInt(9),BigInt(16);function qa(e,t){const n=e%t;return n>=Fa?n:t+n}function Ka(e,t,n){if(n<=Fa||t<Fa)throw new Error("Expected power/modulo > 0");if(n===za)return Fa;let r=za;for(;t>Fa;)t&za&&(r=r*e%n),e=e*e%n,t>>=za;return r}function Wa(e,t,n){let r=e;for(;t-- >Fa;)r*=r,r%=n;return r}function Za(e,t){if(e===Fa||t<=Fa)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=qa(e,t),r=t,i=Fa,o=za,s=za,a=Fa;for(;n!==Fa;){const e=r/n,t=r%n,l=i-s*e,u=o-a*e;r=n,n=t,i=s,o=a,s=l,a=u}if(r!==za)throw new Error("invert: does not exist");return qa(i,t)}function Ga(e){if(e%ja===$a){const t=(e+za)/ja;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%Ha===Va){const t=(e-Va)/Ha;return function(e,n){const r=e.mul(n,Da),i=e.pow(r,t),o=e.mul(n,i),s=e.mul(e.mul(o,Da),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-za)/Da;let n,r,i;for(n=e-za,r=0;n%Da===Fa;n/=Da,r++);for(i=Da;i<e&&Ka(i,t,e)!==e-za;i++);if(1===r){const t=(e+za)/ja;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const o=(n+za)/Da;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,l=e.pow(e.mul(e.ONE,i),n),u=e.pow(s,o),c=e.pow(s,n);for(;!e.eql(c,e.ONE);){if(e.eql(c,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(c);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(l,za<<BigInt(a-t-1));l=e.sqr(n),u=e.mul(u,n),c=e.mul(c,l),a=t}return u}}(e)}const Qa=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ya(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Ja(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=Fa)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:o}=Ya(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=Ga(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:Ta(i),ZERO:Fa,ONE:za,create:t=>qa(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return Fa<=t&&t<e},is0:e=>e===Fa,isOdd:e=>(e&za)===za,neg:t=>qa(-t,e),eql:(e,t)=>e===t,sqr:t=>qa(t*t,e),add:(t,n)=>qa(t+n,e),sub:(t,n)=>qa(t-n,e),mul:(t,n)=>qa(t*n,e),pow:(e,t)=>function(e,t,n){if(n<Fa)throw new Error("Expected power > 0");if(n===Fa)return e.ONE;if(n===za)return t;let r=e.ONE,i=t;for(;n>Fa;)n&za&&(r=e.mul(r,i)),i=e.sqr(i),n>>=za;return r}(a,e,t),div:(t,n)=>qa(t*Za(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Za(t,e),sqrt:r.sqrt||(e=>s(a,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?xa(e,o):La(e,o),fromBytes:e=>{if(e.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${e.length}`);return n?Ea(e):ka(e)}});return Object.freeze(a)}function Xa(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function el(e){const t=Xa(e);return t+Math.ceil(t/2)}const tl=BigInt(0),nl=BigInt(1),rl=new WeakMap,il=new WeakMap;function ol(e){return Oa(e.Fp,Qa.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),Oa(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ya(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function sl(e){void 0!==e.lowS&&fa("lowS",e.lowS),void 0!==e.prehash&&fa("prehash",e.prehash)}const{Ph:al,aT:ll}=t,ul={Err:class extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},_tlv:{encode:(e,t)=>{const{Err:n}=ul;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=ya(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?ya(i.length/2|128):"";return`${ya(e)}${o}${i}${t}`},decode(e,t){const{Err:n}=ul;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++];let o=0;if(!!(128&i)){const e=127&i;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const s=t.subarray(r,r+e);if(s.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===s[0])throw new n("tlv.decode(long): zero leftmost byte");for(const t of s)o=o<<8|t;if(r+=e,o<128)throw new n("tlv.decode(long): not minimal encoding")}else o=i;const s=t.subarray(r,r+o);if(s.length!==o)throw new n("tlv.decode: wrong value length");return{v:s,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=ul;if(e<cl)throw new t("integer: negative integers are not allowed");let n=ya(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected assertion");return n},decode(e){const{Err:t}=ul;if(128&e[0])throw new t("Invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("Invalid signature integer: unnecessary leading zero");return al(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=ul,i="string"===typeof e?ll(e):e;ha(i);const{v:o,l:s}=r.decode(48,i);if(s.length)throw new t("Invalid signature: left bytes after parsing");const{v:a,l:l}=r.decode(2,o),{v:u,l:c}=r.decode(2,l);if(c.length)throw new t("Invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=ul,r=`${t.encode(2,n.encode(e.r))}${t.encode(2,n.encode(e.s))}`;return t.encode(48,r)}},cl=BigInt(0),dl=BigInt(1),hl=(BigInt(2),BigInt(3));BigInt(4);function fl(e){const t=function(e){const t=ol(e);Oa(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=Ja(t.n,t.nBitLength),i=t.toBytes||((e,t,r)=>{const i=t.toAffine();return Sa(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),o=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function s(e){const{a:r,b:i}=t,o=n.sqr(e),s=n.mul(o,e);return n.add(n.add(s,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function a(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:o}=t;if(n&&"bigint"!==typeof e){if(da(e)&&(e=ga(e)),"string"!==typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let s;try{s="bigint"===typeof e?e:ka(Ca("private key",e,r))}catch(a){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return i&&(s=qa(s,o)),Ra("private key",s,dl,o),s}function l(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}const u=Ba(((e,t)=>{const{px:r,py:i,pz:o}=e;if(n.eql(o,n.ONE))return{x:r,y:i};const s=e.is0();null==t&&(t=s?n.ONE:n.inv(o));const a=n.mul(r,t),l=n.mul(i,t),u=n.mul(o,t);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(u,n.ONE))throw new Error("invZ was invalid");return{x:a,y:l}})),c=Ba((e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:r,y:i}=e.toAffine();if(!n.isValid(r)||!n.isValid(i))throw new Error("bad point: x or y not FE");const o=n.sqr(i),a=s(r);if(!n.eql(o,a))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));class d{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required");Object.freeze(this)}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof d)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?d.ZERO:new d(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(d.fromAffine)}static fromHex(e){const t=d.fromAffine(o(Ca("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(a(e))}static msm(e,t){return function(e,t,n,r){if(!Array.isArray(n)||!Array.isArray(r)||r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");r.forEach(((e,n)=>{if(!t.isValid(e))throw new Error(`wrong scalar at index ${n}`)})),n.forEach(((t,n)=>{if(!(t instanceof e))throw new Error(`wrong point at index ${n}`)}));const i=Na(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,s=(1<<o)-1,a=new Array(s+1).fill(e.ZERO),l=Math.floor((t.BITS-1)/o)*o;let u=e.ZERO;for(let c=l;c>=0;c-=o){a.fill(e.ZERO);for(let e=0;e<r.length;e++){const t=r[e],i=Number(t>>BigInt(c)&BigInt(s));a[i]=a[i].add(n[e])}let t=e.ZERO;for(let n=a.length-1,r=e.ZERO;n>0;n--)r=r.add(a[n]),t=t.add(r);if(u=u.add(t),0!==c)for(let e=0;e<o;e++)u=u.double()}return u}(d,r,e,t)}_setWindowSize(e){f.setWindowSize(this,e)}assertValidity(){c(this)}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){l(e);const{px:t,py:r,pz:i}=this,{px:o,py:s,pz:a}=e,u=n.eql(n.mul(t,a),n.mul(o,i)),c=n.eql(n.mul(r,a),n.mul(s,i));return u&&c}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,hl),{px:o,py:s,pz:a}=this;let l=n.ZERO,u=n.ZERO,c=n.ZERO,h=n.mul(o,o),f=n.mul(s,s),p=n.mul(a,a),g=n.mul(o,s);return g=n.add(g,g),c=n.mul(o,a),c=n.add(c,c),l=n.mul(e,c),u=n.mul(i,p),u=n.add(l,u),l=n.sub(f,u),u=n.add(f,u),u=n.mul(l,u),l=n.mul(g,l),c=n.mul(i,c),p=n.mul(e,p),g=n.sub(h,p),g=n.mul(e,g),g=n.add(g,c),c=n.add(h,h),h=n.add(c,h),h=n.add(h,p),h=n.mul(h,g),u=n.add(u,h),p=n.mul(s,a),p=n.add(p,p),h=n.mul(p,g),l=n.sub(l,h),c=n.mul(p,f),c=n.add(c,c),c=n.add(c,c),new d(l,u,c)}add(e){l(e);const{px:r,py:i,pz:o}=this,{px:s,py:a,pz:u}=e;let c=n.ZERO,h=n.ZERO,f=n.ZERO;const p=t.a,g=n.mul(t.b,hl);let y=n.mul(r,s),m=n.mul(i,a),w=n.mul(o,u),b=n.add(r,i),v=n.add(s,a);b=n.mul(b,v),v=n.add(y,m),b=n.sub(b,v),v=n.add(r,o);let k=n.add(s,u);return v=n.mul(v,k),k=n.add(y,w),v=n.sub(v,k),k=n.add(i,o),c=n.add(a,u),k=n.mul(k,c),c=n.add(m,w),k=n.sub(k,c),f=n.mul(p,v),c=n.mul(g,w),f=n.add(c,f),c=n.sub(m,f),f=n.add(m,f),h=n.mul(c,f),m=n.add(y,y),m=n.add(m,y),w=n.mul(p,w),v=n.mul(g,v),m=n.add(m,w),w=n.sub(y,w),w=n.mul(p,w),v=n.add(v,w),y=n.mul(m,v),h=n.add(h,y),y=n.mul(k,v),c=n.mul(b,c),c=n.sub(c,y),y=n.mul(b,m),f=n.mul(k,f),f=n.add(f,y),new d(c,h,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return f.wNAFCached(this,e,d.normalizeZ)}multiplyUnsafe(e){Ra("scalar",e,cl,t.n);const r=d.ZERO;if(e===cl)return r;if(e===dl)return this;const{endo:i}=t;if(!i)return f.unsafeLadder(this,e);let{k1neg:o,k1:s,k2neg:a,k2:l}=i.splitScalar(e),u=r,c=r,h=this;for(;s>cl||l>cl;)s&dl&&(u=u.add(h)),l&dl&&(c=c.add(h)),h=h.double(),s>>=dl,l>>=dl;return o&&(u=u.negate()),a&&(c=c.negate()),c=new d(n.mul(c.px,i.beta),c.py,c.pz),u.add(c)}multiply(e){const{endo:r,n:i}=t;let o,s;if(Ra("scalar",e,dl,i),r){const{k1neg:t,k1:i,k2neg:a,k2:l}=r.splitScalar(e);let{p:u,f:c}=this.wNAF(i),{p:h,f:p}=this.wNAF(l);u=f.constTimeNegate(t,u),h=f.constTimeNegate(a,h),h=new d(n.mul(h.px,r.beta),h.py,h.pz),o=u.add(h),s=c.add(p)}else{const{p:t,f:n}=this.wNAF(e);o=t,s=n}return d.normalizeZ([o,s])[0]}multiplyAndAddUnsafe(e,t,n){const r=d.BASE,i=(e,t)=>t!==cl&&t!==dl&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,n));return o.is0()?void 0:o}toAffine(e){return u(this,e)}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===dl)return!0;if(n)return n(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===dl?this:n?n(d,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return fa("isCompressed",e),this.assertValidity(),i(d,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return fa("isCompressed",e),ga(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const h=t.nBitLength,f=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>{if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error(`Wrong window size=${e}, should be [1..${t}]`)},i=e=>(r(e),{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>tl;)n&nl&&(r=r.add(i)),i=i.double(),n>>=nl;return r},precomputeWindow(e,t){const{windows:n,windowSize:r}=i(t),o=[];let s=e,a=s;for(let i=0;i<n;i++){a=s,o.push(a);for(let e=1;e<r;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(t,r,o){const{windows:s,windowSize:a}=i(t);let l=e.ZERO,u=e.BASE;const c=BigInt(2**t-1),d=2**t,h=BigInt(t);for(let e=0;e<s;e++){const t=e*a;let i=Number(o&c);o>>=h,i>a&&(i-=d,o+=nl);const s=t,f=t+Math.abs(i)-1,p=e%2!==0,g=i<0;0===i?u=u.add(n(p,r[s])):l=l.add(n(g,r[f]))}return{p:l,f:u}},wNAFCached(e,t,n){const r=il.get(e)||1;let i=rl.get(e);return i||(i=this.precomputeWindow(e,r),1!==r&&rl.set(e,n(i))),this.wNAF(r,i,t)},setWindowSize(e,t){r(t),il.set(e,t),rl.delete(e)}}}(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:s,isWithinCurveOrder:function(e){return Aa(e,dl,t.n)}}}function pl(e){const t=function(e){const t=ol(e);return Oa(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,i=n.BYTES+1,o=2*n.BYTES+1;function s(e){return qa(e,r)}function a(e){return Za(e,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:c,isWithinCurveOrder:d}=fl({...t,toBytes(e,t,r){const i=t.toAffine(),o=n.toBytes(i.x),s=Sa;return fa("isCompressed",r),r?s(Uint8Array.from([t.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],s=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===o&&4===r){return{x:n.fromBytes(s.subarray(0,n.BYTES)),y:n.fromBytes(s.subarray(n.BYTES,2*n.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}{const e=ka(s);if(!Aa(e,dl,n.ORDER))throw new Error("Point is not on curve");const t=c(e);let i;try{i=n.sqrt(t)}catch(a){const e=a instanceof Error?": "+a.message:"";throw new Error("Point is not on curve"+e)}return 1===(1&r)!==((i&dl)===dl)&&(i=n.neg(i)),{x:e,y:i}}}}),h=e=>ga(La(e,t.nByteLength));function f(e){return e>r>>dl}const p=(e,t,n)=>ka(e.slice(t,n));class g{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=Ca("compactSignature",e,2*n),new g(p(e,0,n),p(e,n,2*n))}static fromDER(e){const{r:t,s:n}=ul.toSig(Ca("DER",e));return new g(t,n)}assertValidity(){Ra("r",this.r,dl,r),Ra("s",this.s,dl,r)}addRecoveryBit(e){return new g(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:i,recovery:o}=this,u=b(Ca("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const c=2===o||3===o?r+t.n:r;if(c>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=0===(1&o)?"02":"03",f=l.fromHex(d+h(c)),p=a(c),g=s(-u*p),y=s(i*p),m=l.BASE.multiplyAndAddUnsafe(f,g,y);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return va(this.toDERHex())}toDERHex(){return ul.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return va(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const y={isValidPrivateKey(e){try{return u(e),!0}catch(t){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const e=el(t.n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.length,i=Xa(t),o=el(t);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const s=qa(n?ka(e):Ea(e),t-za)+za;return n?xa(s,i):La(s,i)}(t.randomBytes(e),t.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function m(e){const t=da(e),n="string"===typeof e,r=(t||n)&&e.length;return t?r===i||r===o:n?r===2*i||r===2*o:e instanceof l}const w=t.bits2int||function(e){const n=ka(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},b=t.bits2int_modN||function(e){return s(w(e))},v=Ta(t.nBitLength);function k(e){return Ra(`num < 2^${t.nBitLength}`,e,cl,v),La(e,t.nByteLength)}function E(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L;if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:c}=t;let{lowS:h,prehash:p,extraEntropy:y}=i;null==h&&(h=!0),e=Ca("msgHash",e),sl(i),p&&(e=Ca("prehashed msgHash",o(e)));const m=b(e),v=u(r),E=[k(v),k(m)];if(null!=y&&!1!==y){const e=!0===y?c(n.BYTES):y;E.push(Ca("extraEntropy",e))}const x=Sa(...E),C=m;return{seed:x,k2sig:function(e){const t=w(e);if(!d(t))return;const n=a(t),r=l.BASE.multiply(t).toAffine(),i=s(r.x);if(i===cl)return;const o=s(n*s(C+i*v));if(o===cl)return;let u=(r.x===i?0:2)|Number(r.y&dl),c=o;return h&&f(o)&&(c=function(e){return f(e)?s(-e):e}(o),u^=1),new g(i,c,u)}}}const L={lowS:t.lowS,prehash:!1},x={lowS:t.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(m(e))throw new Error("first arg must be private key");if(!m(t))throw new Error("second arg must be public key");return l.fromHex(t).multiply(u(e)).toRawBytes(n)},sign:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L;const{seed:i,k2sig:o}=E(e,n,r),s=t;return Ia(s.hash.outputLen,s.nByteLength,s.hmac)(i,o)},verify:function(e,n,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;const o=e;if(n=Ca("msgHash",n),r=Ca("publicKey",r),"strict"in i)throw new Error("options.strict was renamed to lowS");sl(i);const{lowS:u,prehash:c}=i;let d,h;try{if("string"===typeof o||da(o))try{d=g.fromDER(o)}catch(E){if(!(E instanceof ul.Err))throw E;d=g.fromCompact(o)}else{if("object"!==typeof o||"bigint"!==typeof o.r||"bigint"!==typeof o.s)throw new Error("PARSE");{const{r:e,s:t}=o;d=new g(e,t)}}h=l.fromHex(r)}catch(L){if("PARSE"===L.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&d.hasHighS())return!1;c&&(n=t.hash(n));const{r:f,s:p}=d,y=b(n),m=a(p),w=s(y*m),v=s(f*m),k=l.BASE.multiplyAndAddUnsafe(h,w,v)?.toAffine();return!!k&&s(k.x)===f},ProjectivePoint:l,Signature:g,utils:y}}function gl(e){return{hash:e,hmac:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return aa(e,t,function(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];js(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}(...r))},randomBytes:Js}}const yl=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ml=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),wl=BigInt(1),bl=BigInt(2),vl=(e,t)=>(e+t/bl)/t;function kl(e){const t=yl,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),u=e*e*e%t,c=u*u*e%t,d=Wa(c,n,t)*c%t,h=Wa(d,n,t)*c%t,f=Wa(h,bl,t)*u%t,p=Wa(f,i,t)*f%t,g=Wa(p,o,t)*p%t,y=Wa(g,a,t)*g%t,m=Wa(y,l,t)*y%t,w=Wa(m,a,t)*g%t,b=Wa(w,n,t)*c%t,v=Wa(b,s,t)*p%t,k=Wa(v,r,t)*u%t,E=Wa(k,bl,t);if(!El.eql(El.sqr(E),e))throw new Error("Cannot find square root");return E}const El=Ja(yl,void 0,void 0,{sqrt:kl}),Ll=function(e,t){const n=t=>pl({...e,...gl(t)});return Object.freeze({...n(t),create:n})}({a:BigInt(0),b:BigInt(7),Fp:El,n:ml,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=ml,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-wl*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=vl(o*e,t),l=vl(-r*e,t);let u=qa(e-a*n-l*i,t),c=qa(-a*r-l*o,t);const d=u>s,h=c>s;if(d&&(u=t-u),h&&(c=t-c),u>s||c>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:h,k2:c}}}},oa),xl=BigInt(0),Cl={};function Sl(e){let t=Cl[e];if(void 0===t){const n=oa(Uint8Array.from(e,(e=>e.charCodeAt(0))));t=Sa(n,n),Cl[e]=t}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return oa(Sa(t,...r))}const _l=e=>e.toRawBytes(!0).slice(1),Al=e=>La(e,32),Rl=e=>qa(e,yl),Nl=e=>qa(e,ml),Tl=Ll.ProjectivePoint;function Pl(e){let t=Ll.utils.normPrivateKeyToScalar(e),n=Tl.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:Nl(-t),bytes:_l(n)}}function Ml(e){Ra("x",e,wl,yl);const t=Rl(e*e);let n=kl(Rl(t*e+BigInt(7)));n%bl!==xl&&(n=Rl(-n));const r=new Tl(e,n,wl);return r.assertValidity(),r}const Il=ka;function Ul(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Nl(Il(Sl("BIP0340/challenge",...t)))}function Ol(e){return Pl(e).bytes}function Bl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Js(32);const r=Ca("message",e),{bytes:i,scalar:o}=Pl(t),s=Ca("auxRand",n,32),a=Al(o^Il(Sl("BIP0340/aux",s))),l=Sl("BIP0340/nonce",a,i,r),u=Nl(Il(l));if(u===xl)throw new Error("sign failed: k is zero");const{bytes:c,scalar:d}=Pl(u),h=Ul(c,i,r),f=new Uint8Array(64);if(f.set(c,0),f.set(Al(Nl(d+h*o)),32),!Fl(f,r,i))throw new Error("sign: Invalid signature produced");return f}function Fl(e,t,n){const r=Ca("signature",e,64),i=Ca("message",t),o=Ca("publicKey",n,32);try{const e=Ml(Il(o)),t=Il(r.subarray(0,32));if(!Aa(t,wl,yl))return!1;const n=Il(r.subarray(32,64));if(!Aa(n,wl,ml))return!1;const u=Ul(Al(t),_l(e),i),c=(s=e,a=n,l=Nl(-u),Tl.BASE.multiplyAndAddUnsafe(s,a,l));return!(!c||!c.hasEvenY()||c.toAffine().x!==t)}catch(u){return!1}var s,a,l}const zl=(()=>({getPublicKey:Ol,sign:Bl,verify:Fl,utils:{randomPrivateKey:Ll.utils.randomPrivateKey,lift_x:Ml,pointToBytes:_l,numberToBytesBE:La,bytesToNumberBE:ka,taggedHash:Sl,mod:qa}}))();var Dl=__webpack_require__(245);__webpack_require__(558);function $l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"write";if(!e.outboxTracker)return;const r=e.outboxTracker.data.get(t);return r?"write"===n?r.writeRelays:r.readRelays:void 0}function jl(e,t,n){let{count:r,preferredRelays:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r??=2,i??=new Set;const o=e.pool,s=o.connectedRelays();s.forEach((e=>{i.add(e.url)}));const a=new Map,{pubkeysToRelays:l,authorsMissingRelays:u}=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"read";const r=new Map,i=new Set;return t.forEach((t=>{const o=$l(e,t,n);o&&o.size>0?(o.forEach((e=>{(r.get(e)||new Set).add(t)})),r.set(t,o)):i.add(t)})),{pubkeysToRelays:r,authorsMissingRelays:i}}(e,t,n),c=function(e,t){const n=new Map;return t.forEach((t=>{const r=$l(e,t);r&&r.forEach((e=>{const t=n.get(e)||0;n.set(e,t+1)}))})),Array.from(n.entries()).sort(((e,t)=>t[1]-e[1])).map((e=>e[0]))}(e,t),d=(e,t)=>{const n=a.get(t)||[];n.push(e),a.set(t,n)};for(const[h,f]of l.entries()){let e=r;for(const t of s)f.has(t.url)&&(d(h,t.url),e--);for(const t of f)a.has(t)&&(d(h,t),e--);if(!(e<=0))for(const t of c){if(e<=0)break;f.has(t)&&(d(h,t),e--)}}for(const h of u)o.permanentAndConnectedRelays().forEach((e=>{const t=a.get(e.url)||[];t.push(h),a.set(e.url,t)}));return a}function Vl(e){try{return Hl(e)}catch{return}}function Hl(e){let t=function(e,t){"string"!==typeof(t={defaultProtocol:"http",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,removeExplicitPort:!1,sortQueryParameters:!0,...t}).defaultProtocol||t.defaultProtocol.endsWith(":")||(t.defaultProtocol=`${t.defaultProtocol}:`);if(e=e.trim(),/^data:/i.test(e))return Gl(e,t);if(Zl(e))return e;const n=e.startsWith("//");!n&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));const r=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");t.forceHttp&&"https:"===r.protocol&&(r.protocol="http:");t.forceHttps&&"http:"===r.protocol&&(r.protocol="https:");t.stripAuthentication&&(r.username="",r.password="");t.stripHash?r.hash="":t.stripTextFragment&&(r.hash=r.hash.replace(/#?:~:text.*?$/i,""));if(r.pathname){const e=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g;let t=0,n="";for(;;){const i=e.exec(r.pathname);if(!i)break;const o=i[0],s=i.index;n+=r.pathname.slice(t,s).replace(/\/{2,}/g,"/"),n+=o,t=s+o.length}n+=r.pathname.slice(t,r.pathname.length).replace(/\/{2,}/g,"/"),r.pathname=n}if(r.pathname)try{r.pathname=decodeURI(r.pathname)}catch{}!0===t.removeDirectoryIndex&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]);if(Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let e=r.pathname.split("/");const n=e[e.length-1];Kl(n,t.removeDirectoryIndex)&&(e=e.slice(0,-1),r.pathname=e.slice(1).join("/")+"/")}r.hostname&&(r.hostname=r.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(r.hostname)&&(r.hostname=r.hostname.replace(/^www\./,"")));if(Array.isArray(t.removeQueryParameters))for(const o of[...r.searchParams.keys()])Kl(o,t.removeQueryParameters)&&r.searchParams.delete(o);Array.isArray(t.keepQueryParameters)||!0!==t.removeQueryParameters||(r.search="");if(Array.isArray(t.keepQueryParameters)&&t.keepQueryParameters.length>0)for(const o of[...r.searchParams.keys()])Kl(o,t.keepQueryParameters)||r.searchParams.delete(o);if(t.sortQueryParameters){r.searchParams.sort();try{r.search=decodeURIComponent(r.search)}catch{}}t.removeTrailingSlash&&(r.pathname=r.pathname.replace(/\/$/,""));t.removeExplicitPort&&r.port&&(r.port="");const i=e;e=r.toString(),t.removeSingleSlash||"/"!==r.pathname||i.endsWith("/")||""!==r.hash||(e=e.replace(/\/$/,""));(t.removeTrailingSlash||"/"===r.pathname)&&""===r.hash&&t.removeSingleSlash&&(e=e.replace(/\/$/,""));n&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//"));t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,""));return e}(e.toLowerCase(),{stripAuthentication:!1,stripWWW:!1,stripHash:!0});return t.endsWith("/")||(t+="/"),t}function ql(e){const t=new Set;for(const n of e)try{t.add(Hl(n))}catch{}return Array.from(t)}var Kl=(e,t)=>t.some((t=>t instanceof RegExp?t.test(e):t===e)),Wl=new Set(["https:","http:","file:"]),Zl=e=>{try{const{protocol:t}=new URL(e);return t.endsWith(":")&&!t.includes(".")&&!Wl.has(t)}catch{return!1}},Gl=(e,t)=>{let{stripHash:n}=t;const r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let i=r.groups?.type??"",o=r.groups?.data??"",s=r.groups?.hash??"";const a=i.split(";");s=n?"":s;let l=!1;"base64"===a[a.length-1]&&(a.pop(),l=!0);const u=a.shift()?.toLowerCase()??"",c=[...a.map((e=>{let[t,n=""]=e.split("=").map((e=>e.trim()));return"charset"===t&&(n=n.toLowerCase(),"us-ascii"===n)?"":`${t}${n?`=${n}`:""}`})).filter(Boolean)];return l&&c.push("base64"),(c.length>0||u&&"text/plain"!==u)&&c.unshift(u),`data:${c.join(";")},${l?o.trim():o}${s?`#${s}`:""}`};var Ql=(e=>(e[e.Metadata=0]="Metadata",e[e.Text=1]="Text",e[e.RecommendRelay=2]="RecommendRelay",e[e.Contacts=3]="Contacts",e[e.EncryptedDirectMessage=4]="EncryptedDirectMessage",e[e.EventDeletion=5]="EventDeletion",e[e.Repost=6]="Repost",e[e.Reaction=7]="Reaction",e[e.BadgeAward=8]="BadgeAward",e[e.GroupChat=9]="GroupChat",e[e.GroupNote=11]="GroupNote",e[e.GroupReply=12]="GroupReply",e[e.GenericRepost=16]="GenericRepost",e[e.ChannelCreation=40]="ChannelCreation",e[e.ChannelMetadata=41]="ChannelMetadata",e[e.ChannelMessage=42]="ChannelMessage",e[e.ChannelHideMessage=43]="ChannelHideMessage",e[e.ChannelMuteUser=44]="ChannelMuteUser",e[e.Media=1063]="Media",e[e.Report=1984]="Report",e[e.Label=1985]="Label",e[e.DVMReqTextExtraction=5e3]="DVMReqTextExtraction",e[e.DVMReqTextSummarization=5001]="DVMReqTextSummarization",e[e.DVMReqTextTranslation=5002]="DVMReqTextTranslation",e[e.DVMReqTextGeneration=5050]="DVMReqTextGeneration",e[e.DVMReqImageGeneration=5100]="DVMReqImageGeneration",e[e.DVMReqTextToSpeech=5250]="DVMReqTextToSpeech",e[e.DVMReqDiscoveryNostrContent=5300]="DVMReqDiscoveryNostrContent",e[e.DVMReqDiscoveryNostrPeople=5301]="DVMReqDiscoveryNostrPeople",e[e.DVMReqTimestamping=5900]="DVMReqTimestamping",e[e.DVMEventSchedule=5905]="DVMEventSchedule",e[e.DVMJobFeedback=7e3]="DVMJobFeedback",e[e.Subscribe=7001]="Subscribe",e[e.Unsubscribe=7002]="Unsubscribe",e[e.SubscriptionReceipt=7003]="SubscriptionReceipt",e[e.CashuQuote=7374]="CashuQuote",e[e.CashuToken=7375]="CashuToken",e[e.WalletChange=7376]="WalletChange",e[e.GroupAdminAddUser=9e3]="GroupAdminAddUser",e[e.GroupAdminRemoveUser=9001]="GroupAdminRemoveUser",e[e.GroupAdminEditMetadata=9002]="GroupAdminEditMetadata",e[e.GroupAdminEditStatus=9006]="GroupAdminEditStatus",e[e.GroupAdminCreateGroup=9007]="GroupAdminCreateGroup",e[e.GroupAdminRequestJoin=9021]="GroupAdminRequestJoin",e[e.MuteList=1e4]="MuteList",e[e.PinList=10001]="PinList",e[e.RelayList=10002]="RelayList",e[e.BookmarkList=10003]="BookmarkList",e[e.CommunityList=10004]="CommunityList",e[e.PublicChatList=10005]="PublicChatList",e[e.BlockRelayList=10006]="BlockRelayList",e[e.SearchRelayList=10007]="SearchRelayList",e[e.SimpleGroupList=10009]="SimpleGroupList",e[e.InterestList=10015]="InterestList",e[e.CashuMintList=10019]="CashuMintList",e[e.EmojiList=10030]="EmojiList",e[e.DirectMessageReceiveRelayList=10050]="DirectMessageReceiveRelayList",e[e.BlossomList=10063]="BlossomList",e[e.NostrWaletConnectInfo=13194]="NostrWaletConnectInfo",e[e.TierList=17e3]="TierList",e[e.FollowSet=3e4]="FollowSet",e[e.CategorizedPeopleList=3e4]="CategorizedPeopleList",e[e.CategorizedBookmarkList=30001]="CategorizedBookmarkList",e[e.RelaySet=30002]="RelaySet",e[e.CategorizedRelayList=30002]="CategorizedRelayList",e[e.BookmarkSet=30003]="BookmarkSet",e[e.CurationSet=30004]="CurationSet",e[e.ArticleCurationSet=30004]="ArticleCurationSet",e[e.VideoCurationSet=30005]="VideoCurationSet",e[e.InterestSet=30015]="InterestSet",e[e.InterestsList=30015]="InterestsList",e[e.EmojiSet=30030]="EmojiSet",e[e.ModularArticle=30040]="ModularArticle",e[e.ModularArticleItem=30041]="ModularArticleItem",e[e.Wiki=30818]="Wiki",e[e.Draft=31234]="Draft",e[e.SubscriptionTier=37001]="SubscriptionTier",e[e.EcashMintRecommendation=38e3]="EcashMintRecommendation",e[e.HighlightSet=39802]="HighlightSet",e[e.CategorizedHighlightList=39802]="CategorizedHighlightList",e[e.Nutzap=9321]="Nutzap",e[e.ZapRequest=9734]="ZapRequest",e[e.Zap=9735]="Zap",e[e.Highlight=9802]="Highlight",e[e.ClientAuth=22242]="ClientAuth",e[e.NostrWalletConnectReq=23194]="NostrWalletConnectReq",e[e.NostrWalletConnectRes=23195]="NostrWalletConnectRes",e[e.NostrConnect=24133]="NostrConnect",e[e.BlossomUpload=24242]="BlossomUpload",e[e.HttpAuth=27235]="HttpAuth",e[e.ProfileBadge=30008]="ProfileBadge",e[e.BadgeDefinition=30009]="BadgeDefinition",e[e.MarketStall=30017]="MarketStall",e[e.MarketProduct=30018]="MarketProduct",e[e.Article=30023]="Article",e[e.AppSpecificData=30078]="AppSpecificData",e[e.Classified=30402]="Classified",e[e.HorizontalVideo=34235]="HorizontalVideo",e[e.VerticalVideo=34236]="VerticalVideo",e[e.CashuWallet=37375]="CashuWallet",e[e.GroupMetadata=39e3]="GroupMetadata",e[e.GroupAdmins=39001]="GroupAdmins",e[e.GroupMembers=39002]="GroupMembers",e[e.AppRecommendation=31989]="AppRecommendation",e[e.AppHandler=31990]="AppHandler",e))(Ql||{}),Yl=class{ndkRelay;ws;_status;timeoutMs;connectedAt;_connectionStats={attempts:0,success:0,durations:[]};debug;connectTimeout;reconnectTimeout;ndk;openSubs=(()=>new Map)();openCountRequests=(()=>new Map)();openEventPublishes=(()=>new Map)();serial=0;baseEoseTimeout=4400;constructor(e,t){this.ndkRelay=e,this._status=1;const n=Math.floor(1e3*Math.random());this.debug=this.ndkRelay.debug.extend("connectivity"+n),this.ndk=t}async connect(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(1!==this._status||this.reconnectTimeout)this.debug("Relay requested to be connected but was in state %s or it had a reconnect timeout",this._status);else{this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0),e??=this.timeoutMs,!this.timeoutMs&&e&&(this.timeoutMs=e),this.timeoutMs&&(this.connectTimeout=setTimeout((()=>this.onConnectionError(t)),this.timeoutMs));try{this.updateConnectionStats.attempt(),1===this._status?this._status=4:this._status=2,this.ws=new WebSocket(this.ndkRelay.url),this.ws.onopen=this.onConnect.bind(this),this.ws.onclose=this.onDisconnect.bind(this),this.ws.onmessage=this.onMessage.bind(this),this.ws.onerror=this.onError.bind(this)}catch(n){throw this.debug(`Failed to connect to ${this.ndkRelay.url}`,n),this._status=1,t?this.handleReconnection():this.ndkRelay.emit("delayed-connect",1728e5),n}}}disconnect(){this._status=0;try{this.ws?.close()}catch(e){this.debug("Failed to disconnect",e),this._status=1}}onConnectionError(e){this.debug(`Error connecting to ${this.ndkRelay.url}`,this.timeoutMs),e&&!this.reconnectTimeout&&this.handleReconnection()}onConnect(){this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0),this.updateConnectionStats.connected(),this._status=5,this.ndkRelay.emit("connect"),this.ndkRelay.emit("ready")}onDisconnect(){this.updateConnectionStats.disconnected(),this._status=1}onMessage(e){try{const t=JSON.parse(e.data),[n,r,...i]=t;switch(n){case"EVENT":{const e=this.openSubs.get(r),n=t[2];return e?void e.onevent(n):void this.debug(`Received event for unknown subscription ${r}`)}case"COUNT":{const e=t[2],n=this.openCountRequests.get(r);return void(n&&(n.resolve(e.count),this.openCountRequests.delete(r)))}case"EOSE":{const e=this.openSubs.get(r);if(!e)return;return void e.oneose(r)}case"OK":{const e=t[2],n=t[3],i=this.openEventPublishes.get(r),o=i?.pop();return i&&o?(e?o.resolve(n):o.reject(new Error(n)),void(0===i.length?this.openEventPublishes.delete(r):this.openEventPublishes.set(r,i))):void this.debug("Received OK for unknown event publish",r)}case"CLOSED":{const e=this.openSubs.get(r);if(!e)return;return void e.onclosed(t[2])}case"NOTICE":return void this.onNotice(t[1]);case"AUTH":return void this.onAuthRequested(t[1])}}catch(t){return void this.debug(`Error parsing message from ${this.ndkRelay.url}: ${t.message}`,t?.stack)}}async onAuthRequested(e){const t=this.ndkRelay.authPolicy??this.ndk?.relayAuthDefaultPolicy;if(this.debug("Relay requested authentication",{havePolicy:!!t}),7!==this._status)if(this._status=6,t){if(this._status>=5){let r;this._status=7;try{r=await t(this.ndkRelay,e)}catch(n){this.debug("Authentication policy threw an error",n),r=!1}if(this.debug("Authentication policy returned",!!r),r instanceof Iu||!0===r){r instanceof Iu&&await this.auth(r);const t=async()=>{if(this._status>=5&&this._status<8){const t=new Iu(this.ndk);t.kind=22242,t.tags=[["relay",this.ndkRelay.url],["challenge",e]],await t.sign(),this.auth(t).then((()=>{this._status=8,this.ndkRelay.emit("authed"),this.debug("Authentication successful")})).catch((e=>{this._status=6,this.ndkRelay.emit("auth:failed",e),this.debug("Authentication failed",e)}))}else this.debug("Authentication failed, it changed status, status is %d",this._status)};!0===r&&(this.ndk?.signer?t().catch((e=>{console.error("Error authenticating",e)})):(this.debug("No signer available for authentication localhost"),this.ndk?.once("signer:ready",t))),this._status=5,this.ndkRelay.emit("authed")}}}else this.ndkRelay.emit("auth",e);else this.debug("Already authenticating, ignoring")}onError(e){this.debug(`WebSocket error on ${this.ndkRelay.url}:`,e)}get status(){return this._status}isAvailable(){return 5===this._status}isFlapping(){const e=this._connectionStats.durations;if(e.length%3!==0)return!1;const t=e.reduce(((e,t)=>e+t),0)/e.length,n=e.map((e=>Math.pow(e-t,2))).reduce(((e,t)=>e+t),0)/e.length;return Math.sqrt(n)<1e3}async onNotice(e){this.ndkRelay.emit("notice",e)}handleReconnection(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.reconnectTimeout)return;if(this.isFlapping())return this.ndkRelay.emit("flapping",this._connectionStats),void(this._status=3);const t=this.connectedAt?Math.max(0,6e4-(Date.now()-this.connectedAt)):5e3*(this._connectionStats.attempts+1);this.reconnectTimeout=setTimeout((()=>{this.reconnectTimeout=void 0,this._status=2,this.connect().catch((t=>{e<5?setTimeout((()=>{this.handleReconnection(e+1)}),1e3*(e+1)^4):this.debug("Reconnect failed")}))}),t),this.ndkRelay.emit("delayed-connect",t),this.debug("Reconnecting in",t),this._connectionStats.nextReconnectAt=Date.now()+t}async send(e){this._status>=5&&this.ws?.readyState===WebSocket.OPEN?this.ws?.send(e):this.debug(`Not connected to ${this.ndkRelay.url} (%d), not sending message ${e}`,this._status)}async auth(e){const t=new Promise(((t,n)=>{const r=this.openEventPublishes.get(e.id)??[];r.push({resolve:t,reject:n}),this.openEventPublishes.set(e.id,r)}));return this.send('["AUTH",'+JSON.stringify(e.rawEvent())+"]"),t}async publish(e){const t=new Promise(((t,n)=>{const r=this.openEventPublishes.get(e.id)??[];r.length>0&&console.warn("Duplicate event publishing detected, you are publishing event "+e.id+" twice"),r.push({resolve:t,reject:n}),this.openEventPublishes.set(e.id,r)}));return this.send('["EVENT",'+JSON.stringify(e)+"]"),t}async count(e,t){this.serial++;const n=t?.id||"count:"+this.serial,r=new Promise(((e,t)=>{this.openCountRequests.set(n,{resolve:e,reject:t})}));return this.send('["COUNT","'+n+'",'+JSON.stringify(e).substring(1)),r}close(e,t){this.send('["CLOSE","'+e+'"]');const n=this.openSubs.get(e);this.openSubs.delete(e),n&&n.onclose(t)}req(e){this.send('["REQ","'+e.subId+'",'+JSON.stringify(e.executeFilters).substring(1)),this.openSubs.set(e.subId,e)}updateConnectionStats={connected:()=>{this._connectionStats.success++,this._connectionStats.connectedAt=Date.now()},disconnected:()=>{this._connectionStats.connectedAt&&(this._connectionStats.durations.push(Date.now()-this._connectionStats.connectedAt),this._connectionStats.durations.length>100&&this._connectionStats.durations.shift()),this._connectionStats.connectedAt=void 0},attempt:()=>{this._connectionStats.attempts++,this._connectionStats.connectedAt=Date.now()}};get connectionStats(){return this._connectionStats}get url(){return this.ndkRelay.url}get connected(){return this._status>=5&&this.ws?.readyState===WebSocket.OPEN}},Jl=class{ndkRelay;debug;constructor(e){this.ndkRelay=e,this.debug=e.debug.extend("publisher")}async publish(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2500;const r=()=>new Promise(((t,n)=>{try{this.publishEvent(e).then((n=>{this.ndkRelay.emit("published",e),e.emit("relay:published",this.ndkRelay),t(!0)})).catch(n)}catch(r){n(r)}})),i=new Promise(((e,r)=>{t=setTimeout((()=>{t=void 0,r(new Error("Timeout: "+n+"ms"))}),n)})),o=()=>{r().then((e=>s(e))).catch((e=>a(e)))};let s,a;const l=t=>{throw this.ndkRelay.debug("Publish failed",t,e.id),this.ndkRelay.emit("publish:failed",e,t),e.emit("relay:publish:failed",this.ndkRelay,t),t},u=()=>{t&&clearTimeout(t),this.ndkRelay.removeListener("connect",o)};return this.ndkRelay.status>=5?Promise.race([r(),i]).catch(l).finally(u):(this.ndkRelay.status<=1?(console.warn("Relay is disconnected, trying to connect to publish an event",this.ndkRelay.url),this.ndkRelay.connect()):console.warn("Relay not connected, waiting for connection to publish an event",this.ndkRelay.url),Promise.race([new Promise(((e,t)=>{s=e,a=t,this.ndkRelay.once("connect",o)})),i]).catch(l).finally(u))}async publishEvent(e){return this.ndkRelay.connectivity.publish(e.rawEvent())}};function Xl(e){const t={};return e.forEach((e=>{Object.entries(e).forEach((e=>{let[n,r]=e;Array.isArray(r)?void 0===t[n]?t[n]=[...r]:t[n]=Array.from(new Set([...t[n],...r])):t[n]=r}))})),t}var eu=class{fingerprint;items=(()=>new Map)();topSubscriptionManager;debug;status=0;onClose;relay;eosed=!1;itemsToRemoveAfterEose=[];executionTimer;fireTime;delayType;executeFilters;eventIds=(()=>new Set)();constructor(e,t){this.relay=e;const n=Math.random().toString(36).substring(7);this.debug=e.debug.extend("subscription-"+n),this.fingerprint=t||Math.random().toString(36).substring(7)}_subId;get subId(){return this._subId||(this._subId=this.fingerprint.slice(0,15)),this._subId}subIdParts=(()=>new Set)();addSubIdPart(e){this.subIdParts.add(e)}addItem(e,t){if(!this.items.has(e.internalId))switch(e.on("close",this.removeItem.bind(this,e)),this.items.set(e.internalId,{subscription:e,filters:t}),3!==this.status&&e.subId&&(!this._subId||this._subId.length<48)&&(0!==this.status&&1!==this.status||this.addSubIdPart(e.subId)),this.status){case 0:case 1:this.evaluateExecutionPlan(e);break;case 3:break;case 4:throw this.debug("Subscription is closed, cannot add new items %o (%o)",e,t),new Error("Cannot add new items to a closed subscription")}}removeItem(e){this.eosed?(this.items.delete(e.internalId),0===this.items.size&&this.close()):this.itemsToRemoveAfterEose.push(e.internalId)}close(){if(4===this.status)return;const e=this.status;if(this.status=4,3===e)try{this.relay.close(this.subId)}catch(t){this.debug("Error closing subscription",t,this)}else this.debug("Subscription wanted to close but it wasn't running, this is probably ok",{subId:this.subId,prevStatus:e,sub:this});this.cleanup()}cleanup(){this.executionTimer&&clearTimeout(this.executionTimer),this.relay.off("ready",this.executeOnRelayReady),this.relay.off("authed",this.reExecuteAfterAuth),this.onClose&&this.onClose(this)}catchUpSubscription(e,t){this.debug("TODO: catch up subscription",e,t)}evaluateExecutionPlan(e){if(!e.isGroupable())return this.status=1,void this.execute();const t=e.groupableDelay,n=e.groupableDelayType;if(!t)throw new Error("Cannot group a subscription without a delay");if(0===this.status)this.schedule(t,n);else{const e=this.delayType,r=this.fireTime-Date.now();if("at-least"===e&&"at-least"===n)r<t&&(this.executionTimer&&clearTimeout(this.executionTimer),this.schedule(t,n));else if("at-least"===e&&"at-most"===n)r>t&&(this.executionTimer&&clearTimeout(this.executionTimer),this.schedule(t,n));else if("at-most"===e&&"at-most"===n)r>t&&(this.executionTimer&&clearTimeout(this.executionTimer),this.schedule(t,n));else{if("at-most"!==e||"at-least"!==n)throw new Error("Unknown delay type combination "+e+" "+n);r>t&&(this.executionTimer&&clearTimeout(this.executionTimer),this.schedule(t,n))}}}schedule(e,t){this.status=1;const n=Date.now();this.fireTime=n+e,this.delayType=t;const r=setTimeout(this.execute.bind(this),e);"at-least"===t&&(this.executionTimer=r)}executeOnRelayReady=()=>{2===this.status&&(this.status=1,this.execute())};finalizeSubId(){this.subIdParts.size>0?this._subId=Array.from(this.subIdParts).join("-"):this._subId=this.fingerprint.slice(0,15),this._subId+="-"+Math.random().toString(36).substring(2,7)}reExecuteAfterAuth=(()=>{const e=this.subId;this.debug("Re-executing after auth",this.items.size),this.eosed?this.relay.close(this.subId):this.debug("We are abandoning an opened subscription, once it EOSE's, the handler will close it",{oldSubId:e}),this._subId=void 0,this.status=1,this.execute(),this.debug("Re-executed after auth %s \ud83d\udc49 %s",e,this.subId)}).bind(this);execute(){if(1===this.status){if(!this.relay.connected)return this.status=2,void this.relay.once("ready",this.executeOnRelayReady);this.relay.status<8&&this.relay.once("authed",this.reExecuteAfterAuth),this.status=3,this.finalizeSubId(),this.executeFilters=this.compileFilters(),this.relay.req(this)}}onstart(){}onevent(e){this.topSubscriptionManager?.seenEvent(e.id,this.relay);for(const{subscription:t}of this.items.values())eo(t.filters,e)&&t.eventReceived(e,this.relay,!1)}oneose(e){if(this.eosed=!0,e!==this.subId)return this.debug("Received EOSE for an abandoned subscription",e,this.subId),void this.relay.close(e);for(const{subscription:t}of this.items.values())t.eoseReceived(this.relay),t.closeOnEose&&this.removeItem(t)}onclose(e){this.status=4}onclosed(e){if(e)for(const{subscription:t}of this.items.values())t.closedReceived(this.relay,e)}compileFilters(){const e=[],t=Array.from(this.items.values()).map((e=>e.filters));t[0]||(this.debug("\ud83d\udc40 No filters to merge",this.items),console.trace("No filters to merge"));const n=t[0].length;for(let r=0;r<n;r++){const n=t.map((e=>e[r]));e.push(Xl(n))}return e}},tu=class{relay;subscriptions;topSubscriptionManager;debug;constructor(e,t){this.relay=e,this.subscriptions=new Map,this.debug=e.debug.extend("sub-manager"),this.topSubscriptionManager=t}addSubscription(e,t){let n;if(e.isGroupable()){const r=function(e,t){const n=[];for(const i of e){if(i.since||i.until)return;const e=Object.keys(i||{}).sort().join("-");n.push(e)}let r=t?"+":"";return r+=n.join("|"),r}(t,e.closeOnEose);r&&(n=this.subscriptions.get(r)),n??=this.createSubscription(e,t,r)}else n=this.createSubscription(e,t);n.addItem(e,t)}createSubscription(e,t,n){const r=new eu(this.relay,n);return r.topSubscriptionManager=this.topSubscriptionManager,r.onClose=this.onRelaySubscriptionClose.bind(this),this.subscriptions.set(r.fingerprint,r),r}onRelaySubscriptionClose(e){this.subscriptions.delete(e.fingerprint)}},nu=class e extends zs.EventEmitter{url;scores;connectivity;subs;publisher;authPolicy;lowestValidationRatio;targetValidationRatio;validationRatioFn;validatedEventCount=0;nonValidatedEventCount=0;trusted=!1;complaining=!1;debug;static defaultValidationRatioUpdateFn=(e,t,n)=>{if(void 0===e.lowestValidationRatio||void 0===e.targetValidationRatio)return 1;let r=e.validationRatio;if(e.validationRatio>e.targetValidationRatio){const n=t/100;r=Math.max(e.lowestValidationRatio,e.validationRatio-n)}return r<e.validationRatio?r:e.validationRatio};constructor(t,n,r){super(),this.url=Hl(t),this.scores=new Map,this.debug=Ds(`ndk:relay:${t}`),this.connectivity=new Yl(this,r),this.req=this.connectivity.req.bind(this.connectivity),this.close=this.connectivity.close.bind(this.connectivity),this.subs=new tu(this,r?.subManager),this.publisher=new Jl(this),this.authPolicy=n,this.targetValidationRatio=r?.initialValidationRatio,this.lowestValidationRatio=r?.lowestValidationRatio,this.validationRatioFn=(r?.validationRatioFn??e.defaultValidationRatioUpdateFn).bind(this),this.updateValidationRatio(),r||console.trace("relay created without ndk")}updateValidationRatio(){setTimeout((()=>{this.updateValidationRatio()}),3e4)}get status(){return this.connectivity.status}get connectionStats(){return this.connectivity.connectionStats}async connect(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.connectivity.connect(e,t)}disconnect(){1!==this.status&&this.connectivity.disconnect()}subscribe(e,t){this.subs.addSubscription(e,t)}async publish(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2500;return this.publisher.publish(e,t)}referenceTags(){return[["r",this.url]]}addValidatedEvent(){this.validatedEventCount++}addNonValidatedEvent(){this.nonValidatedEventCount++}get validationRatio(){return 0===this.nonValidatedEventCount?1:this.validatedEventCount/(this.validatedEventCount+this.nonValidatedEventCount)}shouldValidateEvent(){return!this.trusted&&(void 0===this.targetValidationRatio||this.validationRatio<this.targetValidationRatio)}get connected(){return this.connectivity.connected}req;close},ru=class extends Error{errors;publishedToRelays;intendedRelaySet;constructor(e,t,n,r){super(e),this.errors=t,this.publishedToRelays=n,this.intendedRelaySet=r}get relayErrors(){const e=[];for(const[t,n]of this.errors)e.push(`${t.url}: ${n}`);return e.join("\n")}},iu=class e{relays;debug;ndk;constructor(e,t){this.relays=e,this.ndk=t,this.debug=t.debug.extend("relayset")}addRelay(e){this.relays.add(e)}get relayUrls(){return Array.from(this.relays).map((e=>e.url))}static fromRelayUrls(t,n){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=new Set;for(const e of t){const o=n.pool.relays.get(Hl(e));if(o)o.status<5&&r&&o.connect(),i.add(o);else{const r=new nu(Hl(e),n?.relayAuthDefaultPolicy,n);n.pool.useTemporaryRelay(r,void 0,"requested from fromRelayUrls "+t),i.add(r)}}return new e(new Set(i),n)}async publish(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=new Set,i=new Map,o=e.isEphemeral();e.publishStatus="pending";const s=Array.from(this.relays).map((n=>new Promise((s=>{n.publish(e,t).then((e=>{r.add(n),s()})).catch((e=>{o||i.set(n,e),s()}))}))));if(await Promise.all(s),r.size<n){if(!o){const t=new ru("Not enough relays received the event",i,r,this);throw e.publishStatus="error",e.publishError=t,this.ndk.emit("event:publish-failed",e,t,this.relayUrls),t}}else e.emit("published",{relaySet:this,publishedToRelays:r});return r}get size(){return this.relays.size}},ou=Ds("ndk:outbox:calculate");async function su(e,t){const n=new Set,r=await async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"write";if(e.outboxTracker)return e.outboxTracker.data.has(t)||await e.outboxTracker.trackUsers([t]),$l(e,t,n)}(e,t.pubkey);r&&r.forEach((t=>{const r=e.pool?.getRelay(t);r&&n.add(r)}));let i=t.tags.filter((e=>["a","e"].includes(e[0]))).map((e=>e[2])).filter((e=>e&&e.startsWith("wss://"))).filter((e=>{try{return new URL(e),!0}catch{return!1}})).map((e=>Hl(e)));i=Array.from(new Set(i)).slice(0,5),i.forEach((t=>{const r=e.pool?.getRelay(t,!0,!0);r&&(ou("Adding relay hint %s",t),n.add(r))}));const o=t.getMatchingTags("p").map((e=>e[1]));if(o.length<5){Array.from(jl(e,o,"read",{preferredRelays:new Set(r)}).keys()).forEach((t=>{const r=e.pool?.getRelay(t,!1,!0);r&&(ou("Adding p-tagged relay %s",t),n.add(r))}))}else ou("Too many p-tags to consider %d",o.length);return e.pool?.permanentAndConnectedRelays().forEach((e=>n.add(e))),new iu(n,e)}function au(e,t,n){const r=new Map,i=new Set;if(t.forEach((e=>{e.authors&&e.authors.forEach((e=>i.add(e)))})),i.size>0){const n=function(e,t){return jl(e,t,"write",{count:arguments.length>2&&void 0!==arguments[2]?arguments[2]:2})}(e,Array.from(i));for(const e of n.keys())r.set(e,[]);for(const e of t)if(e.authors)for(const[t,i]of n.entries()){const n=e.authors.filter((e=>i.includes(e)));r.set(t,[...r.get(t),{...e,authors:n}])}else for(const t of n.keys())r.set(t,[...r.get(t),e])}else e.explicitRelayUrls&&e.explicitRelayUrls.forEach((e=>{r.set(e,t)}));return 0===r.size&&n.permanentAndConnectedRelays().slice(0,5).forEach((e=>{r.set(e.url,t)})),0===r.size&&console.warn("No relays found for filter",t),r}function lu(e,t,n){return au(e,t,n)}async function uu(e){return""}function cu(){if(void 0===this.kind)throw new Error("Kind not set");return[0,3].includes(this.kind)||this.kind>=1e4&&this.kind<2e4||this.kind>=3e4&&this.kind<4e4}function du(){if(void 0===this.kind)throw new Error("Kind not set");return this.kind>=2e4&&this.kind<3e4}function hu(){if(void 0===this.kind)throw new Error("Kind not set");return this.kind>=3e4&&this.kind<4e4}var fu="nip04";async function pu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fu;if(!this.ndk)throw new Error("No NDK instance found!");if(t||(await this.ndk.assertSigner(),t=this.ndk.signer),!e){const t=this.getMatchingTags("p");if(1!==t.length)throw new Error("No recipient could be determined and no explicit recipient was provided");e=this.ndk.getUser({pubkey:t[0][1]})}this.content=await(t?.encrypt(e,this.content,n))}async function gu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fu;if(!this.ndk)throw new Error("No NDK instance found!");t||(await this.ndk.assertSigner(),t=this.ndk.signer),e||(e=this.author),this.content=await(t?.decrypt(e,this.content,n))}function yu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[];return this.onRelays.length>0?t=this.onRelays.map((e=>e.url)):this.relay&&(t=[this.relay.url]),t.length>e&&(t=t.slice(0,e)),this.isParamReplaceable()?lo.naddrEncode({kind:this.kind,pubkey:this.pubkey,identifier:this.replaceableDTag(),relays:t}):t.length>0?lo.neventEncode({id:this.tagId(),relays:t,author:this.pubkey}):lo.noteEncode(this.tagId())}async function mu(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;if(!t&&e){if(!this.ndk)throw new Error("No NDK instance found");this.ndk.assertSigner(),t=this.ndk.signer}const n=new Iu(this.ndk,{kind:wu(this),content:""});return n.tag(this),16===n.kind?n.tags.push(["k",`${this.kind}`]):n.content=JSON.stringify(this.rawEvent()),t&&await n.sign(t),e&&await n.publish(),n}function wu(e){return 1===e.kind?6:16}var bu;function vu(e){return e.getMatchingTags("e").some((e=>e[3]))}function ku(e,t){t??=e.tagType();const n=e.tags.find((e=>"root"===e[3]));if(!n){if(vu(e))return;const n=e.getMatchingTags(t);if(n.length<3)return n[0]}return n}function Eu(e,t){t??=e.tagType();let n=e.tags.find((e=>"reply"===e[3]));if(n)return n;if(n||(n=e.tags.find((e=>"root"===e[3]))),!n){if(vu(e))return;const n=e.getMatchingTags(t);if(1===n.length)return n[0];if(2===n.length)return n[1]}}async function Lu(e,t){if(!this.ndk)throw new Error("NDK instance not found");const n=this.getMatchingTags(e,t);if(0===n.length)return;const[r,i,o]=n[0];return await this.ndk.fetchEvent(i,{},undefined)}async function xu(e){if(!this.ndk)throw new Error("NDK instance not found");const t=ku(this);if(t)return this.ndk.fetchEventFromTag(t,this,e)}async function Cu(e){if(!this.ndk)throw new Error("NDK instance not found");const t=Eu(this);if(t)return this.ndk.fetchEventFromTag(t,this,e)}function Su(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=[0,this.pubkey,this.created_at,this.kind,this.tags,this.content];return e&&n.push(this.sig),t&&n.push(this.id),JSON.stringify(n)}var _u={};var Au=/^[a-f0-9]{64}$/;function Ru(){if("number"!==typeof this.kind)return!1;if("string"!==typeof this.content)return!1;if("number"!==typeof this.created_at)return!1;if("string"!==typeof this.pubkey)return!1;if(!this.pubkey.match(Au))return!1;if(!Array.isArray(this.tags))return!1;for(let e=0;e<this.tags.length;e++){const t=this.tags[e];if(!Array.isArray(t))return!1;for(let e=0;e<t.length;e++)if("object"===typeof t[e])return!1}return!0}var Nu=new Dl.LRUCache({maxSize:1e3,entryExpirationTimeInMS:6e4});function Tu(e){if("boolean"===typeof this.signatureVerified)return this.signatureVerified;const t=Nu.get(this.id);if(null!==t)return this.signatureVerified=!!t;try{if(!this.ndk?.asyncSigVerification){const e=ht((new TextEncoder).encode(this.serialize())),t=zl.verify(this.sig,e,this.pubkey);return t?Nu.set(this.id,this.sig):Nu.set(this.id,!1),this.signatureVerified=t}(async function(e){return new Promise((t=>{const n=e.serialize();let r=!1;_u[e.id]||(_u[e.id]={event:e,resolves:[]},r=!0),_u[e.id].resolves.push(t),r&&bu.postMessage({serialized:n,id:e.id,sig:e.sig,pubkey:e.pubkey})}))})(this).then((t=>{e&&(this.signatureVerified=t,t&&Nu.set(this.id,this.sig)),t||(this.ndk.emit("event:invalid-sig",this),Nu.set(this.id,!1))}))}catch(n){return this.signatureVerified=!1}}function Pu(){return e=this.serialize(),Ze(ht((new TextEncoder).encode(e)));var e}var Mu=[3],Iu=class e extends zs.EventEmitter{ndk;created_at;content="";tags=[];kind;id="";sig;pubkey="";signatureVerified;_author=void 0;relay;get onRelays(){let e=[];return this.ndk?e=this.ndk.subManager.seenEvents.get(this.id)||[]:this.relay&&e.push(this.relay),e}publishStatus="success";publishError;constructor(t,n){super(),this.ndk=t,this.created_at=n?.created_at,this.content=n?.content||"",this.tags=n?.tags||[],this.id=n?.id||"",this.sig=n?.sig,this.pubkey=n?.pubkey||"",this.kind=n?.kind,n instanceof e&&(this.relay&&(this.relay=n.relay,this.ndk?.subManager.seenEvent(n.id,this.relay)),this.publishStatus=n.publishStatus,this.publishError=n.publishError)}static deserialize(t,n){return new e(t,function(e){const t=JSON.parse(e),n={pubkey:t[1],created_at:t[2],kind:t[3],tags:t[4],content:t[5]};return 7===t.length&&(n.sig=t[6]),8===t.length&&(n.id=t[7]),n}(n))}rawEvent(){return{created_at:this.created_at,content:this.content,tags:this.tags,kind:this.kind,pubkey:this.pubkey,id:this.id,sig:this.sig}}set author(e){this.pubkey=e.pubkey,this._author=e,this._author.ndk??=this.ndk}get author(){if(this._author)return this._author;if(!this.ndk)throw new Error("No NDK instance found");const e=this.ndk.getUser({pubkey:this.pubkey});return this._author=e,e}tagExternal(e,t,n){let r=["i"],i=["k"];switch(t){case"url":const n=new URL(e);n.hash="",r.push(n.toString()),i.push(`${n.protocol}//${n.host}`);break;case"hashtag":r.push(`#${e.toLowerCase()}`),i.push("#");break;case"geohash":r.push(`geo:${e.toLowerCase()}`),i.push("geo");break;case"isbn":r.push(`isbn:${e.replace(/-/g,"")}`),i.push("isbn");break;case"podcast:guid":r.push(`podcast:guid:${e}`),i.push("podcast:guid");break;case"podcast:item:guid":r.push(`podcast:item:guid:${e}`),i.push("podcast:item:guid");break;case"podcast:publisher:guid":r.push(`podcast:publisher:guid:${e}`),i.push("podcast:publisher:guid");break;case"isan":r.push(`isan:${e.split("-").slice(0,4).join("-")}`),i.push("isan");break;case"doi":r.push(`doi:${e.toLowerCase()}`),i.push("doi");break;default:throw new Error(`Unsupported NIP-73 entity type: ${t}`)}n&&r.push(n),this.tags.push(r),this.tags.push(i)}tag(t,n,r,i){let o=[];if(void 0!==t.fetchProfile){i??="p";const e=[i,t.pubkey];n&&e.push("",n),o.push(e)}else if(t instanceof e){const e=t;r??=e?.pubkey===this.pubkey,o=e.referenceTags(n,r,i);for(const t of e.getMatchingTags("p"))t[1]!==this.pubkey&&(this.tags.find((e=>"p"===e[0]&&e[1]===t[1]))||this.tags.push(["p",t[1]]))}else{if(!Array.isArray(t))throw new Error("Invalid argument",t);o=[t]}this.tags=function(e,t){const n=new Map,r=(e,t)=>e.every(((e,n)=>e===t[n]));return e.concat(t).forEach((e=>{for(const[t,i]of n)if(r(i,e)||r(e,i))return void(e.length>=i.length&&n.set(t,e));n.set((e=>e.join(","))(e),e)})),Array.from(n.values())}(this.tags,o)}async toNostrEvent(e){if(!e&&""===this.pubkey){const e=await(this.ndk?.signer?.user());this.pubkey=e?.pubkey||""}this.created_at||(this.created_at=Math.floor(Date.now()/1e3));const{content:t,tags:n}=await this.generateTags();this.content=t||"",this.tags=n;try{this.id=this.getEventHash()}catch(r){}return this.rawEvent()}serialize=(()=>Su.bind(this))();getEventHash=(()=>Pu.bind(this))();validate=(()=>Ru.bind(this))();verifySignature=(()=>Tu.bind(this))();isReplaceable=(()=>cu.bind(this))();isEphemeral=(()=>du.bind(this))();isParamReplaceable=(()=>hu.bind(this))();encode=(()=>yu.bind(this))();encrypt=(()=>pu.bind(this))();decrypt=(()=>gu.bind(this))();getMatchingTags(e,t){const n=this.tags.filter((t=>t[0]===e));return void 0===t?n:n.filter((e=>e[3]===t))}hasTag(e,t){return this.tags.some((n=>n[0]===e&&(!t||n[3]===t)))}tagValue(e){const t=this.getMatchingTags(e);if(0!==t.length)return t[0][1]}get alt(){return this.tagValue("alt")}set alt(e){this.removeTag("alt"),e&&this.tags.push(["alt",e])}get dTag(){return this.tagValue("d")}set dTag(e){this.removeTag("d"),e&&this.tags.push(["d",e])}removeTag(e){const t=Array.isArray(e)?e:[e];this.tags=this.tags.filter((e=>!t.includes(e[0])))}async sign(e){e?this.author=await e.user():(this.ndk?.assertSigner(),e=this.ndk.signer);const t=await this.toNostrEvent();return this.sig=await e.sign(t),this.sig}async publishReplaceable(e,t,n){return this.id="",this.created_at=Math.floor(Date.now()/1e3),this.sig="",this.publish(e,t,n)}async publish(e,t,n){if(this.sig||await this.sign(),!this.ndk)throw new Error("NDKEvent must be associated with an NDK instance to publish");e||(e=this.ndk.devWriteRelaySet||await su(this.ndk,this)),5===this.kind&&this.ndk.cacheAdapter?.deleteEvent&&this.ndk.cacheAdapter.deleteEvent(this);const r=this.rawEvent();if(this.ndk.cacheAdapter?.addUnpublishedEvent)try{this.ndk.cacheAdapter.addUnpublishedEvent(this,e.relayUrls)}catch(o){console.error("Error adding unpublished event to cache",o)}this.ndk.subManager.subscriptions.forEach((e=>{e.filters.some((e=>Xi(e,r)))&&e.eventReceived(this,void 0,!1,!0)}));const i=await e.publish(this,t,n);return i.forEach((e=>this.ndk?.subManager.seenEvent(this.id,e))),i}async generateTags(){let e=[];const t=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=[],r=e=>{t.find((t=>["q",e[0]].includes(t[0])&&t[1]===e[1]))||t.push(e)};return e=e.replace(/(@|nostr:)(npub|nprofile|note|nevent|naddr)[a-zA-Z0-9]+/g,(e=>{try{const t=e.split(/(@|nostr:)/)[2],{type:i,data:o}=lo.decode(t);let s;switch(i){case"npub":s=["p",o];break;case"nprofile":s=["p",o.pubkey];break;case"note":n.push(new Promise((async e=>{r(["e",o,await uu(),"mention"]),e()})));break;case"nevent":n.push(new Promise((async e=>{const{id:t,author:n}=o;let{relays:i}=o;i&&0!==i.length||(i=[await uu()]),r(["e",t,i[0],"mention"]),n&&r(["p",n]),e()})));break;case"naddr":n.push(new Promise((async e=>{const t=[o.kind,o.pubkey,o.identifier].join(":");let n=o.relays??[];0===n.length&&(n=[await uu()]),r(["a",t,n[0],"mention"]),r(["p",o.pubkey]),e()})));break;default:return e}return s&&r(s),`nostr:${t}`}catch(t){return e}})),await Promise.all(n),{content:e=e.replace(/(?<=\s|^)(#[^\s!@#$%^&*()=+./,[{\]};:'"?><]+)/g,((e,n)=>{const r=["t",n.slice(1)];return t.find((e=>e[0]===r[0]&&e[1]===r[1]))||t.push(r),e})),tags:t}}(this.content,this.tags),n=t.content;if(e=t.tags,this.kind&&this.isParamReplaceable()){if(!this.getMatchingTags("d")[0]){const t=this.tagValue("title");let n=[...Array(t?6:16)].map((()=>Math.random().toString(36)[2])).join("");t&&t.length>0&&(n=t.replace(/[^a-z0-9]+/gi,"-").replace(/^-|-$/g,"")+"-"+n),e.push(["d",n])}}if((this.ndk?.clientName||this.ndk?.clientNip89)&&Mu.includes(this.kind)&&!this.tags.some((e=>"client"===e[0]))){const t=["client",this.ndk.clientName??""];this.ndk.clientNip89&&t.push(this.ndk.clientNip89),e.push(t)}return{content:n||"",tags:e}}muted(){const e=this.ndk?.mutedIds.get(this.pubkey);if(e&&"p"===e)return"author";const t=this.tagReference(),n=this.ndk?.mutedIds.get(t[1]);return n&&n===t[0]?"event":null}replaceableDTag(){if(this.kind&&this.kind>=3e4&&this.kind<=4e4){const e=this.getMatchingTags("d")[0];return e?e[1]:""}throw new Error("Event is not a parameterized replaceable event")}deduplicationKey(){return 0===this.kind||3===this.kind||this.kind&&this.kind>=1e4&&this.kind<2e4?`${this.kind}:${this.pubkey}`:this.tagId()}tagId(){return this.isParamReplaceable()?this.tagAddress():this.id}tagAddress(){if(!this.isParamReplaceable())throw new Error("This must only be called on replaceable events");const e=this.replaceableDTag();return`${this.kind}:${this.pubkey}:${e}`}tagType(){return this.isParamReplaceable()?"a":"e"}tagReference(e){let t;return t=this.isParamReplaceable()?["a",this.tagAddress()]:["e",this.tagId()],this.relay?t.push(this.relay.url):t.push(""),e&&t.push(e),t}referenceTags(e,t,n){let r=[];return r=this.isParamReplaceable()?[[n??"a",this.tagAddress()],[n??"e",this.id]]:[[n??"e",this.id]],this.relay?.url?r=r.map((e=>(e.push(this.relay?.url),e))):e&&(r=r.map((e=>(e.push(""),e)))),e&&r.forEach((t=>t.push(e))),r=[...r,...this.getMatchingTags("h")],t||r.push(...this.author.referenceTags()),r}filter(){return this.isParamReplaceable()?{"#a":[this.tagId()]}:{"#e":[this.tagId()]}}async delete(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.ndk)throw new Error("No NDK instance found");this.ndk.assertSigner();const r=new e(this.ndk,{kind:5,content:t||""});return r.tag(this,void 0,!0),r.tags.push(["k",this.kind.toString()]),n&&await r.publish(),r}fetchTaggedEvent=(()=>Lu.bind(this))();fetchRootEvent=(()=>xu.bind(this))();fetchReplyEvent=(()=>Cu.bind(this))();repost=(()=>mu.bind(this))();async react(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.ndk)throw new Error("No NDK instance found");this.ndk.assertSigner();const r=new e(this.ndk,{kind:7,content:t});return r.tag(this),n?await r.publish():await r.sign(),r}get isValid(){return this.validate()}};function Uu(e){return!(!e.filter.ids||!function(e){const t=e.filter.ids;return!!t&&t.length===e.eventFirstSeen.size}(e))}function Ou(e){let t;if(e.match(Bu)){const[t,n,r]=e.split(":"),i={authors:[n],kinds:[parseInt(t)]};return r&&(i["#d"]=[r]),i}if(e.match(Fu))try{switch(t=lo.decode(e),t.type){case"nevent":{const e={ids:[t.data.id]};return t.data.author&&(e.authors=[t.data.author]),t.data.kind&&(e.kinds=[t.data.kind]),e}case"note":return{ids:[t.data]};case"naddr":const e={authors:[t.data.pubkey],kinds:[t.data.kind]};return t.data.identifier&&(e["#d"]=[t.data.identifier]),e}}catch(n){console.error("Error decoding",e,n)}return{ids:[e]}}var Bu=/^(\d+):([0-9A-Fa-f]+)(?::(.*))?$/,Fu=/^n(event|ote|profile|pub|addr)1[\d\w]+$/;function zu(e,t){try{const n=lo.decode(e);if(["naddr","nevent"].includes(n?.type)){const e=n.data;if(e?.relays)return e.relays.map((e=>new nu(e,t?.relayAuthDefaultPolicy,t)))}}catch(n){}return[]}var Du={closeOnEose:!1,cacheUsage:"CACHE_FIRST",groupable:!0,groupableDelay:100,groupableDelayType:"at-most"},$u=class extends zs.EventEmitter{subId;filters;opts;pool;skipVerification=!1;skipValidation=!1;relayFilters;relaySet;ndk;debug;eventFirstSeen=(()=>new Map)();eosesSeen=(()=>new Set)();lastEventReceivedAt;internalId;closeOnEose;poolMonitor;constructor(e,t,n,r,i){if(super(),this.ndk=e,this.pool=n?.pool||e.pool,this.opts={...Du,...n||{}},this.filters=t instanceof Array?t:[t],this.subId=i||n?.subId,this.internalId=Math.random().toString(36).substring(7),this.relaySet=r,this.debug=e.debug.extend(`subscription[${n?.subId??this.internalId}]`),this.skipVerification=n?.skipVerification||!1,this.skipValidation=n?.skipValidation||!1,this.closeOnEose=n?.closeOnEose||!1,"ONLY_CACHE"===this.opts.cacheUsage&&!this.opts.closeOnEose)throw new Error("Cannot use cache-only options with a persistent subscription")}relaysMissingEose(){if(!this.relayFilters)return[];return Array.from(this.relayFilters.keys()).filter((e=>!this.eosesSeen.has(this.pool.getRelay(e,!1,!1))))}get filter(){return this.filters[0]}get groupableDelay(){if(this.isGroupable())return this.opts?.groupableDelay}get groupableDelayType(){return this.opts?.groupableDelayType||"at-most"}isGroupable(){return this.opts?.groupable||!1}shouldQueryCache(){return"ONLY_RELAY"!==this.opts?.cacheUsage}shouldQueryRelays(){return"ONLY_CACHE"!==this.opts?.cacheUsage}shouldWaitForCache(){return this.opts.closeOnEose&&!!this.ndk.cacheAdapter?.locking&&"PARALLEL"!==this.opts.cacheUsage}async start(){let e;this.shouldQueryCache()&&(e=this.startWithCache(),this.shouldWaitForCache()&&(await e,Uu(this)))?this.emit("eose",this):this.shouldQueryRelays()?(this.startWithRelays(),this.startPoolMonitor()):this.emit("eose",this)}startPoolMonitor(){this.debug.extend("pool-monitor");this.poolMonitor=e=>{if(this.relayFilters?.has(e.url))return;lu(this.ndk,this.filters,this.pool).get(e.url)&&(this.relayFilters?.set(e.url,this.filters),e.subscribe(this,this.filters))},this.pool.on("relay:connect",this.poolMonitor)}stop(){this.emit("close",this),this.poolMonitor&&this.pool.off("relay:connect",this.poolMonitor),this.removeAllListeners()}hasAuthorsFilter(){return this.filters.some((e=>e.authors?.length))}async startWithCache(){if(this.ndk.cacheAdapter?.query){const e=this.ndk.cacheAdapter.query(this);this.ndk.cacheAdapter.locking&&await e}}startWithRelays(){if(this.relaySet&&0!==this.relaySet.relays.size){this.relayFilters=new Map;for(const e of this.relaySet.relays)this.relayFilters.set(e.url,this.filters)}else this.relayFilters=lu(this.ndk,this.filters,this.pool);if(this.relayFilters&&0!==this.relayFilters.size)for(const[e,t]of this.relayFilters){this.pool.getRelay(e,!0,!0,t).subscribe(this,t)}}eventReceived(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=e.id,o=this.eventFirstSeen.has(i);let s;if(e instanceof Iu&&(s=e),o){const n=Date.now()-(this.eventFirstSeen.get(i)||0);if(this.emit("event:dup",i,t,n,this),t){const n=Nu.get(i);n&&"string"===typeof n&&e.sig===n&&t.addValidatedEvent()}}else{if(s??=new Iu(this.ndk,e),s.ndk=this.ndk,s.relay=t,!n&&!r){if(!this.skipValidation&&!s.isValid)return void this.debug("Event failed validation %s from relay %s",i,t?.url);if(t)if(!1!==t?.shouldValidateEvent()){if(!this.skipVerification){if(!s.verifySignature(!0)&&!this.ndk.asyncSigVerification)return void this.debug("Event failed signature validation",e);t&&t.addValidatedEvent()}}else t.addNonValidatedEvent();this.ndk.cacheAdapter&&this.ndk.cacheAdapter.setEvent(s,this.filters,t)}!n&&t&&this.ndk.emit("event",s,t),this.emit("event",s,t,this),this.eventFirstSeen.set(i,Date.now())}this.lastEventReceivedAt=Date.now()}closedReceived(e,t){this.emit("closed",e,t)}eoseTimeout;eosed=!1;eoseReceived(e){this.debug("EOSE received from %s",e.url),this.eosesSeen.add(e);let t=this.lastEventReceivedAt?Date.now()-this.lastEventReceivedAt:void 0;const n=this.eosesSeen.size===this.relayFilters?.size,r=Uu(this),i=e=>{this.debug("Performing EOSE: %s %d",e,this.eosed),this.eosed||(this.eoseTimeout&&clearTimeout(this.eoseTimeout),this.emit("eose",this),this.eosed=!0,this.opts?.closeOnEose&&this.stop())};if(r||n)i("query filled or seen all");else if(this.relayFilters){let e=1e3;const n=new Set(this.pool.connectedRelays().map((e=>e.url))),r=Array.from(this.relayFilters.keys()).filter((e=>n.has(e)));if(0===r.length)return;const o=this.eosesSeen.size/r.length;if(this.eosesSeen.size>=2&&o>=.5){if(e*=1-o,0===e)return void i("tiem to wait was 0");this.eoseTimeout&&clearTimeout(this.eoseTimeout);const n=()=>{t=this.lastEventReceivedAt?Date.now()-this.lastEventReceivedAt:void 0,void 0!==t&&t<20?this.eoseTimeout=setTimeout(n,e):i("send eose timeout: "+e)};this.eoseTimeout=setTimeout(n,e)}}}};async function ju(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(!this.ndk)throw new Error("NDK not set");const r=await this.ndk.fetchEvent({kinds:[n],authors:[this.pubkey]},e||{groupable:!1});if(r){const e=new Set;return r.tags.forEach((t=>{"p"===t[0]&&e.add(t[1])})),t&&this.ndk?.outboxTracker?.trackUsers(Array.from(e)),[...e].reduce(((e,t)=>{const n=new Qu({pubkey:t});return n.ndk=this.ndk,e.add(n),e}),new Set)}return new Set}function Vu(e){const t={};let n;try{n=JSON.parse(e.content)}catch(r){throw new Error(`Failed to parse profile event: ${r}`)}return t.created_at=e.created_at,t.profileEvent=JSON.stringify(e.rawEvent()),Object.keys(n).forEach((e=>{switch(e){case"name":t.name=n.name;break;case"display_name":t.displayName=n.display_name;break;case"image":case"picture":t.image=n.picture||n.image;break;case"banner":t.banner=n.banner;break;case"bio":t.bio=n.bio;break;case"nip05":t.nip05=n.nip05;break;case"lud06":t.lud06=n.lud06;break;case"lud16":t.lud16=n.lud16;break;case"about":t.about=n.about;break;case"zapService":t.zapService=n.zapService;break;case"website":t.website=n.website;break;default:t[e]=n[e]}})),t}function Hu(e){const t={};for(const[n,r]of Object.entries(e))switch(n){case"username":case"name":t.name=r;break;case"displayName":t.display_name=r;break;case"image":case"picture":t.picture=r;break;case"bio":case"about":t.about=r;break;default:t[n]=r}return JSON.stringify(t)}var qu=/^(?:([\w.+-]+)@)?([\w.-]+)$/;async function Ku(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fetch,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return await e.queuesNip05.add({id:t,func:async()=>{if(e.cacheAdapter&&e.cacheAdapter.loadNip05){const n=await e.cacheAdapter.loadNip05(t);if("missing"!==n){if(n){const t=new Qu({pubkey:n.pubkey,relayUrls:n.relays,nip46Urls:n.nip46});return t.ndk=e,t}if("no-cache"!==r.cache)return null}}const i=t.match(qu);if(!i)return null;const[o,s="_",a]=i;try{const i=await n(`https://${a}/.well-known/nostr.json?name=${s}`,r),{names:o,relays:l,nip46:u}=function(e){const t={names:{}};for(const[n,r]of Object.entries(e.names))"string"===typeof n&&"string"===typeof r&&(t.names[n.toLowerCase()]=r);if(e.relays){t.relays={};for(const[n,r]of Object.entries(e.relays))"string"===typeof n&&Array.isArray(r)&&(t.relays[n]=r.filter((e=>"string"===typeof e)))}if(e.nip46){t.nip46={};for(const[n,r]of Object.entries(e.nip46))"string"===typeof n&&Array.isArray(r)&&(t.nip46[n]=r.filter((e=>"string"===typeof e)))}return t}(await i.json()),c=o[s.toLowerCase()];let d=null;return c&&(d={pubkey:c,relays:l?.[c],nip46:u?.[c]}),e?.cacheAdapter&&e.cacheAdapter.saveNip05&&e.cacheAdapter.saveNip05(t,d),d}catch(l){return e?.cacheAdapter&&e.cacheAdapter.saveNip05&&e?.cacheAdapter.saveNip05(t,null),console.error("Failed to fetch NIP05 for",t,l),null}}})}var Wu=class e extends Iu{static kind=10019;static kinds=[10019];_p2pk;constructor(e,t){super(e,t),this.kind??=10019}static from(t){return new e(t.ndk,t)}set relays(e){this.tags=this.tags.filter((e=>"relay"!==e[0]));for(const t of e)this.tags.push(["relay",t])}get relays(){const e=[];for(const t of this.tags)"relay"===t[0]&&e.push(t[1]);return e}set mints(e){this.tags=this.tags.filter((e=>"mint"!==e[0]));for(const t of e)this.tags.push(["mint",t])}get mints(){const e=[];for(const t of this.tags)"mint"===t[0]&&e.push(t[1]);return Array.from(new Set(e))}get p2pk(){return this._p2pk||(this._p2pk=this.tagValue("pubkey")??this.pubkey),this._p2pk}set p2pk(e){this._p2pk=e,this.removeTag("pubkey"),e&&this.tags.push(["pubkey",e])}get relaySet(){return iu.fromRelayUrls(this.relays,this.ndk)}},Zu=Ds("ndk:zapper:ln");async function Gu(e,t){let n,{lud06:r,lud16:i}=e;if(i&&!i.startsWith("LNURL")){const[e,t]=i.split("@");n=`https://${t}/.well-known/lnurlp/${e}`}else if(r){const{words:e}=zt.decode(r,1e3),t=zt.fromWords(e);n=new TextDecoder("utf-8").decode(t)}if(!n)throw Zu("No zap endpoint found %o",{lud06:r,lud16:i}),new Error("No zap endpoint found");try{const e=t.httpFetch||fetch,r=await e(n);if(200!==r.status){const e=await r.text();throw new Error(`Unable to fetch zap endpoint ${n}: ${e}`)}return await r.json()}catch(o){throw new Error(`Unable to fetch zap endpoint ${n}: ${o}`)}}var Qu=class e{ndk;profile;_npub;_pubkey;relayUrls=[];nip46Urls=[];constructor(e){e.npub&&(this._npub=e.npub),e.hexpubkey&&(this._pubkey=e.hexpubkey),e.pubkey&&(this._pubkey=e.pubkey),e.relayUrls&&(this.relayUrls=e.relayUrls),e.nip46Urls&&(this.nip46Urls=e.nip46Urls)}get npub(){if(!this._npub){if(!this._pubkey)throw new Error("pubkey not set");this._npub=lo.npubEncode(this.pubkey)}return this._npub}set npub(e){this._npub=e}get hexpubkey(){return this.pubkey}set hexpubkey(e){this._pubkey=e}get pubkey(){if(!this._pubkey){if(!this._npub)throw new Error("npub not set");this._pubkey=lo.decode(this.npub).data}return this._pubkey}set pubkey(e){this._pubkey=e}async getZapInfo(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["nip61","nip57"];if(!this.ndk)throw new Error("No NDK instance found");const n=[];if(t.includes("nip61")&&n.push(10019),t.includes("nip57")&&n.push(0),0===n.length)return[];let r=await this.ndk.fetchEvents({kinds:n,authors:[this.pubkey]},{cacheUsage:"ONLY_CACHE",groupable:!1});r.size<t.length&&(r=await this.ndk.fetchEvents({kinds:n,authors:[this.pubkey]},{cacheUsage:"ONLY_RELAY"}));const i=[],o=Array.from(r).find((e=>10019===e.kind)),s=Array.from(r).find((e=>0===e.kind));if(o){const t=Wu.from(o);if(t.mints.length>0&&i.push({type:"nip61",data:{mints:t.mints,relays:t.relays,p2pk:t.p2pk}}),!e)return i}if(s){const e=Vu(s),{lud06:t,lud16:n}=e;try{const e=await Gu({lud06:t,lud16:n},this.ndk);e&&i.push({type:"nip57",data:e})}catch(a){console.error("Error getting NIP-57 zap spec",a)}}return i}async getZapConfiguration(e){if(e??=this.ndk,!e)throw new Error("No NDK instance found");return await e.queuesZapConfig.add({id:this.pubkey,func:async()=>{if(this.ndk?.cacheAdapter?.loadUsersLNURLDoc){const e=await this.ndk.cacheAdapter.loadUsersLNURLDoc(this.pubkey);if("missing"!==e){if(null===e)return;if(e)return e}}let t;try{if(await this.fetchProfile({groupable:!1}),this.profile){const{lud06:n,lud16:r}=this.profile;t=await Gu({lud06:n,lud16:r},e)}}catch{}if(this.ndk?.cacheAdapter?.saveUsersLNURLDoc&&this.ndk.cacheAdapter.saveUsersLNURLDoc(this.pubkey,t||null),t)return t}})}async getZapperPubkey(){const e=await this.getZapConfiguration();return e?.nostrPubkey}static async fromNip05(t,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!n)throw new Error("No NDK instance found");const i={};r&&(i.cache="no-cache");const o=await Ku(n,t,n?.httpFetch,i);if(o){const t=new e({pubkey:o.pubkey,relayUrls:o.relays,nip46Urls:o.nip46});return t.ndk=n,t}}async fetchProfile(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.ndk)throw new Error("NDK not set");this.profile||(this.profile={});let n=null;if(this.ndk.cacheAdapter&&this.ndk.cacheAdapter.fetchProfile&&"ONLY_RELAY"!==e?.cacheUsage){const e=await this.ndk.cacheAdapter.fetchProfile(this.pubkey);if(e)return this.profile=e,e}!e&&this.ndk.cacheAdapter&&this.ndk.cacheAdapter.locking&&(n=await this.ndk.fetchEvents({kinds:[0],authors:[this.pubkey]},{cacheUsage:"ONLY_CACHE",closeOnEose:!0,groupable:!1}),e={cacheUsage:"ONLY_RELAY",closeOnEose:!0,groupable:!0,groupableDelay:250}),n&&0!==n.size||(n=await this.ndk.fetchEvents({kinds:[0],authors:[this.pubkey]},e));const r=Array.from(n).sort(((e,t)=>e.created_at-t.created_at));if(0===r.length)return null;const i=r[0];return this.profile=Vu(i),t&&(this.profile.profileEvent=JSON.stringify(i)),this.profile&&this.ndk.cacheAdapter&&this.ndk.cacheAdapter.saveProfile&&this.ndk.cacheAdapter.saveProfile(this.pubkey,this.profile),this.profile}follows=(()=>ju.bind(this))();tagReference(){return["p",this.pubkey]}referenceTags(e){const t=[["p",this.pubkey]];return e?(t[0].push("",e),t):t}async publish(){if(!this.ndk)throw new Error("No NDK instance found");if(!this.profile)throw new Error("No profile available");this.ndk.assertSigner();const e=new Iu(this.ndk,{kind:0,content:Hu(this.profile)});await e.publish()}async follow(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(!this.ndk)throw new Error("No NDK instance found");if(this.ndk.assertSigner(),t||(t=await this.follows(void 0,void 0,n)),t.has(e))return!1;t.add(e);const r=new Iu(this.ndk,{kind:n});for(const i of t)r.tag(i);return await r.publish(),!0}async unfollow(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(!this.ndk)throw new Error("No NDK instance found");this.ndk.assertSigner(),t||(t=await this.follows(void 0,void 0,n));const r=new Set;let i=!1;for(const s of t)s.pubkey!==e.pubkey?r.add(s):i=!0;if(!i)return!1;const o=new Iu(this.ndk,{kind:n});for(const s of r)o.tag(s);return await o.publish()}async validateNip05(e){if(!this.ndk)throw new Error("No NDK instance found");const t=await Ku(this.ndk,e);return null===t?null:t.pubkey===this.pubkey}async zap(e,t,n,r){return new Promise(((i,o)=>{if(!this.ndk)return void o("No NDK instance found");let s=this.ndk.walletConfig?.onLnPay;s??=async e=>{let{pr:t}=e;i(t)};this.ndk.zap(this,e,{comment:t,tags:n,signer:r,onLnPay:s}).zap().then(i).catch(o)}))}},Yu=class e extends Iu{_encryptedTags;encryptedTagsLength;constructor(e,t){super(e,t),this.kind??=30001}static from(t){return new e(t.ndk,t)}get title(){const e=this.tagValue("title")||this.tagValue("name");return e||(3===this.kind?"Contacts":1e4===this.kind?"Mute":10001===this.kind?"Pinned Notes":10002===this.kind?"Relay Metadata":10003===this.kind?"Bookmarks":10004===this.kind?"Communities":10005===this.kind?"Public Chats":10006===this.kind?"Blocked Relays":10007===this.kind?"Search Relays":10050===this.kind?"Direct Message Receive Relays":10015===this.kind?"Interests":10030===this.kind?"Emojis":this.tagValue("d"))}set title(e){this.removeTag(["title","name"]),e&&this.tags.push(["title",e])}get name(){return this.title}set name(e){this.title=e}get description(){return this.tagValue("description")}set description(e){this.removeTag("description"),e&&this.tags.push(["description",e])}get image(){return this.tagValue("image")}set image(e){this.removeTag("image"),e&&this.tags.push(["image",e])}isEncryptedTagsCacheValid(){return!(!this._encryptedTags||this.encryptedTagsLength!==this.content.length)}async encryptedTags(){if((!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&this.isEncryptedTagsCacheValid())return this._encryptedTags;if(!this.ndk)throw new Error("NDK instance not set");if(!this.ndk.signer)throw new Error("NDK signer not set");const e=await this.ndk.signer.user();try{if(this.content.length>0)try{const t=await this.ndk.signer.decrypt(e,this.content),n=JSON.parse(t);return n&&n[0]?(this.encryptedTagsLength=this.content.length,this._encryptedTags=n):(this.encryptedTagsLength=this.content.length,this._encryptedTags=[])}catch(t){console.log(`error decrypting ${this.content}`)}}catch(t){}return[]}validateTag(e){return!0}getItems(e){return this.tags.filter((t=>t[0]===e))}get items(){return this.tags.filter((e=>!["d","L","l","title","name","description","published_at","summary","image","thumb","alt","expiration","subject","client"].includes(e[0])))}async addItem(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"bottom";if(!this.ndk)throw new Error("NDK instance not set");if(!this.ndk.signer)throw new Error("NDK signer not set");if(e instanceof Iu)t=[e.tagReference(n)];else if(e instanceof Qu)t=e.referenceTags();else if(e instanceof nu)t=e.referenceTags();else{if(!Array.isArray(e))throw new Error("Invalid object type");t=[e]}if(n&&t[0].push(n),r){const e=await this.ndk.signer.user(),n=await this.encryptedTags();"top"===i?n.unshift(...t):n.push(...t),this._encryptedTags=n,this.encryptedTagsLength=this.content.length,this.content=JSON.stringify(n),await this.encrypt(e)}else"top"===i?this.tags.unshift(...t):this.tags.push(...t);this.created_at=Math.floor(Date.now()/1e3),this.emit("change")}async removeItemByValue(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.ndk)throw new Error("NDK instance not set");if(!this.ndk.signer)throw new Error("NDK signer not set");const n=this.tags.findIndex((t=>t[1]===e));n>=0&&this.tags.splice(n,1);const r=await this.ndk.signer.user(),i=await this.encryptedTags(),o=i.findIndex((t=>t[1]===e));if(o>=0&&(i.splice(o,1),this._encryptedTags=i,this.encryptedTagsLength=this.content.length,this.content=JSON.stringify(i),await this.encrypt(r)),t)return this.publishReplaceable();this.created_at=Math.floor(Date.now()/1e3),this.emit("change")}async removeItem(e,t){if(!this.ndk)throw new Error("NDK instance not set");if(!this.ndk.signer)throw new Error("NDK signer not set");if(t){const t=await this.ndk.signer.user(),n=await this.encryptedTags();n.splice(e,1),this._encryptedTags=n,this.encryptedTagsLength=this.content.length,this.content=JSON.stringify(n),await this.encrypt(t)}else this.tags.splice(e,1);return this.created_at=Math.floor(Date.now()/1e3),this.emit("change"),this}has(e){return this.items.some((t=>t[1]===e))}filterForItems(){const e=new Set,t=new Map,n=[];for(const r of this.items)if("e"===r[0]&&r[1])e.add(r[1]);else if("a"===r[0]&&r[1]){const[e,n,i]=r[1].split(":");if(!e||!n)continue;const o=`${e}:${n}`,s=t.get(o)||[];s.push(i||""),t.set(o,s)}if(e.size>0&&n.push({ids:Array.from(e)}),t.size>0)for(const[r,i]of t.entries()){const[e,t]=r.split(":");n.push({kinds:[parseInt(e)],authors:[t],"#d":i})}return n}};var Ju="read",Xu="write",ec=class e extends Iu{constructor(e,t){super(e,t),this.kind??=10002}static from(t){return new e(t.ndk,t.rawEvent())}get readRelayUrls(){return this.tags.filter((e=>"r"===e[0]||"relay"===e[0])).filter((e=>!e[2]||e[2]&&e[2]===Ju)).map((e=>Vl(e[1]))).filter((e=>!!e))}set readRelayUrls(e){for(const t of e)this.tags.push(["r",t,Ju])}get writeRelayUrls(){return this.tags.filter((e=>"r"===e[0]||"relay"===e[0])).filter((e=>!e[2]||e[2]&&e[2]===Xu)).map((e=>Vl(e[1]))).filter((e=>!!e))}set writeRelayUrls(e){for(const t of e)this.tags.push(["r",t,Xu])}get bothRelayUrls(){return this.tags.filter((e=>"r"===e[0]||"relay"===e[0])).filter((e=>!e[2])).map((e=>e[1]))}set bothRelayUrls(e){for(const t of e)this.tags.push(["r",t])}get relays(){return this.tags.filter((e=>"r"===e[0]||"relay"===e[0])).map((e=>e[1]))}get relaySet(){if(!this.ndk)throw new Error("NDKRelayList has no NDK instance");return new iu(new Set(this.relays.map((e=>this.ndk.pool.getRelay(e)))),this.ndk)}};function tc(e,t){try{const n=JSON.parse(t.content),r=new ec(e),i=new Set,o=new Set;for(let[e,t]of Object.entries(n)){try{e=Hl(e)}catch{continue}if(t){const n=t;n.write&&o.add(e),n.read&&i.add(e)}else i.add(e),o.add(e)}return r.readRelayUrls=Array.from(i),r.writeRelayUrls=Array.from(o),r}catch{}}var nc=class e extends Iu{debug;_proofs=[];static kind=9321;static kinds=(()=>[e.kind])();constructor(e,t){super(e,t),this.kind??=9321,this.debug=e?.debug.extend("nutzap")??Ds("ndk:nutzap"),this.alt||(this.alt="This is a nutzap")}static from(e){const t=new this(e.ndk,e);try{const e=t.getMatchingTags("proof");e.length?t._proofs=e.map((e=>JSON.parse(e[1]))):t._proofs=JSON.parse(t.content)}catch{return}if(t._proofs&&t._proofs.length)return t}set comment(e){this.content=e??""}get comment(){const e=this.tagValue("comment");return e||this.content}set proofs(e){this._proofs=e,this.tags=this.tags.filter((e=>"proof"!==e[0]));for(const t of e)this.tags.push(["proof",JSON.stringify(t)]);this.removeTag("amount"),this.tags.push(["amount",this.amount.toString()])}get proofs(){return this._proofs}get p2pk(){const e=this.proofs[0];try{const t=JSON.parse(e.secret);let n={};"string"===typeof t?(n=JSON.parse(t),this.debug("stringified payload",e.secret)):"object"===typeof t&&(n=t);if("P2PK"===n[0]&&n[1]?.data){const e=n[1].data.slice(2,-1);if(e)return e}}catch(t){this.debug("error parsing p2pk pubkey",t,this.proofs[0])}}get mint(){return this.tagValue("u")}set mint(e){this.removeTag("u"),this.tag(["u",e])}get unit(){return this.tagValue("unit")??"msat"}set unit(e){this.removeTag("unit"),e&&this.tag(["unit",e])}get amount(){return 1e3*this.proofs.reduce(((e,t)=>e+t.amount),0)}sender=this.author;set target(e){this.tags=this.tags.filter((e=>"p"!==e[0])),e instanceof Iu&&this.tags.push()}set recipientPubkey(e){this.removeTag("p"),this.tag(["p",e])}get recipientPubkey(){return this.tagValue("p")}get recipient(){const e=this.recipientPubkey;return this.ndk?this.ndk.getUser({pubkey:e}):new Qu({pubkey:e})}get isValid(){let e=0,t=0;for(const n of this.tags)"p"===n[0]&&e++,"u"===n[0]&&t++;return 1===e&&1===t&&this.proofs.length>0}};async function rc(e){return await this.sendReq("pay_invoice",{invoice:e})}var ic=class e{_user;_privateKey;constructor(e){if(e){if("string"===typeof e)if(e.startsWith("nsec1")){const{type:t,data:n}=lo.decode(e);"nsec"===t&&(this._privateKey=n)}else{if(64!==e.length)throw new Error("Invalid private key provided.");this._privateKey=Ge(e)}else this._privateKey=e;this._privateKey&&(this._user=new Qu({pubkey:Cr(this._privateKey)}))}}get privateKey(){if(this._privateKey)return Ze(this._privateKey)}static generate(){const t=xr();return new e(t)}async blockUntilReady(){if(!this._user)throw new Error("NDKUser not initialized");return this._user}async user(){return await this.blockUntilReady(),this._user}async sign(e){if(!this._privateKey)throw Error("Attempted to sign without a private key");return Sr(e,this._privateKey).sig}getConversationKey(e){if(!this._privateKey)throw Error("Attempted to get conversation key without a private key");const t=e.pubkey;return ls.getConversationKey(this._privateKey,t)}async nip44Encrypt(e,t){const n=this.getConversationKey(e);return await ls.encrypt(t,n)}async nip44Decrypt(e,t){const n=this.getConversationKey(e);return await ls.decrypt(t,n)}async encrypt(e,t){return"nip44"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:fu)?this.nip44Encrypt(e,t):this.nip04Encrypt(e,t)}async decrypt(e,t){return"nip44"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:fu)?this.nip44Decrypt(e,t):this.nip04Decrypt(e,t)}async nip04Encrypt(e,t){if(!this._privateKey)throw Error("Attempted to encrypt without a private key");const n=e.pubkey;return await xo.encrypt(this._privateKey,n,t)}async nip04Decrypt(e,t){if(!this._privateKey)throw Error("Attempted to decrypt without a private key");const n=e.pubkey;return await xo.decrypt(this._privateKey,n,t)}};async function oc(e,t){const n=new Iu(this.ndk,{kind:23194,tags:[["p",this.walletService.pubkey]],content:JSON.stringify({method:e,params:t})});return this.debug("Sending request",n.content),await n.encrypt(this.walletService,this.signer),await n.sign(this.signer),this.debug("Request encrypted and signed"),new Promise((async(t,r)=>{try{const i=n.tagId();if(!i)throw new Error("Failed to get e-tag");const o=e=>{this.off(i,o),this.off("event",o),this.debug("Received response",e);try{const n=JSON.parse(e);n.error&&r(n),t(n)}catch(n){this.debug("Failed to parse response",n),r({result_type:"error",error:{code:"failed_to_parse_response",message:n.message}})}},s=this.ndk.subscribe({kinds:[23195],"#e":[i],limit:1},{groupable:!1,subId:`nwc-${e}`},this.relaySet);s.on("event",(async e=>{await e.decrypt(e.author,this.signer),o(e.content),s.stop()})),this.once(i,o),this.once("event",o),this.debug("Sending request to relay",n.rawEvent()),await n.publish(this.relaySet)}catch(i){this.debug("Failed to send request",i,i.relayErrors),r({result_type:"error",error:{code:"failed_to_send_request",message:i.message}})}}))}async function sc(){return await this.sendReq("get_balance",{})}async function ac(){return await this.sendReq("get_info",{})}var lc=class e extends zs.EventEmitter{ndk;debug;walletService;relaySet;signer;active=!1;constructor(e){let{ndk:t,pubkey:n,relayUrls:r,secret:i}=e;super(),this.ndk=t,this.walletService=t.getUser({pubkey:n}),this.relaySet=new iu(new Set(r.map((e=>t.pool.getRelay(e)))),t),this.signer=new ic(i instanceof Uint8Array?i:Ge(i)),this.debug=t.debug.extend("nwc"),this.debug(`Starting with wallet service ${this.walletService.npub}`)}static async fromURI(t,n){const r=new URL(n);if("nostr+walletconnect:"!==r.protocol)throw new Error("Invalid protocol");return new e({ndk:t,pubkey:r.host??r.pathname,relayUrls:r.searchParams.getAll("relay")??[""],secret:r.searchParams.get("secret")??""})}async blockUntilReady(e){const t=await this.signer.user(),n=new Promise(((t,n)=>{setTimeout((()=>{n(new Error("Timeout"))}),e)})),r=[new Promise((e=>{const n=this.ndk.subscribe({kinds:[23195],"#p":[t.pubkey],limit:1},{groupable:!1,subId:"nwc"},this.relaySet);n.on("event",(async e=>{this.debug("received response",e.rawEvent());const t=e.tagValue("e");if(t){this.debug("received an event",t);try{await e.decrypt(e.author,this.signer),this.emit(t,e.content)}catch(n){return void this.debug("Failed to decrypt event",n)}}else this.debug("Received an event without an e-tag")})),n.on("eose",(()=>{this.debug("Subscription ready"),this.active=!0,e()})),n.on("close",(()=>{this.debug("Subscription closed"),this.active=!1}))}))];return e&&r.push(n),await Promise.race(r)}async sendReq(e,t){return await oc.call(this,e,t)}async payInvoice(e){return await rc.call(this,e)}async getInfo(){return await ac.call(this)}getBalance=(()=>sc.bind(this))()};var uc=class extends zs.EventEmitter{ndk;signer;relaySet;debug;constructor(e,t,n,r){super(),this.ndk=e,this.signer=t,this.relaySet=r?iu.fromRelayUrls(r,e):void 0,this.debug=n.extend("rpc")}subscribe(e){const t=this.ndk.subscribe(e,{closeOnEose:!1,groupable:!1,cacheUsage:"ONLY_RELAY"},this.relaySet,!1);return this.debug("starting subscription"),t.on("event",(async e=>{try{const t=await this.parseEvent(e);t.method?this.emit("request",t):this.emit(`response-${t.id}`,t)}catch(t){this.debug("error parsing event",t,e.rawEvent())}})),new Promise((e=>{t.on("eose",(()=>{this.debug("eosed"),e(t)})),t.start()}))}async parseEvent(e){const t=this.ndk.getUser({pubkey:e.pubkey});t.ndk=this.ndk;const n=await this.signer.decrypt(t,e.content),r=JSON.parse(n),{id:i,method:o,params:s,result:a,error:l}=r;return o?{id:i,pubkey:e.pubkey,method:o,params:s,event:e}:{id:i,result:a,error:l,event:e}}async sendResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:24133,i=arguments.length>4?arguments[4]:void 0;const o={id:e,result:n};i&&(o.error=i);const s=await this.signer.user(),a=this.ndk.getUser({pubkey:t}),l=new Iu(this.ndk,{kind:r,content:JSON.stringify(o),tags:[["p",t]],pubkey:s.pubkey});l.content=await this.signer.encrypt(a,l.content),await l.sign(this.signer),await l.publish(this.relaySet)}async sendRequest(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:24133,i=arguments.length>4?arguments[4]:void 0;const o=Math.random().toString(36).substring(7),s=await this.signer.user(),a=this.ndk.getUser({pubkey:e}),l={id:o,method:t,params:n},u=new Promise((()=>{const e=t=>{"auth_url"===t.result?(this.once(`response-${o}`,e),this.emit("authUrl",t.error)):i&&i(t)};this.once(`response-${o}`,e)})),c=new Iu(this.ndk,{kind:r,content:JSON.stringify(l),tags:[["p",e]],pubkey:s.pubkey});return c.content=await this.signer.encrypt(a,c.content),await c.sign(this.signer),await c.publish(this.relaySet),u}};zs.EventEmitter;async function cc(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=t.outboxPool||t.pool,i=new Set;for(const c of r.relays.values())i.add(c);const o=new Map,s=new Map,a=new iu(i,t);if(t.cacheAdapter?.locking&&!n){const n=await t.fetchEvents({kinds:[3,10002],authors:e},{cacheUsage:"ONLY_CACHE"});for(const e of n)10002===e.kind&&o.set(e.pubkey,ec.from(e));for(const e of n)if(3===e.kind){if(o.has(e.pubkey))continue;const n=tc(t,e);n&&s.set(e.pubkey,n)}e=e.filter((e=>!o.has(e)&&!s.has(e)))}if(0===e.length)return o;const l=new Map,u=new Map;return new Promise((async n=>{const i=t.subscribe({kinds:[3,10002],authors:e},{closeOnEose:!0,pool:r,groupable:!0,cacheUsage:"ONLY_RELAY",subId:"ndk-relay-list-fetch"},a,!1);i.on("event",(e=>{if(10002===e.kind){const t=l.get(e.pubkey);if(t&&t.created_at>e.created_at)return;l.set(e.pubkey,e)}else if(3===e.kind){const t=u.get(e.pubkey);if(t&&t.created_at>e.created_at)return;u.set(e.pubkey,e)}})),i.on("eose",(()=>{for(const e of l.values())o.set(e.pubkey,ec.from(e));for(const n of e){if(o.has(n))continue;const e=u.get(n);if(!e)continue;const r=tc(t,e);r&&o.set(n,r)}n(o)})),i.start()}))}var dc=class{type;relayUrlScores;readRelays;writeRelays;constructor(e){this.type=e,this.relayUrlScores=new Map,this.readRelays=new Set,this.writeRelays=new Set}},hc=class extends zs.EventEmitter{data;ndk;debug;constructor(e){super(),this.ndk=e,this.debug=e.debug.extend("outbox-tracker"),this.data=new Dl.LRUCache({maxSize:1e5,entryExpirationTimeInMS:12e4})}async trackUsers(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=[];for(let r=0;r<e.length;r+=400){const i=e.slice(r,r+400).map((e=>fc(e))).filter((e=>!this.data.has(e)));if(0!==i.length){for(const e of i)this.data.set(e,new dc("user"));n.push(new Promise((e=>{cc(i,this.ndk,t).then((e=>{for(const[t,n]of e){let e=this.data.get(t);if(e??=new dc("user"),n){e.readRelays=new Set(ql(n.readRelayUrls)),e.writeRelays=new Set(ql(n.writeRelayUrls));for(const t of e.readRelays)this.ndk.pool.blacklistRelayUrls.has(t)&&e.readRelays.delete(t);for(const t of e.writeRelays)this.ndk.pool.blacklistRelayUrls.has(t)&&e.writeRelays.delete(t);this.data.set(t,e)}}})).finally(e)})))}}return Promise.all(n)}track(e,t){const n=fc(e);t??=function(e){return e instanceof Qu?"user":"kind"}(e);let r=this.data.get(n);return r||(r=new dc(t),e instanceof Qu&&this.trackUsers([e])),r}};function fc(e){return e instanceof Qu?e.pubkey:e}var pc=class extends zs.EventEmitter{_relays=(()=>new Map)();autoConnectRelays=(()=>new Set)();blacklistRelayUrls;debug;temporaryRelayTimers=(()=>new Map)();flappingRelays=(()=>new Set)();backoffTimes=(()=>new Map)();ndk;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;super(),this.debug=r??n.debug.extend("pool"),this.ndk=n,this.relayUrls=e,this.blacklistRelayUrls=new Set(t)}get relays(){return this._relays}set relayUrls(e){this._relays.clear();for(const t of e){const e=new nu(t,void 0,this.ndk);this.addRelay(e,!1)}}set name(e){this.debug=this.debug.extend(e)}useTemporaryRelay(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4,n=arguments.length>2?arguments[2]:void 0;const r=this.relays.has(e.url);r||(this.addRelay(e),this.debug("Adding temporary relay %s for filters %o",e.url,n));const i=this.temporaryRelayTimers.get(e.url);if(i&&clearTimeout(i),!r||i){const n=setTimeout((()=>{this.ndk.explicitRelayUrls?.includes(e.url)||this.removeRelay(e.url)}),t);this.temporaryRelayTimers.set(e.url,n)}}addRelay(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.relays.has(e.url),r=this.blacklistRelayUrls?.has(e.url),i=e.url.includes("/npub1");let o=!0;const s=e.url;if(n)return;if(r)return void this.debug(`Refusing to add relay ${s}: blacklisted`);if(i)return void this.debug(`Refusing to add relay ${s}: is a filter relay`);if(this.ndk.cacheAdapter?.getRelayStatus){const n=this.ndk.cacheAdapter.getRelayStatus(s);if(n&&n.dontConnectBefore){if(n.dontConnectBefore>Date.now()){const r=n.dontConnectBefore-Date.now();return this.debug(`Refusing to add relay ${s}: delayed connect for ${r}ms`),void setTimeout((()=>{this.addRelay(e,t)}),r)}o=!1}}const a=t=>this.emit("notice",e,t),l=()=>this.handleRelayConnect(s),u=()=>this.handleRelayReady(e),c=()=>this.emit("relay:disconnect",e),d=()=>this.handleFlapping(e),h=t=>this.emit("relay:auth",e,t),f=()=>this.emit("relay:authed",e);e.off("notice",a),e.off("connect",l),e.off("ready",u),e.off("disconnect",c),e.off("flapping",d),e.off("auth",h),e.off("authed",f),e.on("notice",a),e.on("connect",l),e.on("ready",u),e.on("disconnect",c),e.on("flapping",d),e.on("auth",h),e.on("authed",f),e.on("delayed-connect",(t=>{this.ndk.cacheAdapter?.updateRelayStatus&&this.ndk.cacheAdapter.updateRelayStatus(e.url,{dontConnectBefore:Date.now()+t})})),this.relays.set(s,e),t&&this.autoConnectRelays.add(s),t&&(this.emit("relay:connecting",e),e.connect(void 0,o).catch((e=>{this.debug(`Failed to connect to relay ${s}`,e)})))}removeRelay(e){const t=this.relays.get(e);if(t)return t.disconnect(),this.relays.delete(e),this.autoConnectRelays.delete(e),this.emit("relay:disconnect",t),!0;const n=this.temporaryRelayTimers.get(e);return n&&(clearTimeout(n),this.temporaryRelayTimers.delete(e)),!1}isRelayConnected(e){const t=Hl(e),n=this.relays.get(t);return!!n&&5===n.status}getRelay(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=this.relays.get(Hl(e));return i||(i=new nu(e,void 0,this.ndk),n?this.useTemporaryRelay(i,3e4,r):this.addRelay(i,t)),i}handleRelayConnect(e){this.emit("relay:connect",this.relays.get(e)),this.stats().connected===this.relays.size&&this.emit("connect")}handleRelayReady(e){this.emit("relay:ready",e)}async connect(e){const t=[];this.debug(`Connecting to ${this.relays.size} relays${e?`, timeout ${e}...`:""}`);const n=new Set(this.autoConnectRelays.keys());this.ndk.explicitRelayUrls?.forEach((e=>{const t=Hl(e);n.add(t)}));for(const r of n){const n=this.relays.get(r);if(!n)continue;const i=new Promise(((t,r)=>(this.emit("relay:connecting",n),n.connect(e).then(t).catch(r))));if(e){const r=new Promise(((t,n)=>{setTimeout((()=>n(`Timed out after ${e}ms`)),e)}));t.push(Promise.race([i,r]).catch((e=>{this.debug(`Failed to connect to relay ${n.url}: ${e??"No reason specified"}`)})))}else t.push(i)}e&&setTimeout((()=>{const e=this.stats().connected===this.relays.size,t=this.stats().connected>0;!e&&t&&this.emit("connect")}),e),await Promise.all(t)}checkOnFlappingRelays(){if(this.flappingRelays.size/this.relays.size>=.8)for(const e of this.flappingRelays)this.backoffTimes.set(e,0)}handleFlapping(e){this.debug(`Relay ${e.url} is flapping`);let t=this.backoffTimes.get(e.url)||5e3;t*=2,this.backoffTimes.set(e.url,t),this.debug(`Backoff time for ${e.url} is ${t}ms`),setTimeout((()=>{this.debug(`Attempting to reconnect to ${e.url}`),this.emit("relay:connecting",e),e.connect(),this.checkOnFlappingRelays()}),t),e.disconnect(),this.emit("flapping",e)}size(){return this.relays.size}stats(){const e={total:0,connected:0,disconnected:0,connecting:0};for(const t of this.relays.values())e.total++,5===t.status?e.connected++:1===t.status?e.disconnected++:4===t.status&&e.connecting++;return e}connectedRelays(){return Array.from(this.relays.values()).filter((e=>5===e.status))}permanentAndConnectedRelays(){return Array.from(this.relays.values()).filter((e=>e.status>=5&&!this.temporaryRelayTimers.has(e.url)))}urls(){return Array.from(this.relays.keys())}};function gc(e){if(!e||""===e)return!1;try{return new URL(e),!0}catch(t){return!1}}async function yc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{type:"timeout"};const i=this.debug.extend("fetch-event-from-tag"),[o,s,a]=e;i("fetching event from tag",e,n={},r);const l=$l(this,t.pubkey);if(l&&l.size>0){i("fetching event from author relays %o",Array.from(l));const e=iu.fromRelayUrls(Array.from(l),this),t=await this.fetchEvent(s,n,e);if(t)return t}else i("no author relays found for %s",t.pubkey,t);const u=lu(this,[{ids:[s]}],this.pool);i("fetching event without relay hint",u);const c=await this.fetchEvent(s,n);if(c)return c;if(a&&""!==a){const e=await this.fetchEvent(s,n,this.pool.getRelay(a,!0,!0,[{ids:[s]}]));if(e)return e}let d;const h=gc(a)?this.pool.getRelay(a,!1,!0,[{ids:[s]}]):void 0,f=new Promise((e=>{this.fetchEvent(s,n,h).then(e)}));if(!gc(a)||"none"===r.type)return f;const p=new Promise((async e=>{const t=r.relaySet,o=r.timeout??1500,a=new Promise((e=>setTimeout(e,o)));if("timeout"===r.type&&await a,d)e(d);else{i("fallback fetch triggered");e(await this.fetchEvent(s,n,t))}}));switch(r.type){case"timeout":return Promise.race([f,p]);case"eose":return d=await f,d||p}}var mc=class{ndk;spec;url;nip98Required=!1;constructor(e,t){this.url=`https://${e}/.well-known/nostr/nip96.json`,this.ndk=t}async prepareUpload(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST";if(this.validateHttpFetch(),this.spec||await this.fetchSpec(),!this.spec)throw new Error("Failed to fetch NIP96 spec");let n={};if(this.nip98Required){n={Authorization:await this.generateNip98Header(this.spec.api_url,t,e)}}return{url:this.spec.api_url,headers:n}}async xhrUpload(e,t){const n="POST",{url:r,headers:i}=await this.prepareUpload(t,n);e.open(n,r,!0),i.Authorization&&e.setRequestHeader("Authorization",i.Authorization);const o=new FormData;return o.append("file",t),new Promise(((t,n)=>{e.onload=function(){e.status>=200&&e.status<300?t(JSON.parse(e.responseText)):n(new Error(e.statusText))},e.onerror=function(){n(new Error("Network Error"))},e.send(o)}))}async upload(e){const t="POST",{url:n,headers:r}=await this.prepareUpload(e,t),i=new FormData;i.append("file",e);const o=await this.ndk.httpFetch(this.spec.api_url,{method:t,headers:r,body:i});if(200!==o.status)throw new Error(`Failed to upload file to ${n}`);const s=await o.json();if("success"!==s.status)throw new Error(s.message);return s}validateHttpFetch(){if(!this.ndk)throw new Error("NDK is required to fetch NIP96 spec");if(!this.ndk.httpFetch)throw new Error("NDK must have an httpFetch method to fetch NIP96 spec")}async fetchSpec(){this.validateHttpFetch();const e=await this.ndk.httpFetch(this.url);if(200!==e.status)throw new Error(`Failed to fetch NIP96 spec from ${this.url}`);const t=await e.json();if(!t)throw new Error(`Failed to parse NIP96 spec from ${this.url}`);this.spec=t,this.nip98Required=this.spec.plans.free.is_nip98_required}async generateNip98Header(e,t,n){const r=new Iu(this.ndk,{kind:27235,tags:[["u",e],["method",t]]});if(["POST","PUT","PATCH"].includes(t)){const e=await this.calculateSha256(n);r.tags.push(["payload",e])}await r.sign();return`Nostr ${btoa(JSON.stringify(r.rawEvent()))}`}async calculateSha256(e){const t=await e.arrayBuffer(),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}},wc=class{queue=[];maxConcurrency;processing=(()=>new Set)();promises=(()=>new Map)();constructor(e,t){this.maxConcurrency=t}add(e){if(this.promises.has(e.id))return this.promises.get(e.id);const t=new Promise(((t,n)=>{this.queue.push({...e,func:()=>e.func().then((e=>(t(e),e)),(e=>{throw n(e),e}))}),this.process()}));return this.promises.set(e.id,t),t.finally((()=>{this.promises.delete(e.id),this.processing.delete(e.id),this.process()})),t}process(){if(this.processing.size>=this.maxConcurrency||0===this.queue.length)return;const e=this.queue.shift();e&&!this.processing.has(e.id)&&(this.processing.add(e.id),e.func())}clear(){this.queue=[]}clearProcessing(){this.processing.clear()}clearAll(){this.clear(),this.clearProcessing()}length(){return this.queue.length}},bc=class{subscriptions;seenEvents=(()=>new Map)();debug;constructor(e){this.subscriptions=new Map,this.debug=e.extend("sub-manager")}add(e){this.subscriptions.set(e.internalId,e),e.on("close",(()=>{this.subscriptions.delete(e.internalId)}))}seenEvent(e,t){const n=this.seenEvents.get(e)||[];n.push(t),this.seenEvents.set(e,n)}},vc=Ds("ndk:active-user");async function kc(e){if(!this.autoConnectUserRelays)return;const t=await async function(e,t){return(await cc([e],t)).get(e)}(e.pubkey,this);if(t){for(const e of t.relays){let t=this.pool.relays.get(e);t||(t=new nu(e,this.relayAuthDefaultPolicy,this),this.pool.addRelay(t))}return t}}async function Ec(e){const t=this.outboxPool||this.pool;t.connectedRelays.length>0?Lc.call(this,e):t.once("connect",(()=>{Lc.call(this,e)}))}async function Lc(e){const t=await kc.call(this,e),n=[{kinds:[10006],authors:[e.pubkey]}];this.autoFetchUserMutelist&&n[0].kinds.push(1e4);const r=t?t.relaySet:void 0,i=this.subscribe(n,{subId:"active-user-settings",closeOnEose:!0},r,!1),o=new Map;i.on("event",(e=>{const t=o.get(e.kind);t&&t.created_at>=e.created_at||o.set(e.kind,e)})),i.on("eose",(()=>{for(const e of o.values())xc.call(this,e)})),i.start()}async function xc(e){10006===e.kind?Cc.call(this,e):1e4===e.kind&&Sc.call(this,e)}function Cc(e){const t=Yu.from(e);for(const n of t.items)this.pool.blacklistRelayUrls.add(n[0]);vc("Added %d relays to relay blacklist",t.items.length)}function Sc(e){const t=Yu.from(e);for(const n of t.items)this.mutedIds.set(n[1],n[0]);vc("Added %d users to mute list",t.items.length)}async function _c(e,t,n,r,i,o,s,a,l){const u=n.callback,c=Es.makeZapRequest({profile:r,event:null,amount:i,comment:s||"",relays:o.slice(0,4)});if(e instanceof Iu){const t=e.referenceTags().filter((e=>"p"!==e[0]));c.tags.push(...t)}c.tags.push(["lnurl",u]);const d=new Iu(t,c);return a&&(d.tags=d.tags.concat(a)),d.tags=d.tags.filter((e=>"p"!==e[0])),d.tags.push(["p",r]),await d.sign(l),d}var Ac=Ds("ndk:zapper"),Rc=class extends zs.EventEmitter{target;ndk;comment;amount;unit;tags;signer;zapMethod;onLnPay;onCashuPay;onComplete;maxRelays=3;constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"msat",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;if(super(),this.target=e,this.ndk=i||e.ndk,!this.ndk)throw new Error("No NDK instance provided");this.amount=t,this.comment=r,this.unit=n,this.tags=o,this.signer=s}async zap(){const e=this.getZapSplits(),t=new Map;return await Promise.all(e.map((async e=>{let n;try{n=await this.zapSplit(e)}catch(r){n=r}this.emit("split:complete",e,n),t.set(e,n)}))),this.emit("complete",t),this.onComplete&&this.onComplete(t),t}async zapSplit(e){let t,n=await this.getZapMethods(this.ndk,e.pubkey);if(0===n.length)throw new Error("No zap method available for recipient");n=n.sort(((e,t)=>"nip61"===e.type?-1:"nip61"===t.type?1:0));const r=await this.relays(e.pubkey);for(const o of n){false,Ac("Zapping to %s with %d %s using %s",e.pubkey,e.amount,this.unit,o.type);try{switch(o.type){case"nip61":{const n=o.data;let i;if(i=await this.onCashuPay({target:this.target,comment:this.comment,tags:this.tags,recipientPubkey:e.pubkey,amount:e.amount,unit:this.unit,...n}),Ac("NIP-61 Zap result: %o",i),i instanceof Error)t=i;else if(i){const{proofs:t,mint:n}=i;if(!t||!n)throw new Error("Invalid zap confirmation: missing proofs or mint: "+i);const o=iu.fromRelayUrls(r,this.ndk),s=new nc(this.ndk);return s.tags=[...s.tags,...this.tags||[]],s.proofs=t,s.mint=n,s.comment=this.comment,s.unit=this.unit,s.recipientPubkey=e.pubkey,await s.sign(this.signer),await s.publish(o),s}break}case"nip57":{const n=o.data,i=await _c(this.target,this.ndk,n,e.pubkey,e.amount,r,this.comment,this.tags,this.signer);if(!i)throw Ac("Unable to generate zap request"),new Error("Unable to generate zap request");const s=await this.getLnInvoice(i,e.amount,n);if(!s)throw Ac("Unable to get payment request"),new Error("Unable to get payment request");t=await this.onLnPay({target:this.target,comment:this.comment,recipientPubkey:e.pubkey,amount:e.amount,unit:this.unit,pr:s});break}}}catch(i){t=i instanceof Error?i:new Error(i),Ac("Error zapping to %s with %d %s using %s: %o",e.pubkey,e.amount,this.unit,o.type,i)}}if(t instanceof Error)throw t;return t}async getLnInvoice(e,t,n){const r=n.callback,i=JSON.stringify(e.rawEvent());Ac(`Fetching invoice from ${r}?`+new URLSearchParams({amount:t.toString(),nostr:i}));const o=new URL(r);o.searchParams.append("amount",t.toString()),o.searchParams.append("nostr",i),Ac(`Fetching invoice from ${o.toString()}`);const s=await fetch(o.toString());if(Ac(`Got response from zap endpoint: ${r}`,{status:s.status}),200!==s.status){Ac(`Received non-200 status from zap endpoint: ${r}`,{status:s.status,amount:t,nostr:i});const e=await s.text();throw new Error(`Unable to fetch zap endpoint ${r}: ${e}`)}return(await s.json()).pr}getZapSplits(){if(this.target instanceof Qu)return[{pubkey:this.target.pubkey,amount:this.amount}];const e=this.target.getMatchingTags("zap");if(0===e.length)return[{pubkey:this.target.pubkey,amount:this.amount}];const t=[],n=e.reduce(((e,t)=>e+parseInt(t[2])),0);for(const r of e){const e=r[1],i=Math.floor(parseInt(r[2])/n*this.amount);t.push({pubkey:e,amount:i})}return t}async getZapMethods(e,t){const n=[];n.push("nip61"),n.push("nip57");const r=e.getUser({pubkey:t}),i=await r.getZapInfo(!1,n);return Ac("Zap info for %s: %o",r.npub,i),i}async relays(e){let t=[];if(this.ndk?.activeUser){const n=await cc([this.ndk.activeUser.pubkey,e],this.ndk),r=new Map;for(const e of n.values())for(const t of e.readRelayUrls){const e=r.get(t)||0;r.set(t,e+1)}t=Array.from(r.entries()).sort(((e,t)=>t[1]-e[1])).map((e=>{let[t]=e;return t})).slice(0,this.maxRelays)}return this.ndk?.pool?.permanentAndConnectedRelays().length&&(t=this.ndk.pool.permanentAndConnectedRelays().map((e=>e.url))),t.length||(t=[]),t}},Nc=["wss://purplepag.es/","wss://nos.lol/"],Tc=["wss://brb.io/","wss://nostr.mutinywallet.com/"],Pc=class extends zs.EventEmitter{_explicitRelayUrls;pool;outboxPool;_signer;_activeUser;cacheAdapter;debug;devWriteRelaySet;outboxTracker;mutedIds;clientName;clientNip89;queuesZapConfig;queuesNip05;asyncSigVerification=!1;initialValidationRatio=1;lowestValidationRatio=1;validationRatioFn;subManager;publishingFailureHandled=!1;relayAuthDefaultPolicy;httpFetch;autoConnectUserRelays=!0;autoFetchUserMutelist=!0;walletConfig;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.debug=e.debug||Ds("ndk"),this._explicitRelayUrls=e.explicitRelayUrls||[],this.subManager=new bc(this.debug),this.pool=new pc(e.explicitRelayUrls||[],e.blacklistRelayUrls||Tc,this),this.pool.name="main",this.pool.on("relay:auth",(async(e,t)=>{this.relayAuthDefaultPolicy&&await this.relayAuthDefaultPolicy(e,t)})),this.autoConnectUserRelays=e.autoConnectUserRelays??!0,this.autoFetchUserMutelist=e.autoFetchUserMutelist??!0,this.clientName=e.clientName,this.clientNip89=e.clientNip89,this.relayAuthDefaultPolicy=e.relayAuthDefaultPolicy,e.enableOutboxModel&&(this.outboxPool=new pc(e.outboxRelayUrls||Nc,e.blacklistRelayUrls||Tc,this,this.debug.extend("outbox-pool")),this.outboxPool.name="outbox",this.outboxTracker=new hc(this)),this.signer=e.signer,this.cacheAdapter=e.cacheAdapter,this.mutedIds=e.mutedIds||new Map,e.devWriteRelayUrls&&(this.devWriteRelaySet=iu.fromRelayUrls(e.devWriteRelayUrls,this)),this.queuesZapConfig=new wc("zaps",3),this.queuesNip05=new wc("nip05",10),this.signatureVerificationWorker=e.signatureVerificationWorker,this.initialValidationRatio=e.initialValidationRatio||1,this.lowestValidationRatio=e.lowestValidationRatio||1;try{this.httpFetch=fetch}catch{}}set explicitRelayUrls(e){this._explicitRelayUrls=e,this.pool.relayUrls=e}get explicitRelayUrls(){return this._explicitRelayUrls||[]}set signatureVerificationWorker(e){this.asyncSigVerification=!!e,e&&((bu=e).onmessage=e=>{const[t,n]=e.data,r=_u[t];if(r){delete _u[t];for(const e of r.resolves)e(n)}else console.error("No record found for event",t)})}addExplicitRelay(e,t){let n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n="string"===typeof e?new nu(e,t,this):e,this.pool.addRelay(n,r),this.explicitRelayUrls.push(n.url),n}toJSON(){return{relayCount:this.pool.relays.size}.toString()}get activeUser(){return this._activeUser}set activeUser(e){const t=this._activeUser?.pubkey!==e?.pubkey;this._activeUser=e,e&&t?Ec.call(this,e):e||(this.mutedIds=new Map)}get signer(){return this._signer}set signer(e){this._signer=e,e&&this.emit("signer:ready",e),e?.user().then((e=>{e.ndk=this,this.activeUser=e}))}async connect(e){if(this._signer&&this.autoConnectUserRelays&&(this.debug("Attempting to connect to user relays specified by signer %o",await(this._signer.relays?.(this))),this._signer.relays)){(await this._signer.relays(this)).forEach((e=>this.pool.addRelay(e)))}const t=[this.pool.connect(e)];return this.outboxPool&&t.push(this.outboxPool.connect(e)),this.debug("Connecting to relays %o",{timeoutMs:e}),Promise.allSettled(t).then((()=>{}))}getUser(e){const t=new Qu(e);return t.ndk=this,t}async getUserFromNip05(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Qu.fromNip05(e,this,t)}subscribe(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=new $u(this,e,t,n);if(this.subManager.add(i),n)for(const o of n.relays)this.pool.useTemporaryRelay(o,void 0,i.filters);if(this.outboxPool&&i.hasAuthorsFilter()){const e=i.filters.filter((e=>e.authors&&e.authors?.length>0)).map((e=>e.authors)).flat();this.outboxTracker?.trackUsers(e)}return r&&setTimeout((()=>i.start()),0),i}async publish(e,t,n){return this.debug("Deprecated: Use `event.publish()` instead"),e.publish(t,n)}fetchEventFromTag=(()=>yc.bind(this))();async fetchEvent(e,t,n){let r,i;if(n instanceof nu?i=new iu(new Set([n]),this):n instanceof iu&&(i=n),!n&&"string"===typeof e&&null===e.match(Bu)){const t=zu(e,this);t.length>0&&(i=new iu(new Set(t),this),i=function(e,t){const n=t.connectedRelays();if(!Array.from(e.relays).some((e=>n.map((e=>e.url)).includes(e.url))))for(const r of n)e.addRelay(r);if(0===n.length)for(const r of t.relays.values())e.addRelay(r);return e}(i,this.pool))}if(r="string"===typeof e?[Ou(e)]:Array.isArray(e)?e:[e],0===r.length)throw new Error(`Invalid filter: ${JSON.stringify(e)}`);return new Promise((e=>{let n=null;const o=this.subscribe(r,{...t||{},closeOnEose:!0},i,!1),s=setTimeout((()=>{o.stop(),e(n)}),1e4);o.on("event",(t=>{t.ndk=this,t.isReplaceable()?(!n||n.created_at<t.created_at)&&(n=t):(clearTimeout(s),e(t))})),o.on("eose",(()=>{clearTimeout(s),e(n)})),o.start()}))}async fetchEvents(e,t,n){return new Promise((r=>{const i=new Map,o=this.subscribe(e,{...t||{},closeOnEose:!0},n,!1);o.on("event",(e=>{e instanceof Iu||(e=new Iu(void 0,e));const t=e.deduplicationKey(),n=i.get(t);var r,o;n&&(o=e,e=(r=n).created_at>o.created_at?r:o),e.ndk=this,i.set(t,e)})),o.on("eose",(()=>{r(new Set(i.values()))})),o.start()}))}assertSigner(){if(!this.signer)throw this.emit("signer:required"),new Error("Signer required")}getNip96(e){return new mc(e,this)}async nwc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;const n=await lc.fromURI(this,e);return!1!==t&&await n.blockUntilReady(t),n}zap(e,t,n){let{comment:r,unit:i,signer:o,tags:s,onLnPay:a,onCashuPay:l,onComplete:u}=n;o||this.assertSigner();const c=new Rc(e,t,i,r,this,s,o);return!1!==a&&(c.onLnPay=a??this.walletConfig?.onLnPay),!1!==l&&(c.onCashuPay=l??this.walletConfig?.onCashuPay),c.onComplete=u??this.walletConfig?.onPaymentComplete,a&&c.zap(),c}};const Mc=e=>{let t;const n=new Set,r=(e,r)=>{const i="function"===typeof e?e(t):e;if(!Object.is(i,t)){const e=t;t=(null!=r?r:"object"!==typeof i||null===i)?i:Object.assign({},t,i),n.forEach((n=>n(t,e)))}},i=()=>t,o={setState:r,getState:i,getInitialState:()=>s,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},s=t=e(r,i,o);return o},Ic=e=>e?Mc(e):Mc;var Uc=__webpack_require__(443);const{useDebugValue:Oc}=r,{useSyncExternalStoreWithSelector:Bc}=Uc;let Fc=!1;const zc=e=>e;const Dc=e=>{"function"!==typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t="function"===typeof e?Ic(e):e,n=(e,n)=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zc,n=arguments.length>2?arguments[2]:void 0;n&&!Fc&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Fc=!0);const r=Bc(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Oc(r),r}(t,e,n);return Object.assign(n,t),n},$c=e=>e?Dc(e):Dc;const jc=$c()((e=>({ndk:new Pc({explicitRelayUrls:["wss://nos.lol"]}),setNdk:t=>e({ndk:t})})));const Vc=()=>({ndk:jc((e=>e.ndk)),setNdk:jc((e=>e.setNdk))});var Hc;!function(e){e.Extension="extension",e.Remote="remote",e.SecretKey="secret-key"}(Hc||(Hc={}));const qc=e=>{const{ndk:t,setNdk:n}=Vc();(0,r.useEffect)((()=>{t.connect()}),[t]),(0,r.useEffect)((()=>{e&&n(e)}),[e])},Kc=e=>{let{filters:t,opts:n,enabled:i=!0,relays:o,fetchProfiles:s=!1,customNdk:a}=e;const l=(0,r.useRef)({subscription:void 0,eose:!1,events:[]}),u=(0,r.useRef)($c()((()=>({...l.current})))),{ndk:c}=Vc(),d=a||c,h=u.current((e=>e.subscription)),f=u.current((e=>e.eose)),p=u.current((e=>e.events)),g=(0,r.useMemo)((()=>p?p.sort(((e,t)=>t.created_at-e.created_at)):[]),[p]),y=(0,r.useCallback)((()=>{u.current.getState().subscription?.stop(),u.current.setState({subscription:void 0})}),[]);return(0,r.useEffect)((()=>{if(u.current.getState().subscription?.stop(),u.current.setState({...l.current,subscription:void 0}),i&&t.length>0&&d){if(u.current.getState().subscription)return;const e=o&&o.length>0?iu.fromRelayUrls(o,d):void 0,r=d.subscribe(t,n,e);r.on("event",(e=>{s&&void 0===e.author.profile?e.author.fetchProfile().then((()=>{u.current.setState((t=>({events:[...t.events,e]})))})):u.current.setState((t=>({events:[...t.events,e]})))})),r.on("eose",(()=>{u.current.setState({eose:!0}),n?.closeOnEose&&(r.stop(),u.current.setState({subscription:void 0}))})),u.current.setState({subscription:r})}return()=>{u.current.getState().subscription?.stop(),u.current.setState({...l.current,subscription:void 0})}}),[i,s,t,n,o,d]),{events:g,eose:f,isSubscribed:!!h,unSubscribe:y}},Wc=["wss://nostr.mom/"],Zc="/product/$PRODUCTNAME/$PRODUCTID",Gc=e=>{let{relays:t=[]}=e;const[n,i]=(0,r.useState)(new Pc({explicitRelayUrls:t.length?t:Wc}));return(0,r.useEffect)((()=>{n.connect()}),[n]),[n,i]},Qc=e=>{let{pubkey:t,tags:n,limit:i}=e;const o=(0,r.useMemo)((()=>n?[{kinds:[Ql.MarketProduct],authors:[t],limit:i,"#t":n.map((e=>{let[,t]=e;return t}))}]:[{kinds:[Ql.MarketProduct],authors:[t],limit:i}]),[i,t,n]),{events:s,eose:a}=Kc({filters:o,enabled:!!t,fetchProfiles:!1});return{events:s,productInfos:s.map((e=>JSON.parse(e.content))),eose:a}};var Yc=__webpack_require__(579);const Jc=e=>{let{children:t}=e;return(0,Yc.jsx)("div",{className:"bg-red-700 text-white p-4 rounded text-center",children:t})},Xc=(e,t,n)=>n?n.replace("$URL",e).replace("$WIDTH",String(t)):e,ed=()=>(0,Yc.jsxs)("svg",{className:"animate-spin h-7 w-7 text-light-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Yc.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Yc.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),td={WIDTH:340,PRODUCTURL:Zc},nd=e=>{let{product:t,productUrl:n=td.PRODUCTURL,showPrice:r,width:i=td.WIDTH,imageProxy:o}=e;return(0,Yc.jsxs)("a",{href:(s=n,a=t.id,l=t.name,s.replace("$PRODUCTID",a).replace("$PRODUCTNAME",encodeURI(l||""))),className:"grid grid-cols-1 gap-1",children:[(0,Yc.jsxs)("div",{className:"w-full relative aspect-[2/3] overflow-hidden",children:[(0,Yc.jsx)("div",{className:"absolute inset-0 flex justify-center items-center -z-1",children:(0,Yc.jsx)(ed,{})}),(0,Yc.jsx)("img",{src:Xc(t.images[0],i,o),width:i,className:"w-full h-full object-cover",alt:""}),!!t.images[1]&&(0,Yc.jsx)("img",{src:Xc(t.images[1],i,o),width:i,className:["object-cover w-full h-full absolute top-0","opacity-0 hover:opacity-100 transition-opacity duration-500"].join(" "),alt:""})]}),(0,Yc.jsxs)("div",{className:"px-2",children:[(0,Yc.jsx)("h3",{className:"text-xl font-bold",children:t.name}),r&&(0,Yc.jsxs)("div",{children:[t.currency,t.price]})]})]});var s,a,l},rd={LIMIT:8},id=e=>{let{pubkey:t="",productUrl:n,showPrice:r="true",limit:i=rd.LIMIT,imageProxy:o,relays:s=""}=e;const[a]=Gc({relays:s?s.split(","):void 0});qc(a);const{productInfos:l,eose:u}=Qc({pubkey:t,limit:Number(i)}),c=l.filter((e=>(null===e||void 0===e?void 0:e.quantity)>=0));return t?(0,Yc.jsxs)("div",{children:[(0,Yc.jsx)("div",{className:"flex overflow-x-auto relative gap-4 w-full snap-x",children:c.map((e=>(0,Yc.jsx)("div",{className:["snap-center flex-shrink-0 w-3/4 px-4","md:w-3/5","lg:px-1 lg:w-1/6"].join(" "),children:(0,Yc.jsx)(nd,{product:e,productUrl:n,showPrice:"true"===r,width:340,imageProxy:o})},e.id)))}),!u&&(0,Yc.jsx)("div",{className:"text-center",children:"Loading..."}),u&&0===c.length&&(0,Yc.jsx)("div",{className:"text-center",children:"No products found"})]}):(0,Yc.jsx)(Jc,{children:"Product Carousel: Missing attribute data-pubkey"})},od=e=>e.getBoundingClientRect().bottom<=window.innerHeight,sd=e=>{let{className:t}=e;return(0,Yc.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",className:t,children:(0,Yc.jsx)("path",{d:"M21 8L17.4392 9.97822C15.454 11.0811 14.4614 11.6326 13.4102 11.8488C12.4798 12.0401 11.5202 12.0401 10.5898 11.8488C9.53864 11.6326 8.54603 11.0811 6.5608 9.97822L3 8M6.2 19H17.8C18.9201 19 19.4802 19 19.908 18.782C20.2843 18.5903 20.5903 18.2843 20.782 17.908C21 17.4802 21 16.9201 21 15.8V8.2C21 7.0799 21 6.51984 20.782 6.09202C20.5903 5.71569 20.2843 5.40973 19.908 5.21799C19.4802 5 18.9201 5 17.8 5H6.2C5.0799 5 4.51984 5 4.09202 5.21799C3.71569 5.40973 3.40973 5.71569 3.21799 6.09202C3 6.51984 3 7.07989 3 8.2V15.8C3 16.9201 3 17.4802 3.21799 17.908C3.40973 18.2843 3.71569 18.5903 4.09202 18.782C4.51984 19 5.07989 19 6.2 19Z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})})},ad=e=>{let{className:t}=e;return(0,Yc.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 620 620",fill:"none",className:t,children:(0,Yc.jsx)("path",{d:"M457.468 262.483C469.349 344.787 384.156 362.202 335.143 360.68C331.996 360.582 329.03 362.114 327.171 364.655C322.101 371.586 313.996 380.549 307.739 380.549C300.712 380.549 294.388 394.063 291.504 402.47C291.201 403.353 292.069 404.167 292.957 403.879C370.58 378.675 401.039 370.03 414.161 372.46C424.754 374.421 444.567 409.885 453.149 427.372C431.816 428.598 424.705 409.476 419.801 406.044C415.877 403.299 414.406 415.85 414.161 422.469C409.502 420.018 403.617 416.586 403.126 406.044C402.636 395.503 397.241 398.2 393.073 398.69C388.904 399.18 324.904 419.772 315.341 422.469C305.778 425.166 294.743 428.843 285.671 435.216C270.467 442.571 260.659 437.423 257.962 424.92C255.804 414.918 269.814 384.145 277.088 370.008C268.097 373.358 249.428 380.157 246.682 380.549C244.019 380.93 210.235 407.011 192.169 421.181C191.115 422.008 190.437 423.219 190.194 424.536C187.304 440.241 178.078 444.637 162.084 452.867C149.214 459.49 104.263 528.566 81.1495 565.856C79.5513 568.434 77.2056 570.416 74.6869 572.106C60.0054 581.962 45.053 607.044 38.9885 619.32C30.3571 594.413 41.6041 572.988 48.3065 565.388C45.364 562.839 38.5798 564.326 35.5556 565.388C43.8927 536.706 73.0728 536.706 72.0919 536.706C77.4866 532.048 140.751 441.59 142.222 437.423C143.682 433.289 141.28 413.957 173.077 403.358C173.582 403.189 174.083 402.959 174.53 402.672C199.302 386.75 217.885 361.084 224.123 350.151C191.05 347.877 153.177 329.438 133.375 317.595C129.106 315.042 124.579 312.82 119.636 312.261C92.5231 309.192 65.3757 326.536 54.4368 336.423C49.9249 330.148 55.0089 311.909 58.1149 303.574C47.1295 302.005 30.9783 317.956 24.2759 326.127C17.0176 314.753 23.3768 294.422 27.4636 285.678C12.9471 286.071 3.106 292.706 0 295.975C12.0153 206.497 103.921 232.52 104.95 233.708C100.046 228.609 100.455 221.941 101.272 219.244C156.935 220.715 182.927 211.4 199.356 201.839C328.828 129.522 384.613 173.893 405.211 185.047C425.808 196.201 463.203 200.736 489.073 190.44C519.969 176.467 515.318 140.449 509.057 126.702C502.192 111.626 463.448 90.7882 449.716 64.4356C435.985 38.0831 447.95 6.03652 463.858 1.56985C479.014 -2.68593 489.838 2.26516 498.145 9.7683C503.684 14.7705 519.234 18.3484 525.732 20.6772C532.23 23.0061 543.019 26.0704 542.406 27.909C541.793 29.7476 531.39 29.5022 529.778 29.5022C526.467 29.5022 522.544 29.9925 526.467 31.8311C531.068 33.6968 538.013 36.4085 541.338 38.1936C541.77 38.4256 541.681 39.03 541.207 39.1574C518.642 45.2302 498.494 32.6994 483.555 47.1526C468.352 61.8612 500.72 73.1378 517.395 90.7882C534.069 108.439 551.234 129.521 537.502 177.569C526.871 214.767 482.316 246.393 459.302 258.764C457.979 259.476 457.253 260.996 457.468 262.483Z",fill:"#7B50C2"})})},ld=e=>{let{className:t}=e;return(0,Yc.jsx)("svg",{id:"svg",version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0, 0, 400,133.92857142857142",className:t,children:(0,Yc.jsxs)("g",{id:"svgg",children:[(0,Yc.jsx)("path",{id:"path0",d:"M48.500 2.917 L 48.500 5.833 42.417 5.833 L 36.333 5.833 36.333 8.917 L 36.333 12.000 30.250 12.000 L 24.167 12.000 24.167 15.000 L 24.167 18.000 21.083 18.000 L 18.000 18.000 18.000 21.000 L 18.000 24.000 15.000 24.000 L 12.000 24.000 12.000 27.080 L 12.000 30.159 8.958 30.205 L 5.917 30.250 5.874 39.292 L 5.830 48.333 2.915 48.333 L 0.000 48.333 0.000 66.833 L 0.000 85.333 2.917 85.333 L 5.833 85.333 5.833 94.333 L 5.833 103.333 8.913 103.333 L 11.993 103.333 12.038 106.458 L 12.083 109.583 15.042 109.629 L 18.000 109.674 18.000 112.671 L 18.000 115.667 21.083 115.667 L 24.167 115.667 24.167 118.667 L 24.167 121.667 30.250 121.667 L 36.333 121.667 36.333 124.667 L 36.333 127.667 42.417 127.667 L 48.500 127.667 48.500 130.667 L 48.500 133.667 69.917 133.667 L 91.333 133.667 91.333 130.667 L 91.333 127.667 97.500 127.667 L 103.667 127.667 103.667 124.667 L 103.667 121.667 109.833 121.667 L 116.000 121.667 116.000 118.667 L 116.000 115.667 119.000 115.667 L 122.000 115.667 122.000 112.667 L 122.000 109.667 125.000 109.667 L 128.000 109.667 128.000 106.500 L 128.000 103.333 131.000 103.333 L 134.000 103.333 134.000 94.337 L 134.000 85.341 137.125 85.295 L 140.250 85.250 140.292 66.792 L 140.335 48.333 137.167 48.333 L 134.000 48.333 134.000 39.250 L 134.000 30.167 131.000 30.167 L 128.000 30.167 128.000 27.083 L 128.000 24.000 125.000 24.000 L 122.000 24.000 122.000 21.000 L 122.000 18.000 119.004 18.000 L 116.008 18.000 115.962 15.042 L 115.917 12.083 109.792 12.040 L 103.667 11.996 103.667 8.915 L 103.667 5.833 97.500 5.833 L 91.333 5.833 91.333 2.917 L 91.333 0.000 69.917 0.000 L 48.500 0.000 48.500 2.917 M97.462 21.205 L 97.508 24.159 100.462 24.205 L 103.417 24.250 103.500 27.250 L 103.583 30.250 106.625 30.295 L 109.667 30.341 109.667 33.337 L 109.667 36.333 112.667 36.333 L 115.667 36.333 115.667 39.330 L 115.667 42.326 118.708 42.371 L 121.750 42.417 121.795 45.455 L 121.841 48.493 124.879 48.538 L 127.917 48.583 127.963 60.417 C 127.988 66.925,127.968 72.419,127.918 72.625 C 127.828 72.997,127.800 73.000,124.830 73.000 L 121.833 73.000 121.833 76.000 L 121.833 79.000 118.750 79.000 L 115.667 79.000 115.667 82.000 L 115.667 85.000 109.684 85.000 C 104.383 85.000,103.691 85.030,103.601 85.264 C 103.546 85.409,103.500 86.796,103.500 88.347 L 103.500 91.167 94.337 91.167 L 85.174 91.167 85.129 88.125 L 85.083 85.083 82.042 85.038 L 79.000 84.992 79.000 81.996 L 79.000 79.000 76.000 79.000 L 73.000 79.000 73.000 76.000 L 73.000 73.000 70.000 73.000 L 67.000 73.000 67.000 76.000 L 67.000 79.000 64.000 79.000 L 61.000 79.000 61.000 81.996 L 61.000 84.992 57.958 85.038 L 54.917 85.083 54.871 88.125 L 54.826 91.167 51.830 91.167 L 48.833 91.167 48.833 93.986 C 48.833 97.715,49.196 97.333,45.649 97.333 L 42.667 97.333 42.667 100.333 L 42.667 103.333 39.667 103.333 L 36.667 103.333 36.667 106.333 L 36.667 109.333 33.500 109.333 L 30.333 109.333 30.333 106.333 L 30.333 103.333 27.333 103.333 L 24.333 103.333 24.333 100.337 L 24.333 97.341 21.292 97.295 L 18.250 97.250 18.167 94.250 L 18.083 91.250 15.083 91.167 L 12.083 91.083 12.083 82.000 L 12.083 72.917 18.167 72.833 L 24.250 72.750 24.294 66.708 L 24.337 60.667 33.502 60.667 L 42.667 60.667 42.667 63.667 L 42.667 66.667 45.667 66.667 L 48.667 66.667 48.667 63.667 L 48.667 60.667 51.667 60.667 L 54.667 60.667 54.667 57.670 L 54.667 54.674 57.708 54.629 L 60.750 54.583 60.795 51.542 L 60.841 48.500 63.837 48.500 L 66.833 48.500 66.833 45.680 C 66.833 41.952,66.470 42.333,70.018 42.333 L 73.000 42.333 73.000 39.333 L 73.000 36.333 76.000 36.333 L 79.000 36.333 79.000 33.333 L 79.000 30.333 82.080 30.333 L 85.159 30.333 85.205 27.292 L 85.250 24.250 88.208 24.204 L 91.167 24.159 91.167 21.274 C 91.167 19.687,91.218 18.337,91.281 18.274 C 91.345 18.211,92.751 18.180,94.406 18.205 L 97.417 18.250 97.462 21.205 M193.833 37.083 L 193.833 55.500 196.833 55.500 L 199.833 55.500 199.833 58.500 L 199.833 61.500 203.167 61.500 L 206.500 61.500 206.500 58.250 L 206.500 55.000 203.417 55.000 L 200.333 55.000 200.333 36.833 L 200.333 18.667 197.083 18.667 L 193.833 18.667 193.833 37.083 M248.444 18.778 C 248.383 18.839,248.333 28.476,248.333 40.194 L 248.333 61.500 260.750 61.500 L 273.167 61.500 273.167 58.500 L 273.167 55.500 276.167 55.500 L 279.167 55.500 279.167 46.268 C 279.167 38.003,279.139 37.025,278.903 36.934 C 278.758 36.879,277.408 36.833,275.903 36.833 L 273.167 36.833 273.167 33.833 L 273.167 30.833 264.000 30.833 L 254.833 30.833 254.833 24.750 L 254.833 18.667 251.694 18.667 C 249.968 18.667,248.506 18.717,248.444 18.778 M321.167 21.917 L 321.167 25.167 324.333 25.167 L 327.500 25.167 327.500 21.917 L 327.500 18.667 324.333 18.667 L 321.167 18.667 321.167 21.917 M157.500 52.249 L 157.500 73.667 160.750 73.667 L 164.000 73.667 164.000 67.585 L 164.000 61.503 173.125 61.460 L 182.250 61.417 182.296 58.458 L 182.341 55.500 185.337 55.500 L 188.333 55.500 188.333 46.268 C 188.333 38.003,188.306 37.025,188.070 36.934 C 187.925 36.879,186.576 36.833,185.074 36.833 L 182.341 36.833 182.296 33.875 L 182.250 30.917 169.875 30.874 L 157.500 30.831 157.500 52.249 M218.167 33.829 L 218.167 36.826 215.208 36.871 L 212.250 36.917 212.207 46.208 L 212.164 55.500 215.165 55.500 L 218.167 55.500 218.167 58.500 L 218.167 61.500 230.417 61.500 L 242.667 61.500 242.667 58.250 L 242.667 55.000 230.667 55.000 L 218.667 55.000 218.667 52.167 L 218.667 49.333 230.669 49.333 L 242.671 49.333 242.627 43.125 L 242.583 36.917 239.625 36.871 L 236.667 36.826 236.667 33.829 L 236.667 30.833 227.417 30.833 L 218.167 30.833 218.167 33.829 M290.778 30.944 C 290.717 31.006,290.667 32.356,290.667 33.944 L 290.667 36.833 288.042 36.836 C 286.598 36.837,285.248 36.883,285.042 36.938 L 284.667 37.039 284.667 46.269 L 284.667 55.500 287.667 55.500 L 290.667 55.500 290.667 58.500 L 290.667 61.500 303.083 61.500 L 315.500 61.500 315.500 58.250 L 315.500 55.000 303.333 55.000 L 291.167 55.000 291.167 52.167 L 291.167 49.333 303.333 49.333 L 315.500 49.333 315.500 43.184 C 315.500 37.731,315.470 37.024,315.236 36.934 C 315.091 36.879,313.741 36.833,312.236 36.833 L 309.500 36.833 309.500 33.833 L 309.500 30.833 300.194 30.833 C 295.076 30.833,290.839 30.883,290.778 30.944 M321.167 46.167 L 321.167 61.500 324.333 61.500 L 327.500 61.500 327.500 46.167 L 327.500 30.833 324.333 30.833 L 321.167 30.833 321.167 46.167 M339.167 34.082 L 339.167 37.333 348.333 37.333 L 357.500 37.333 357.500 40.167 L 357.500 43.000 348.333 43.000 L 339.167 43.000 339.167 46.000 L 339.167 49.000 336.167 49.000 L 333.167 49.000 333.167 52.250 L 333.167 55.500 336.167 55.500 L 339.167 55.500 339.167 58.500 L 339.167 61.500 351.583 61.500 L 364.000 61.500 364.000 49.269 L 364.000 37.039 363.625 36.938 C 363.419 36.883,362.028 36.837,360.535 36.836 L 357.820 36.833 357.841 33.875 L 357.863 30.917 348.515 30.874 L 339.167 30.831 339.167 34.082 M369.500 46.166 L 369.500 61.500 372.750 61.500 L 376.000 61.500 376.000 49.417 L 376.000 37.333 384.833 37.333 L 393.667 37.333 393.667 49.417 L 393.667 61.500 396.833 61.500 L 400.000 61.500 400.000 49.167 L 400.000 36.833 397.087 36.833 L 394.174 36.833 394.129 33.875 L 394.083 30.917 381.792 30.874 L 369.500 30.831 369.500 46.166 M181.833 46.167 L 181.833 55.000 172.917 55.000 L 164.000 55.000 164.000 46.167 L 164.000 37.333 172.917 37.333 L 181.833 37.333 181.833 46.167 M236.333 40.167 L 236.333 43.000 227.500 43.000 L 218.667 43.000 218.667 40.167 L 218.667 37.333 227.500 37.333 L 236.333 37.333 236.333 40.167 M272.667 46.167 L 272.667 55.000 263.750 55.000 L 254.833 55.000 254.833 46.167 L 254.833 37.333 263.750 37.333 L 272.667 37.333 272.667 46.167 M309.000 40.167 L 309.000 43.000 300.083 43.000 L 291.167 43.000 291.167 40.167 L 291.167 37.333 300.083 37.333 L 309.000 37.333 309.000 40.167 M91.333 51.667 L 91.333 54.667 88.333 54.667 L 85.333 54.667 85.333 57.667 L 85.333 60.667 88.333 60.667 L 91.333 60.667 91.333 63.667 L 91.333 66.667 97.333 66.667 L 103.333 66.667 103.333 60.667 L 103.333 54.667 100.333 54.667 L 97.333 54.667 97.333 51.667 L 97.333 48.667 94.333 48.667 L 91.333 48.667 91.333 51.667 M357.500 52.167 L 357.500 55.000 348.583 55.000 L 339.667 55.000 339.667 52.167 L 339.667 49.333 348.583 49.333 L 357.500 49.333 357.500 52.167 M62.367 60.791 C 63.164 60.821,64.514 60.821,65.367 60.791 C 66.219 60.761,65.567 60.736,63.917 60.736 C 62.267 60.735,61.569 60.760,62.367 60.791 M60.902 63.833 C 60.902 65.438,60.927 66.094,60.957 65.292 C 60.988 64.490,60.988 63.177,60.957 62.375 C 60.927 61.573,60.902 62.229,60.902 63.833 M80.625 66.791 C 81.473 66.821,82.860 66.821,83.708 66.791 C 84.556 66.761,83.862 66.736,82.167 66.736 C 80.471 66.736,79.777 66.761,80.625 66.791 M85.244 69.958 L 85.250 72.917 88.250 72.923 L 91.250 72.929 88.295 72.877 L 85.341 72.826 85.290 69.913 L 85.238 67.000 85.244 69.958 M266.667 93.583 L 266.667 115.000 269.917 115.000 L 273.167 115.000 273.167 109.000 L 273.167 103.000 275.917 103.000 L 278.667 103.000 278.667 106.000 L 278.667 109.000 281.667 109.000 L 284.667 109.000 284.667 112.000 L 284.667 115.000 288.000 115.000 L 291.333 115.000 291.333 111.750 L 291.333 108.500 288.250 108.500 L 285.167 108.500 285.167 105.500 L 285.167 102.500 282.167 102.500 L 279.167 102.500 279.167 99.667 L 279.167 96.833 282.167 96.833 L 285.167 96.833 285.167 93.750 L 285.167 90.667 288.254 90.667 L 291.341 90.667 291.295 87.458 L 291.250 84.250 287.958 84.205 L 284.667 84.160 284.667 87.163 L 284.667 90.167 281.930 90.167 C 278.295 90.167,278.667 89.794,278.667 93.434 L 278.667 96.500 275.917 96.500 L 273.167 96.500 273.167 84.333 L 273.167 72.167 269.917 72.167 L 266.667 72.167 266.667 93.583 M106.583 72.833 L 103.583 72.928 106.532 72.964 C 108.357 72.986,109.520 72.937,109.583 72.833 C 109.640 72.742,109.663 72.683,109.635 72.702 C 109.607 72.722,108.233 72.781,106.583 72.833 M333.207 93.542 L 333.250 108.917 336.208 108.962 L 339.167 109.008 339.167 112.004 L 339.167 115.000 345.500 115.000 L 351.833 115.000 351.833 111.750 L 351.833 108.500 345.750 108.500 L 339.667 108.500 339.667 99.583 L 339.667 90.667 345.750 90.667 L 351.833 90.667 351.833 87.417 L 351.833 84.167 345.750 84.167 L 339.667 84.167 339.667 81.167 L 339.667 78.167 336.416 78.167 L 333.165 78.167 333.207 93.542 M157.577 84.374 C 157.533 84.489,157.517 91.408,157.540 99.750 L 157.583 114.917 160.792 114.962 L 164.000 115.007 164.000 102.837 L 164.000 90.667 169.917 90.667 L 175.833 90.667 175.833 102.837 L 175.833 115.007 179.042 114.962 L 182.250 114.917 182.293 102.792 L 182.336 90.667 188.251 90.667 L 194.167 90.667 194.167 102.833 L 194.167 115.000 197.333 115.000 L 200.500 115.000 200.500 102.684 C 200.500 91.608,200.473 90.359,200.236 90.268 C 200.091 90.212,198.743 90.167,197.240 90.167 L 194.508 90.167 194.462 87.208 L 194.417 84.250 176.037 84.208 C 161.421 84.174,157.640 84.208,157.577 84.374 M212.167 87.417 L 212.167 90.667 221.250 90.667 L 230.333 90.667 230.333 93.583 L 230.333 96.500 221.250 96.500 L 212.167 96.500 212.167 99.500 L 212.167 102.500 209.167 102.500 L 206.167 102.500 206.167 105.750 L 206.167 109.000 209.167 109.000 L 212.167 109.000 212.167 112.000 L 212.167 115.000 224.417 115.000 L 236.667 115.000 236.667 102.583 L 236.667 90.167 233.667 90.167 L 230.667 90.167 230.667 87.167 L 230.667 84.167 221.417 84.167 L 212.167 84.167 212.167 87.417 M248.444 84.278 C 248.383 84.339,248.333 85.687,248.333 87.274 L 248.333 90.159 245.375 90.204 L 242.417 90.250 242.374 102.625 L 242.331 115.000 245.582 115.000 L 248.833 115.000 248.833 102.833 L 248.833 90.667 254.917 90.667 L 261.000 90.667 261.000 87.417 L 261.000 84.167 254.778 84.167 C 251.356 84.167,248.506 84.217,248.444 84.278 M303.000 87.163 L 303.000 90.159 300.042 90.204 L 297.083 90.250 297.040 99.625 L 296.997 109.000 299.999 109.000 L 303.000 109.000 303.000 112.000 L 303.000 115.000 315.250 115.000 L 327.500 115.000 327.500 111.750 L 327.500 108.500 315.500 108.500 L 303.500 108.500 303.500 105.750 L 303.500 103.000 315.500 103.000 L 327.500 103.000 327.500 96.583 L 327.500 90.167 324.500 90.167 L 321.500 90.167 321.500 87.167 L 321.500 84.167 312.250 84.167 L 303.000 84.167 303.000 87.163 M321.167 93.583 L 321.167 96.500 312.333 96.500 L 303.500 96.500 303.500 93.583 L 303.500 90.667 312.333 90.667 L 321.167 90.667 321.167 93.583 M230.333 105.750 L 230.333 108.500 221.500 108.500 L 212.667 108.500 212.667 105.750 L 212.667 103.000 221.500 103.000 L 230.333 103.000 230.333 105.750 ",stroke:"none",fill:"#fb3bb3","fill-rule":"evenodd"}),(0,Yc.jsx)("path",{id:"path1",d:"M91.333 21.250 L 91.333 24.167 94.333 24.167 L 97.333 24.167 97.333 21.250 L 97.333 18.333 94.333 18.333 L 91.333 18.333 91.333 21.250 M85.333 27.333 L 85.333 30.333 88.250 30.333 L 91.167 30.333 91.167 27.333 L 91.167 24.333 88.250 24.333 L 85.333 24.333 85.333 27.333 M97.500 27.333 L 97.500 30.333 100.417 30.333 L 103.333 30.333 103.333 27.333 L 103.333 24.333 100.417 24.333 L 97.500 24.333 97.500 27.333 M79.282 30.441 C 79.218 30.504,79.167 31.856,79.167 33.444 L 79.167 36.333 82.171 36.333 L 85.174 36.333 85.129 33.375 L 85.083 30.417 82.240 30.371 C 80.676 30.346,79.345 30.377,79.282 30.441 M103.615 30.441 C 103.552 30.504,103.500 31.856,103.500 33.444 L 103.500 36.333 106.504 36.333 L 109.508 36.333 109.462 33.375 L 109.417 30.417 106.573 30.371 C 105.009 30.346,103.678 30.377,103.615 30.441 M73.111 36.611 C 73.050 36.672,73.000 37.983,73.000 39.525 C 73.000 42.858,72.631 42.533,76.333 42.464 L 78.917 42.417 78.962 39.458 L 79.008 36.500 76.115 36.500 C 74.524 36.500,73.172 36.550,73.111 36.611 M109.667 39.500 L 109.667 42.500 112.583 42.500 L 115.500 42.500 115.500 39.500 L 115.500 36.500 112.583 36.500 L 109.667 36.500 109.667 39.500 M67.000 45.583 L 67.000 48.500 70.000 48.500 L 73.000 48.500 73.000 45.583 L 73.000 42.667 70.000 42.667 L 67.000 42.667 67.000 45.583 M91.333 45.583 L 91.333 48.500 94.333 48.500 L 97.333 48.500 97.333 45.583 L 97.333 42.667 94.333 42.667 L 91.333 42.667 91.333 45.583 M115.667 45.583 L 115.667 48.500 118.667 48.500 L 121.667 48.500 121.667 45.583 L 121.667 42.667 118.667 42.667 L 115.667 42.667 115.667 45.583 M61.000 51.667 L 61.000 54.667 63.917 54.667 L 66.833 54.667 66.833 51.667 L 66.833 48.667 63.917 48.667 L 61.000 48.667 61.000 51.667 M85.333 51.667 L 85.333 54.667 88.250 54.667 L 91.167 54.667 91.167 51.667 L 91.167 48.667 88.250 48.667 L 85.333 48.667 85.333 51.667 M97.500 51.667 L 97.500 54.667 100.417 54.667 L 103.333 54.667 103.333 51.667 L 103.333 48.667 100.417 48.667 L 97.500 48.667 97.500 51.667 M121.833 60.750 L 121.833 72.833 124.750 72.833 L 127.667 72.833 127.667 60.750 L 127.667 48.667 124.750 48.667 L 121.833 48.667 121.833 60.750 M54.833 57.671 L 54.833 60.674 57.792 60.629 L 60.750 60.583 60.796 57.625 L 60.841 54.667 57.837 54.667 L 54.833 54.667 54.833 57.671 M79.333 57.667 L 79.333 60.667 82.250 60.667 L 85.167 60.667 85.167 57.667 L 85.167 54.667 82.250 54.667 L 79.333 54.667 79.333 57.667 M103.611 54.778 C 103.550 54.839,103.500 57.539,103.500 60.778 L 103.500 66.667 106.500 66.667 L 109.500 66.667 109.500 60.667 L 109.500 54.667 106.611 54.667 C 105.022 54.667,103.672 54.717,103.611 54.778 M48.778 60.778 C 48.717 60.839,48.667 62.189,48.667 63.778 L 48.667 66.667 51.750 66.667 L 54.833 66.667 54.833 63.930 C 54.833 62.425,54.788 61.075,54.732 60.930 C 54.627 60.656,49.043 60.513,48.778 60.778 M24.333 66.917 L 24.333 73.000 18.333 73.000 L 12.333 73.000 12.333 82.000 L 12.333 91.000 15.248 91.000 L 18.163 91.000 18.206 84.958 L 18.250 78.917 24.290 78.873 L 30.329 78.829 30.373 72.790 L 30.417 66.750 36.458 66.706 L 42.500 66.663 42.500 63.748 L 42.500 60.833 33.417 60.833 L 24.333 60.833 24.333 66.917 M85.333 63.750 L 85.333 66.667 88.250 66.667 L 91.167 66.667 91.167 63.750 L 91.167 60.833 88.250 60.833 L 85.333 60.833 85.333 63.750 M42.667 69.833 L 42.667 72.841 45.625 72.796 L 48.583 72.750 48.583 69.833 L 48.583 66.917 45.625 66.871 L 42.667 66.826 42.667 69.833 M67.000 69.829 L 67.000 72.833 70.004 72.833 L 73.008 72.833 72.962 69.875 L 72.917 66.917 69.958 66.871 L 67.000 66.826 67.000 69.829 M91.333 69.750 L 91.333 72.667 97.333 72.667 L 103.333 72.667 103.333 69.750 L 103.333 66.833 97.333 66.833 L 91.333 66.833 91.333 69.750 M61.000 75.917 L 61.000 78.833 63.917 78.833 L 66.833 78.833 66.833 75.917 L 66.833 73.000 63.917 73.000 L 61.000 73.000 61.000 75.917 M73.000 75.917 L 73.000 78.833 76.000 78.833 L 79.000 78.833 79.000 75.917 L 79.000 73.000 76.000 73.000 L 73.000 73.000 73.000 75.917 M115.667 75.917 L 115.667 78.833 118.667 78.833 L 121.667 78.833 121.667 75.917 L 121.667 73.000 118.667 73.000 L 115.667 73.000 115.667 75.917 M55.000 82.004 L 55.000 85.008 57.875 84.962 L 60.750 84.917 60.796 81.958 L 60.841 79.000 57.921 79.000 L 55.000 79.000 55.000 82.004 M79.204 81.958 L 79.250 84.917 82.208 84.962 L 85.167 85.008 85.167 82.004 L 85.167 79.000 82.163 79.000 L 79.159 79.000 79.204 81.958 M103.667 82.000 L 103.667 85.000 109.583 85.000 L 115.500 85.000 115.500 82.000 L 115.500 79.000 109.583 79.000 L 103.667 79.000 103.667 82.000 M48.833 88.083 L 48.833 91.000 51.750 91.000 L 54.667 91.000 54.667 88.083 L 54.667 85.167 51.750 85.167 L 48.833 85.167 48.833 88.083 M85.333 88.083 L 85.333 91.000 94.333 91.000 L 103.333 91.000 103.333 88.083 L 103.333 85.167 94.333 85.167 L 85.333 85.167 85.333 88.083 M18.333 94.171 L 18.333 97.174 21.292 97.129 L 24.250 97.083 24.296 94.125 L 24.341 91.167 21.337 91.167 L 18.333 91.167 18.333 94.171 M42.667 94.167 L 42.667 97.174 45.625 97.129 L 48.583 97.083 48.583 94.167 L 48.583 91.250 45.625 91.204 L 42.667 91.159 42.667 94.167 M24.333 100.250 L 24.333 103.167 27.333 103.167 L 30.333 103.167 30.333 100.250 L 30.333 97.333 27.333 97.333 L 24.333 97.333 24.333 100.250 M36.667 100.250 L 36.667 103.167 39.583 103.167 L 42.500 103.167 42.500 100.250 L 42.500 97.333 39.583 97.333 L 36.667 97.333 36.667 100.250 M30.538 106.292 L 30.583 109.250 33.500 109.250 L 36.417 109.250 36.462 106.292 L 36.508 103.333 33.500 103.333 L 30.492 103.333 30.538 106.292 ",stroke:"none",fill:"#460494","fill-rule":"evenodd"}),(0,Yc.jsx)("path",{id:"path2",d:"M91.333 33.330 L 91.333 36.326 94.375 36.371 L 97.417 36.417 97.462 39.371 L 97.508 42.326 100.462 42.371 L 103.417 42.417 103.500 45.417 L 103.583 48.417 106.583 48.500 L 109.583 48.583 109.626 60.712 L 109.669 72.841 112.626 72.796 L 115.583 72.750 115.627 66.708 L 115.671 60.667 118.585 60.667 L 121.500 60.667 121.500 54.667 L 121.500 48.667 118.500 48.667 L 115.500 48.667 115.500 45.667 L 115.500 42.667 112.518 42.667 C 108.974 42.667,109.333 43.035,109.333 39.407 L 109.333 36.674 106.375 36.629 L 103.417 36.583 103.371 33.568 L 103.326 30.553 98.803 30.443 C 96.315 30.383,93.616 30.333,92.806 30.333 L 91.333 30.333 91.333 33.330 M85.333 39.504 L 85.333 42.508 88.292 42.462 L 91.250 42.417 91.296 39.458 L 91.341 36.500 88.337 36.500 L 85.333 36.500 85.333 39.504 M79.278 42.611 C 79.217 42.672,79.167 44.022,79.167 45.611 L 79.167 48.500 82.167 48.500 L 85.167 48.500 85.167 45.500 L 85.167 42.500 82.278 42.500 C 80.689 42.500,79.339 42.550,79.278 42.611 M73.000 51.667 L 73.000 54.667 70.000 54.667 L 67.000 54.667 67.000 57.663 L 67.000 60.659 70.042 60.705 L 73.083 60.750 73.129 63.708 L 73.174 66.667 76.197 66.667 L 79.220 66.667 79.110 62.390 C 79.050 60.037,79.000 55.987,79.000 53.390 L 79.000 48.667 76.000 48.667 L 73.000 48.667 73.000 51.667 M61.000 63.750 L 61.000 66.667 64.000 66.667 L 67.000 66.667 67.000 63.750 L 67.000 60.833 64.000 60.833 L 61.000 60.833 61.000 63.750 M54.913 66.875 C 54.871 66.990,54.817 68.396,54.793 70.000 L 54.750 72.917 51.708 72.962 L 48.667 73.008 48.667 76.004 L 48.667 79.000 45.670 79.000 L 42.674 79.000 42.629 75.958 L 42.583 72.917 36.646 72.873 L 30.708 72.829 30.585 78.915 L 30.461 85.000 24.397 85.000 L 18.333 85.000 18.333 87.998 L 18.333 90.996 24.375 91.040 L 30.417 91.083 30.500 94.083 L 30.583 97.083 33.500 97.083 L 36.417 97.083 36.500 94.083 L 36.583 91.083 39.583 91.000 L 42.583 90.917 42.629 87.958 L 42.674 85.000 45.671 85.000 L 48.667 85.000 48.667 82.000 L 48.667 79.000 51.663 79.000 L 54.659 79.000 54.705 75.958 L 54.750 72.917 57.792 72.871 L 60.833 72.826 60.833 69.746 L 60.833 66.667 57.911 66.667 C 55.726 66.667,54.970 66.719,54.913 66.875 M79.240 67.048 C 79.195 67.166,79.179 68.497,79.204 70.006 L 79.250 72.750 82.208 72.796 L 85.167 72.841 85.167 69.837 L 85.167 66.833 82.245 66.833 C 80.015 66.833,79.303 66.884,79.240 67.048 M85.333 76.000 L 85.333 79.000 88.333 79.000 L 91.333 79.000 91.333 76.000 L 91.333 73.000 88.333 73.000 L 85.333 73.000 85.333 76.000 ",stroke:"none",fill:"#fbd315","fill-rule":"evenodd"}),(0,Yc.jsx)("path",{id:"path3",d:"M91.295 39.371 L 91.250 42.417 88.208 42.462 L 85.167 42.508 85.167 45.500 L 85.167 48.492 82.125 48.538 L 79.083 48.583 79.078 54.833 C 79.076 58.271,79.096 59.641,79.124 57.879 L 79.174 54.674 82.129 54.629 L 85.083 54.583 85.167 51.583 L 85.250 48.583 88.205 48.538 L 91.159 48.492 91.205 45.538 L 91.250 42.583 94.375 42.538 L 97.500 42.493 97.500 45.493 L 97.500 48.492 100.542 48.538 L 103.583 48.583 103.629 51.625 L 103.674 54.667 106.674 54.667 L 109.674 54.667 109.629 51.625 L 109.583 48.583 106.583 48.500 L 103.583 48.417 103.500 45.417 L 103.417 42.417 100.462 42.371 L 97.508 42.326 97.462 39.371 L 97.417 36.417 94.379 36.371 L 91.341 36.326 91.295 39.371 M103.442 36.542 C 103.485 36.610,104.826 36.667,106.423 36.667 L 109.325 36.667 109.377 39.500 L 109.429 42.334 109.423 39.458 L 109.417 36.583 106.391 36.500 C 104.726 36.454,103.399 36.473,103.442 36.542 M115.569 45.667 C 115.569 47.362,115.594 48.056,115.624 47.208 C 115.654 46.360,115.654 44.973,115.624 44.125 C 115.594 43.277,115.569 43.971,115.569 45.667 M121.500 54.667 L 121.500 60.667 118.585 60.667 L 115.671 60.667 115.627 66.708 L 115.583 72.750 109.542 72.897 L 103.500 73.043 103.500 75.938 L 103.500 78.833 109.496 78.833 L 115.492 78.833 115.538 75.875 L 115.583 72.917 118.625 72.871 L 121.667 72.826 121.667 60.746 C 121.667 54.102,121.629 48.667,121.583 48.667 C 121.537 48.667,121.500 51.367,121.500 54.667 M66.966 63.663 L 67.015 66.667 63.924 66.667 L 60.833 66.667 60.833 69.746 L 60.833 72.826 57.792 72.871 L 54.750 72.917 54.705 75.958 L 54.659 79.000 51.663 79.000 L 48.667 79.000 48.667 82.000 L 48.667 85.000 45.671 85.000 L 42.674 85.000 42.629 87.958 L 42.583 90.917 39.583 91.000 L 36.583 91.083 36.500 94.083 L 36.417 97.083 33.500 97.083 L 30.583 97.083 30.500 94.083 L 30.417 91.083 27.356 91.038 C 24.603 90.997,24.305 91.019,24.397 91.260 C 24.454 91.407,24.500 92.796,24.500 94.347 L 24.500 97.167 27.496 97.167 L 30.492 97.167 30.538 100.125 L 30.583 103.083 33.542 103.129 L 36.500 103.174 36.500 100.171 L 36.500 97.167 39.496 97.167 L 42.492 97.167 42.538 94.125 L 42.583 91.083 45.625 91.038 L 48.667 90.992 48.667 87.996 L 48.667 85.000 51.667 85.000 L 54.667 85.000 54.667 82.018 C 54.667 78.470,54.285 78.833,58.014 78.833 L 60.833 78.833 60.833 75.833 L 60.833 72.833 63.830 72.833 L 66.826 72.833 66.871 69.792 L 66.917 66.750 70.000 66.750 L 73.083 66.750 73.129 69.788 L 73.174 72.826 76.212 72.871 L 79.250 72.917 79.295 75.871 L 79.341 78.826 82.295 78.871 L 85.250 78.917 85.295 81.958 L 85.341 85.000 94.337 85.000 L 103.333 85.000 103.333 82.000 L 103.333 79.000 94.333 79.000 L 85.333 79.000 85.333 75.920 L 85.333 72.841 82.292 72.795 L 79.250 72.750 79.220 69.750 L 79.189 66.750 76.182 66.705 L 73.174 66.659 73.129 63.705 L 73.083 60.750 70.000 60.705 L 66.917 60.659 66.966 63.663 M30.569 76.000 C 30.569 77.696,30.594 78.390,30.624 77.542 C 30.654 76.694,30.654 75.306,30.624 74.458 C 30.594 73.610,30.569 74.304,30.569 76.000 M230.236 93.583 C 230.236 95.233,230.261 95.886,230.291 95.033 C 230.321 94.181,230.321 92.831,230.291 92.033 C 230.260 91.236,230.235 91.933,230.236 93.583 M230.235 105.750 C 230.235 107.308,230.260 107.968,230.291 107.217 C 230.321 106.465,230.321 105.190,230.291 104.383 C 230.260 103.577,230.235 104.192,230.235 105.750 ",stroke:"none",fill:"#f3831e","fill-rule":"evenodd"}),(0,Yc.jsx)("path",{id:"path4",d:"M91.333 27.333 L 91.333 30.333 94.333 30.333 L 97.333 30.333 97.333 27.333 L 97.333 24.333 94.333 24.333 L 91.333 24.333 91.333 27.333 M85.333 33.504 L 85.333 36.508 88.292 36.462 L 91.250 36.417 91.296 33.458 L 91.341 30.500 88.337 30.500 L 85.333 30.500 85.333 33.504 M357.902 34.000 C 357.902 35.604,357.927 36.260,357.957 35.458 C 357.988 34.656,357.988 33.344,357.957 32.542 C 357.927 31.740,357.902 32.396,357.902 34.000 M79.333 39.587 L 79.333 42.508 82.292 42.462 L 85.250 42.417 85.296 39.542 L 85.341 36.667 82.337 36.667 L 79.333 36.667 79.333 39.587 M73.204 45.625 L 73.250 48.583 76.167 48.583 L 79.083 48.583 79.129 45.625 L 79.174 42.667 76.167 42.667 L 73.159 42.667 73.204 45.625 M67.000 51.667 L 67.000 54.667 64.000 54.667 L 61.000 54.667 61.000 57.667 L 61.000 60.667 64.000 60.667 L 67.000 60.667 67.000 57.667 L 67.000 54.667 70.000 54.667 L 73.000 54.667 73.000 51.667 L 73.000 48.667 70.000 48.667 L 67.000 48.667 67.000 51.667 M55.000 63.750 L 55.000 66.667 57.917 66.667 L 60.833 66.667 60.833 63.750 L 60.833 60.833 57.917 60.833 L 55.000 60.833 55.000 63.750 M79.278 60.944 C 79.217 61.006,79.167 62.318,79.167 63.861 L 79.167 66.667 82.167 66.667 L 85.167 66.667 85.167 63.750 L 85.167 60.833 82.278 60.833 C 80.689 60.833,79.339 60.883,79.278 60.944 M85.333 69.833 L 85.333 72.833 88.250 72.833 L 91.167 72.833 91.167 69.833 L 91.167 66.833 88.250 66.833 L 85.333 66.833 85.333 69.833 M103.667 69.833 L 103.667 72.841 106.625 72.796 L 109.583 72.750 109.583 69.833 L 109.583 66.917 106.625 66.871 L 103.667 66.826 103.667 69.833 M30.667 69.917 L 30.667 72.833 36.583 72.833 L 42.500 72.833 42.500 69.917 L 42.500 67.000 36.583 67.000 L 30.667 67.000 30.667 69.917 M48.833 70.004 L 48.833 73.008 51.792 72.962 L 54.750 72.917 54.796 69.958 L 54.841 67.000 51.837 67.000 L 48.833 67.000 48.833 70.004 M42.667 76.000 L 42.667 79.000 45.667 79.000 L 48.667 79.000 48.667 76.000 L 48.667 73.000 45.667 73.000 L 42.667 73.000 42.667 76.000 M91.333 76.002 L 91.333 79.004 97.375 78.960 L 103.417 78.917 103.462 75.958 L 103.508 73.000 97.421 73.000 L 91.333 73.000 91.333 76.002 M18.333 82.002 L 18.333 85.004 24.375 84.960 L 30.417 84.917 30.462 81.958 L 30.508 79.000 24.421 79.000 L 18.333 79.000 18.333 82.002 ",stroke:"none",fill:"#fbfafa","fill-rule":"evenodd"}),(0,Yc.jsx)("path",{id:"path5",d:"M86.792 30.458 C 87.640 30.488,89.027 30.488,89.875 30.458 C 90.723 30.427,90.029 30.403,88.333 30.403 C 86.638 30.403,85.944 30.427,86.792 30.458 M82.208 36.458 L 79.167 36.508 79.167 39.500 L 79.167 42.492 76.125 42.538 L 73.083 42.583 73.038 45.625 C 73.013 47.298,73.050 48.667,73.121 48.667 C 73.192 48.667,73.228 47.317,73.201 45.667 L 73.152 42.667 76.243 42.667 L 79.333 42.667 79.333 39.667 L 79.333 36.667 82.333 36.667 C 84.222 36.667,85.333 36.605,85.333 36.500 C 85.333 36.408,85.315 36.350,85.292 36.371 C 85.269 36.392,83.881 36.431,82.208 36.458 M60.833 57.746 L 60.833 60.659 57.875 60.704 L 54.917 60.750 54.911 63.750 L 54.904 66.750 54.956 63.784 L 55.008 60.819 58.004 60.868 L 61.000 60.917 61.000 57.875 C 61.000 56.202,60.962 54.833,60.917 54.833 C 60.871 54.833,60.833 56.144,60.833 57.746 M79.166 60.792 C 79.166 60.860,80.085 60.897,81.208 60.873 C 84.929 60.794,85.288 60.731,82.208 60.699 C 80.535 60.681,79.167 60.723,79.166 60.792 M85.166 66.788 C 85.166 66.859,86.516 66.895,88.166 66.868 L 91.167 66.819 91.167 69.909 L 91.167 73.000 97.417 73.000 L 103.667 73.000 103.667 69.909 L 103.667 66.819 106.659 66.868 C 108.304 66.895,109.593 66.859,109.521 66.788 C 109.450 66.717,108.085 66.679,106.488 66.704 L 103.583 66.750 103.538 69.792 L 103.492 72.833 97.417 72.833 L 91.341 72.833 91.295 69.792 L 91.250 66.750 88.208 66.705 C 86.535 66.680,85.167 66.717,85.166 66.788 M30.538 69.875 L 30.575 72.917 30.625 69.958 L 30.674 67.000 36.583 67.000 L 42.492 67.000 42.542 70.042 L 42.591 73.083 42.629 69.958 L 42.667 66.833 36.583 66.833 L 30.500 66.833 30.538 69.875 M48.632 69.917 C 48.605 71.613,48.640 73.000,48.708 73.000 C 48.777 73.000,48.833 71.652,48.833 70.004 L 48.833 67.008 51.875 66.958 L 54.917 66.909 51.799 66.871 L 48.681 66.833 48.632 69.917 ",stroke:"none",fill:"#c58ad3","fill-rule":"evenodd"}),(0,Yc.jsx)("path",{id:"path6",d:"M91.242 24.377 C 91.196 24.497,91.181 25.905,91.208 27.506 L 91.258 30.417 91.296 27.375 L 91.333 24.333 94.330 24.333 L 97.326 24.333 97.377 27.375 L 97.429 30.417 97.423 27.333 L 97.417 24.250 94.371 24.205 C 91.984 24.169,91.308 24.206,91.242 24.377 M85.204 33.288 L 85.167 36.326 82.125 36.371 L 79.083 36.417 79.078 39.417 L 79.072 42.417 79.123 39.458 L 79.174 36.500 82.176 36.500 C 84.467 36.500,85.197 36.449,85.259 36.286 C 85.305 36.168,85.319 34.762,85.292 33.161 L 85.242 30.250 85.204 33.288 M66.907 48.714 C 66.862 48.832,66.848 50.238,66.875 51.839 L 66.925 54.750 66.963 51.712 L 67.000 48.674 70.042 48.625 L 73.083 48.575 70.036 48.538 C 67.681 48.509,66.971 48.549,66.907 48.714 M85.236 63.667 C 85.236 65.362,85.261 66.056,85.291 65.208 C 85.321 64.360,85.321 62.973,85.291 62.125 C 85.261 61.277,85.236 61.971,85.236 63.667 M33.636 66.791 C 35.315 66.819,38.015 66.819,39.636 66.791 C 41.257 66.764,39.883 66.742,36.583 66.742 C 33.283 66.742,31.957 66.764,33.636 66.791 M50.217 66.791 C 51.116 66.821,52.541 66.821,53.384 66.791 C 54.227 66.761,53.492 66.736,51.750 66.736 C 50.008 66.736,49.318 66.761,50.217 66.791 M103.444 66.778 C 103.383 66.839,103.333 68.188,103.333 69.776 L 103.333 72.663 97.292 72.708 L 91.250 72.754 97.368 72.794 L 103.486 72.833 103.535 69.750 C 103.561 68.054,103.577 66.666,103.569 66.666 C 103.562 66.667,103.506 66.717,103.444 66.778 M30.403 69.833 C 30.403 71.529,30.427 72.223,30.458 71.375 C 30.488 70.527,30.488 69.140,30.458 68.292 C 30.427 67.444,30.403 68.137,30.403 69.833 M44.033 72.957 C 44.831 72.988,46.181 72.988,47.033 72.958 C 47.886 72.927,47.233 72.902,45.583 72.902 C 43.933 72.902,43.236 72.927,44.033 72.957 M18.241 79.048 C 18.195 79.165,18.181 80.572,18.208 82.173 L 18.258 85.083 18.296 82.044 L 18.333 79.004 24.375 78.958 L 30.417 78.912 24.370 78.873 C 19.569 78.841,18.306 78.877,18.241 79.048 ",stroke:"none",fill:"#9e59bc","fill-rule":"evenodd"}),(0,Yc.jsx)("path",{id:"path7",d:"M100.371 30.458 L 103.326 30.508 103.371 33.462 L 103.417 36.417 106.417 36.500 L 109.417 36.583 109.500 39.583 L 109.583 42.583 112.583 42.589 L 115.583 42.595 112.629 42.544 L 109.674 42.493 109.629 39.455 L 109.583 36.417 106.542 36.371 L 103.500 36.326 103.500 33.330 L 103.500 30.333 100.458 30.371 L 97.417 30.408 100.371 30.458 M91.278 42.611 C 91.217 42.672,91.167 44.020,91.167 45.607 L 91.167 48.492 88.208 48.538 L 85.250 48.583 85.167 51.625 C 85.121 53.298,85.140 54.667,85.208 54.667 C 85.277 54.667,85.333 53.317,85.333 51.667 L 85.333 48.667 88.333 48.667 L 91.333 48.667 91.333 45.667 L 91.333 42.667 94.333 42.667 L 97.333 42.667 97.333 45.667 L 97.333 48.667 100.413 48.667 L 103.492 48.667 103.544 51.667 L 103.595 54.667 103.589 51.625 L 103.583 48.583 100.542 48.538 L 97.500 48.492 97.500 45.496 L 97.500 42.500 94.444 42.500 C 92.764 42.500,91.339 42.550,91.278 42.611 M117.125 48.624 C 117.973 48.654,119.360 48.654,120.208 48.624 C 121.056 48.594,120.362 48.569,118.667 48.569 C 116.971 48.569,116.277 48.594,117.125 48.624 M109.575 60.750 C 109.575 64.142,109.598 65.506,109.625 63.781 C 109.652 62.056,109.652 59.281,109.625 57.614 C 109.598 55.947,109.575 57.358,109.575 60.750 M66.948 66.774 C 66.885 66.837,66.833 68.226,66.833 69.861 L 66.833 72.833 63.833 72.833 L 60.833 72.833 60.833 75.829 L 60.833 78.826 57.875 78.875 L 54.917 78.925 57.958 78.962 L 61.000 79.000 61.000 76.000 L 61.000 73.000 64.000 73.000 L 67.000 73.000 67.000 69.917 L 67.000 66.833 70.000 66.833 L 73.000 66.833 73.000 69.917 L 73.000 73.000 76.083 73.000 L 79.167 73.000 79.167 76.000 L 79.167 79.000 82.163 79.000 L 85.159 79.000 85.210 81.958 L 85.261 84.917 85.256 81.917 L 85.250 78.917 82.295 78.871 L 79.341 78.826 79.295 75.871 L 79.250 72.917 76.212 72.871 L 73.174 72.826 73.129 69.788 L 73.083 66.750 70.073 66.705 C 68.417 66.680,67.011 66.711,66.948 66.774 M30.407 73.048 C 30.362 73.165,30.346 74.572,30.371 76.173 L 30.418 79.083 30.500 75.958 C 30.582 72.892,30.573 72.616,30.407 73.048 M115.611 72.944 C 115.550 73.006,115.500 74.355,115.500 75.942 L 115.500 78.829 109.458 78.873 L 103.417 78.917 103.411 81.958 L 103.405 85.000 103.456 82.000 L 103.508 79.000 109.587 79.000 L 115.667 79.000 115.667 76.004 L 115.667 73.008 118.708 72.958 L 121.750 72.909 118.736 72.871 C 117.078 72.850,115.672 72.883,115.611 72.944 M54.736 82.000 C 54.736 83.696,54.761 84.390,54.791 83.542 C 54.821 82.694,54.821 81.306,54.791 80.458 C 54.761 79.610,54.736 80.304,54.736 82.000 M18.244 88.125 L 18.250 91.083 21.250 91.089 L 24.250 91.095 21.295 91.044 L 18.341 90.993 18.290 88.079 L 18.238 85.166 18.244 88.125 M42.611 91.111 C 42.550 91.172,42.500 92.560,42.500 94.194 L 42.500 97.167 39.500 97.167 L 36.500 97.167 36.500 100.171 L 36.500 103.174 33.542 103.129 L 30.583 103.083 30.538 100.125 L 30.492 97.167 27.500 97.167 L 24.508 97.167 24.458 94.208 L 24.408 91.250 24.371 94.292 L 24.333 97.333 27.329 97.333 L 30.326 97.333 30.371 100.292 L 30.417 103.250 33.500 103.250 L 36.583 103.250 36.629 100.295 L 36.674 97.341 39.629 97.295 L 42.583 97.250 42.629 94.212 L 42.674 91.174 45.712 91.125 L 48.750 91.075 45.736 91.038 C 44.078 91.017,42.672 91.050,42.611 91.111 ",stroke:"none",fill:"#b14b6c","fill-rule":"evenodd"}),(0,Yc.jsx)("path",{id:"path8",d:"M91.281 18.274 C 91.218 18.337,91.167 19.687,91.167 21.274 L 91.167 24.159 88.208 24.204 L 85.250 24.250 85.167 27.359 C 85.121 29.070,85.140 30.434,85.208 30.391 C 85.277 30.349,85.333 28.968,85.333 27.323 L 85.333 24.333 88.333 24.333 L 91.333 24.333 91.333 21.333 L 91.333 18.333 94.333 18.333 L 97.333 18.333 97.333 21.333 L 97.333 24.333 100.333 24.333 L 103.333 24.333 103.333 27.323 C 103.333 28.968,103.390 30.349,103.458 30.391 C 103.587 30.471,103.547 24.748,103.417 24.375 C 103.362 24.219,102.610 24.167,100.426 24.167 L 97.508 24.167 97.462 21.208 L 97.417 18.250 94.406 18.205 C 92.751 18.180,91.345 18.211,91.281 18.274 M79.000 33.333 L 79.000 36.333 76.000 36.333 C 74.350 36.333,73.000 36.390,73.000 36.458 C 73.000 36.527,74.384 36.561,76.076 36.535 L 79.153 36.486 79.201 33.409 C 79.228 31.717,79.194 30.333,79.125 30.333 C 79.056 30.333,79.000 31.683,79.000 33.333 M109.465 33.416 L 109.514 36.500 112.503 36.500 L 115.492 36.500 115.538 39.542 L 115.583 42.583 118.625 42.629 L 121.667 42.674 121.667 60.750 L 121.667 78.826 118.625 78.871 L 115.583 78.917 115.578 81.917 L 115.572 84.917 115.623 81.958 L 115.674 79.000 118.754 79.000 L 121.833 79.000 121.833 76.000 L 121.833 73.000 124.830 73.000 C 127.800 73.000,127.828 72.997,127.918 72.625 C 127.968 72.419,127.988 66.925,127.963 60.417 L 127.917 48.583 124.879 48.538 L 121.841 48.493 121.795 45.455 L 121.750 42.417 118.708 42.371 L 115.667 42.326 115.667 39.330 L 115.667 36.333 112.667 36.333 L 109.667 36.333 109.667 33.333 C 109.667 31.683,109.610 30.333,109.542 30.333 C 109.473 30.333,109.439 31.721,109.465 33.416 M66.934 42.597 C 66.879 42.742,66.833 44.129,66.833 45.680 L 66.833 48.500 63.840 48.500 L 60.848 48.500 60.799 51.584 C 60.772 53.279,60.806 54.667,60.875 54.667 C 60.944 54.667,61.000 53.317,61.000 51.667 L 61.000 48.667 64.000 48.667 L 67.000 48.667 67.000 45.667 L 67.000 42.667 69.958 42.664 C 71.585 42.663,73.029 42.589,73.167 42.500 C 73.333 42.393,72.348 42.338,70.226 42.336 C 67.469 42.334,67.022 42.369,66.934 42.597 M91.242 48.710 C 91.196 48.830,91.181 50.238,91.208 51.839 L 91.258 54.750 91.296 51.708 L 91.333 48.667 94.330 48.667 L 97.326 48.667 97.377 51.708 L 97.429 54.750 97.423 51.667 L 97.417 48.583 94.371 48.538 C 91.984 48.502,91.308 48.540,91.242 48.710 M103.369 57.625 L 103.333 66.667 97.333 66.667 L 91.333 66.667 91.333 63.667 L 91.333 60.667 88.337 60.667 L 85.341 60.667 85.289 57.625 L 85.238 54.583 85.244 57.667 L 85.250 60.750 88.205 60.795 L 91.159 60.841 91.205 63.795 L 91.250 66.750 97.371 66.794 L 103.492 66.837 103.538 60.794 C 103.563 57.470,103.543 53.362,103.494 51.667 C 103.441 49.831,103.391 52.242,103.369 57.625 M127.667 60.750 L 127.667 72.833 124.750 72.833 L 121.833 72.833 121.833 60.750 L 121.833 48.667 124.750 48.667 L 127.667 48.667 127.667 60.750 M54.736 57.833 C 54.736 59.621,54.761 60.352,54.791 59.458 C 54.821 58.565,54.821 57.102,54.791 56.208 C 54.761 55.315,54.736 56.046,54.736 57.833 M79.235 57.750 C 79.235 59.308,79.260 59.968,79.291 59.217 C 79.321 58.465,79.321 57.190,79.291 56.383 C 79.260 55.577,79.235 56.192,79.235 57.750 M33.375 60.792 L 42.500 60.836 42.500 63.828 L 42.500 66.819 45.584 66.868 C 47.279 66.895,48.667 66.860,48.667 66.792 C 48.667 66.723,47.317 66.667,45.667 66.667 L 42.667 66.667 42.667 63.667 L 42.667 60.667 33.458 60.707 L 24.250 60.747 33.375 60.792 M18.167 72.830 L 12.083 72.917 12.083 82.000 L 12.083 91.083 15.083 91.167 L 18.083 91.250 18.167 94.250 L 18.250 97.250 21.292 97.295 C 22.965 97.320,24.333 97.283,24.334 97.212 C 24.334 97.141,22.984 97.105,21.334 97.132 L 18.333 97.181 18.333 94.091 L 18.333 91.000 15.333 91.000 L 12.333 91.000 12.333 82.000 L 12.333 73.000 18.333 73.000 C 22.222 73.000,24.333 72.941,24.333 72.833 C 24.333 72.742,24.315 72.684,24.292 72.705 C 24.269 72.726,21.512 72.783,18.167 72.830 M66.944 72.944 C 66.883 73.006,66.833 74.354,66.833 75.941 L 66.833 78.826 63.875 78.871 L 60.917 78.917 60.833 81.959 C 60.788 83.632,60.806 85.000,60.875 85.000 C 60.944 85.000,61.000 83.650,61.000 82.000 L 61.000 79.000 64.000 79.000 L 67.000 79.000 67.000 76.004 L 67.000 73.008 70.042 72.958 L 73.083 72.909 70.069 72.871 C 68.412 72.850,67.006 72.883,66.944 72.944 M79.036 75.871 L 79.000 78.826 75.958 78.875 L 72.917 78.925 75.958 78.962 L 79.000 79.000 79.000 82.000 C 79.000 83.650,79.056 85.000,79.125 85.000 C 79.239 85.000,79.236 80.255,79.119 75.000 C 79.080 73.261,79.066 73.405,79.036 75.871 M54.833 81.972 L 54.833 85.000 51.875 85.037 L 48.917 85.075 51.792 85.125 L 54.667 85.175 54.667 88.087 L 54.667 91.000 51.750 91.000 L 48.833 91.000 48.811 88.125 C 48.798 86.544,48.759 85.400,48.724 85.583 C 48.689 85.767,48.643 88.429,48.622 91.500 L 48.583 97.083 45.542 97.129 L 42.500 97.174 42.500 100.170 L 42.500 103.167 39.507 103.167 L 36.514 103.167 36.465 106.250 C 36.439 107.946,36.473 109.334,36.542 109.334 C 36.610 109.333,36.667 107.983,36.667 106.333 L 36.667 103.333 39.667 103.333 L 42.667 103.333 42.667 100.333 L 42.667 97.333 45.649 97.333 C 49.196 97.333,48.833 97.715,48.833 93.986 L 48.833 91.167 51.813 91.167 L 54.793 91.167 54.917 85.159 C 54.985 81.855,54.994 79.105,54.937 79.048 C 54.880 78.991,54.833 80.307,54.833 81.972 M103.513 81.958 L 103.500 85.000 94.292 85.000 L 85.083 85.000 85.132 88.083 L 85.181 91.167 94.321 91.167 L 103.461 91.167 103.584 85.269 C 103.652 82.025,103.666 79.269,103.617 79.144 C 103.567 79.019,103.520 80.285,103.513 81.958 M103.333 88.083 L 103.333 91.000 94.333 91.000 L 85.333 91.000 85.333 88.083 L 85.333 85.167 94.333 85.167 L 103.333 85.167 103.333 88.083 M27.292 103.291 L 30.333 103.341 30.333 106.337 C 30.333 107.985,30.390 109.333,30.458 109.334 C 30.527 109.334,30.561 107.946,30.535 106.250 L 30.486 103.167 27.368 103.204 L 24.250 103.242 27.292 103.291 ",stroke:"none",fill:"#a41ca4","fill-rule":"evenodd"})]})})},ud="flex justify-center w-full bg-dark-2 border border-highlight-1 p-3 rounded text-xl text-light-1",cd=e=>{let{productId:t,npub:n,url:r,enabled:i=!1}=e;if(!i)return(0,Yc.jsx)("h3",{children:"Out of stock"});const o=r?"grid-cols-3":"grid-cols-2";return(0,Yc.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[(0,Yc.jsx)("h3",{className:"text-xl",children:"Get in touch:"}),(0,Yc.jsxs)("div",{className:`grid gap-2 ${o}`,children:[(0,Yc.jsx)("a",{href:`https://njump.me/${n}`,target:"_blank",className:ud,rel:"noreferrer",children:(0,Yc.jsx)(ad,{className:"h-10"})}),(0,Yc.jsx)("a",{href:`https://plebeian.market/product/${t}`,target:"_blank",className:ud,rel:"noreferrer",children:(0,Yc.jsx)(ld,{className:"h-10 text-light-1 fill-light-1"})}),!!r&&(0,Yc.jsx)("a",{href:r,target:"_blank",className:ud,rel:"noreferrer",children:(0,Yc.jsx)(sd,{className:"h-10 stroke-light-1"})})]})]})},dd=()=>(0,Yc.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Yc.jsx)("path",{d:"M9.71069 18.2929C10.1012 18.6834 10.7344 18.6834 11.1249 18.2929L16.0123 13.4006C16.7927 12.6195 16.7924 11.3537 16.0117 10.5729L11.1213 5.68254C10.7308 5.29202 10.0976 5.29202 9.70708 5.68254C9.31655 6.07307 9.31655 6.70623 9.70708 7.09676L13.8927 11.2824C14.2833 11.6729 14.2833 12.3061 13.8927 12.6966L9.71069 16.8787C9.32016 17.2692 9.32016 17.9023 9.71069 18.2929Z",fill:"#0F0F0F"})}),hd=()=>(0,Yc.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Yc.jsx)("path",{d:"M14.2893 5.70708C13.8988 5.31655 13.2657 5.31655 12.8751 5.70708L7.98768 10.5993C7.20729 11.3805 7.2076 12.6463 7.98837 13.427L12.8787 18.3174C13.2693 18.7079 13.9024 18.7079 14.293 18.3174C14.6835 17.9269 14.6835 17.2937 14.293 16.9032L10.1073 12.7175C9.71678 12.327 9.71678 11.6939 10.1073 11.3033L14.2893 7.12129C14.6799 6.73077 14.6799 6.0976 14.2893 5.70708Z",fill:"#0F0F0F"})}),fd=["w-12 h-12 flex justify-center items-center bg-transparent rounded-full text-dark-1 pe-auto","backdrop-blur-md backdrop-brightness-110"].join(" "),pd=e=>{let{images:t}=e;const n=(0,r.useRef)(null),[i,o]=(0,r.useState)(!1),[s,a]=(0,r.useState)(!0),l=()=>{if(n.current){const{scrollLeft:e,clientWidth:t,scrollWidth:r}=n.current;o(e>0),a(e+t<r)}};return(0,r.useEffect)((()=>{const e=n.current;return null===e||void 0===e||e.addEventListener("scroll",l),()=>{null===e||void 0===e||e.removeEventListener("scroll",l)}}),[]),(0,Yc.jsxs)("div",{className:"relative",children:[(0,Yc.jsx)("div",{className:"relative overflow-x-auto snap-x snap-mandatory",ref:n,children:(0,Yc.jsx)("div",{className:"flex space-x-4",children:t.map((e=>(0,Yc.jsx)("div",{className:"snap-start flex-shrink-0 w-full",children:(0,Yc.jsx)("img",{src:e,alt:"",className:"w-full h-auto"})},e)))})}),t.length>1&&(0,Yc.jsx)(Yc.Fragment,{children:(0,Yc.jsxs)("div",{className:"absolute inset-0 flex justify-between items-center p-4 pe-none",children:[(0,Yc.jsx)("button",{disabled:!i,onClick:()=>{n.current&&n.current.scrollBy({left:-n.current.clientWidth,behavior:"smooth"})},className:[fd,i?"":"opacity-30"].join(" "),children:(0,Yc.jsx)(hd,{})}),(0,Yc.jsx)("button",{disabled:!s,onClick:()=>{n.current&&n.current.scrollBy({left:n.current.clientWidth,behavior:"smooth"})},className:[fd,s?"":"opacity-30"].join(" "),children:(0,Yc.jsx)(dd,{})})]})})]})},gd=e=>{let{tags:t}=e;return(0,Yc.jsx)("div",{className:"flex flex-row gap-1 flex-wrap",children:t.filter((e=>"t"===e[0])).map((e=>{let[,t]=e;return(0,Yc.jsx)("a",{className:"px-2 py-1 text-xs bg-light-1 text-dark-1 rounded cursor-pointer",href:`/shop?tags=${t}`,children:t},t)}))})},yd=e=>{let{price:t,currency:n,showPrice:r,priceInfo:i}=e;if(!r&&!i)return(0,Yc.jsx)(Yc.Fragment,{});let o=n+t;return i&&(o=`${i}: ${o}`),(0,Yc.jsx)("div",{className:"text-xl italic",children:r?o:i})},md={PLACEHOLDER_TAGS:[["t","\xa0\xa0\xa0"],["t","\xa0\xa0\xa0\xa0\xa0\xa0"],["t","\xa0\xa0\xa0\xa0"],["t","\xa0\xa0\xa0\xa0\xa0"]],PRODUCTURL:Zc},wd=e=>{let{id:t="",productUrl:n=md.PRODUCTURL,showPrice:i="true",priceInfo:o,addToCartUrl:s,relays:a=""}=e;const[l]=Gc({relays:a?a.split(","):void 0}),u=t||((e,t)=>{var n;const r=t.replace(/\$/gu,"\\$").replace(/\./gu,"\\.").replace(/\//gu,"\\/").replace(/\?/gu,"\\?").replace(/\\\$PRODUCTNAME/gu,"([^/=&]+)").replace(/\\\$PRODUCTID/gu,"(?<productId>[a-zA-Z0-9-]+)"),i=new RegExp(r,"u"),{productId:o}=(null===(n=i.exec(e))||void 0===n?void 0:n.groups)||{productId:void 0};return o})(window.location.href,n)||"";qc(l);const c=(0,r.useRef)(null),[d,h]=(0,r.useState)(!0),f=(0,r.useCallback)((()=>{c.current&&(d&&od(c.current)&&h(!1),d||od(c.current)||h(!0))}),[d]);(0,r.useEffect)((()=>(window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)})),[f]);const{event:p,content:g,eose:y}=(e=>{let{productId:t}=e;const n=(0,r.useMemo)((()=>[{kinds:[Ql.MarketProduct],"#d":[t]}]),[t]),{events:i,eose:o}=Kc({filters:n,enabled:!!t,fetchProfiles:!1}),s=i[0];return{event:s,content:s?JSON.parse(s.content):void 0,eose:o}})({productId:u});if(!u)return(0,Yc.jsx)(Jc,{children:"Product Detail: Missing attribute data-id"});const m=!p||!g,w=s&&g?((e,t,n)=>e.replace("$PRODUCTID",t).replace("$PRODUCTNAME",n||""))(s,null===g||void 0===g?void 0:g.id,g.name):void 0;return(0,Yc.jsx)("div",{className:"flex justify-center",children:(0,Yc.jsxs)("div",{className:"max-w-[1600px] w-full",children:[(0,Yc.jsxs)("div",{className:"grid gap-4 items-start lg:grid-cols-2",children:[(0,Yc.jsxs)("div",{className:"relative w-full aspect-[3/4]",children:[(0,Yc.jsx)("div",{className:"flex absolute inset-0 justify-center items-center",children:(0,Yc.jsx)(ed,{})}),(0,Yc.jsx)("div",{className:"relative z-1",children:!m&&(0,Yc.jsx)(pd,{images:g.images})})]}),(0,Yc.jsxs)("div",{className:"grid grid-cols-1 gap-4 p-4 lg:p-0",children:[m?(0,Yc.jsx)("div",{className:"w-1/2 text-4xl rounded-full animate-pulse bg-light-1",children:"\xa0"}):(0,Yc.jsx)("h1",{className:"text-4xl",children:g.name}),(0,Yc.jsx)("div",{className:"grid grid-cols-1 gap-2",children:m?(0,Yc.jsxs)(Yc.Fragment,{children:[(0,Yc.jsx)("div",{className:"w-1/3 text-xl rounded-full animate-pulse bg-light-1",children:"\xa0"}),(0,Yc.jsxs)("div",{className:"grid grid-cols-1 gap-1 w-1/4",children:[(0,Yc.jsx)("div",{className:"text-xl rounded-full animate-pulse bg-light-1"}),(0,Yc.jsx)("div",{className:"rounded-full animate-pulse bg-light-1",children:"\xa0"}),(0,Yc.jsx)("div",{className:"rounded-full animate-pulse bg-light-1",children:"\xa0"})]})]}):(0,Yc.jsxs)(Yc.Fragment,{children:[(0,Yc.jsx)(yd,{price:g.price,currency:g.currency,showPrice:"true"===i,priceInfo:o}),(0,Yc.jsxs)("div",{children:[(0,Yc.jsx)("h2",{className:"text-xl font-bold",children:"Shipping"}),g.shipping.sort(((e,t)=>e.cost-t.cost)).map((e=>(0,Yc.jsxs)("div",{className:"capitalize",children:[(e.id||"National").toLowerCase(),": ",g.currency,e.cost]},e.id)))]})]})}),m?(0,Yc.jsxs)("div",{className:"grid grid-cols-1 gap-1",children:[(0,Yc.jsx)("div",{className:"rounded-full animate-pulse bg-light-1",children:"\xa0"}),(0,Yc.jsx)("div",{className:"rounded-full animate-pulse bg-light-1",children:"\xa0"}),(0,Yc.jsx)("div",{className:"rounded-full animate-pulse bg-light-1",children:"\xa0"})]}):(0,Yc.jsx)("div",{children:g.description}),m?(0,Yc.jsx)("div",{className:"animate-pulse",children:(0,Yc.jsx)(gd,{tags:md.PLACEHOLDER_TAGS})}):(0,Yc.jsx)(gd,{tags:p.tags}),(0,Yc.jsx)("div",{ref:c,children:!!g&&(0,Yc.jsx)(cd,{productId:g.id,npub:null===p||void 0===p?void 0:p.author.npub,url:w,enabled:!!g.quantity})})]}),(0,Yc.jsx)("div",{className:["grid lg:hidden bottom-0 left-0 right-0 p-4 bg-dark-2 shadow-all",d?"fixed":"hidden"].join(" "),children:g&&(0,Yc.jsx)(cd,{enabled:!!g.quantity,productId:g.id,npub:null===p||void 0===p?void 0:p.author.npub,url:w})})]}),!y&&(0,Yc.jsx)("div",{children:"Loading..."})]})})},bd=e=>{let{pubkey:t="",productUrl:n,tags:i,imageProxy:o,showPrice:s="true",relays:a=""}=e;const[l]=Gc({relays:a?a.split(","):void 0}),[u]=(0,r.useState)(i||(e=>{const t=new URL(e).searchParams.get("tags");if(t)return t.split(",").map((e=>e.trim())).map((e=>["#t",e]))})(window.location.href));qc(l);const{productInfos:c,eose:d}=Qc({pubkey:t,tags:u}),h=c.filter((e=>(null===e||void 0===e?void 0:e.quantity)>=0));return t?(0,Yc.jsxs)("div",{children:[(0,Yc.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:h.map((e=>(0,Yc.jsx)(nd,{product:e,productUrl:n,width:400,showPrice:"true"===s,imageProxy:o},e.id)))}),!d&&(0,Yc.jsx)("div",{className:"text-center",children:"Loading..."}),d&&0===h.length&&(0,Yc.jsx)("div",{className:"text-center",children:"No products found"})]}):(0,Yc.jsx)(Jc,{children:"Product List: Missing attribute data-pubkey"})};Array.from(document.getElementsByClassName("nostr-product-carousel")).forEach((e=>{n.createRoot(e).render((0,Yc.jsx)(id,{...e.dataset}))}));Array.from(document.getElementsByClassName("nostr-product-list")).forEach((e=>{n.createRoot(e).render((0,Yc.jsx)(bd,{...e.dataset}))}));Array.from(document.getElementsByClassName("nostr-product-detail")).forEach((e=>{n.createRoot(e).render((0,Yc.jsx)(wd,{...e.dataset}))}))})()})();
//# sourceMappingURL=main.8497b3ca.js.map